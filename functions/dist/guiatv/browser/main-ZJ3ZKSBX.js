import{a as ln}from"./chunk-Z3SQ7PMK.js";import{a as sn}from"./chunk-TJ3NS6MJ.js";import"./chunk-62JEKUVK.js";import{a as E,b as te,e as Yi,f as Vt,i as Te,j as it,k as Be,l as st,m as at,n as lt,o as ct,p as qt,q as Qt,r as Zt,s as Wt}from"./chunk-A42VBSWQ.js";import"./chunk-LLA7IPDL.js";import{b as an}from"./chunk-LVYFRCIN.js";import{a as ae}from"./chunk-SR25SAAB.js";import{A as nt,D as Xi,J as en,K as tn,L as nn,M as rn,N as rt,O as Gt,P as Ut,Q as Kt,R as Ht,S as xe,T as Q,U as je,V as ot,W as ke,X as on,d as Ui,e as Ki,j as et,m as Hi,n as qi,o as tt,p as se,q as Qi,r as Zi,v as Wi,w as Bt,x as jt,z as Ji}from"./chunk-PVUOKLCY.js";import{$ as T,B as Ri,Cb as zt,F as Fi,Fb as de,Gb as m,H as R,Hb as h,Ia as Vi,Ib as w,Ja as Rt,Lb as Ne,Pb as pe,Qb as J,Ya as Ft,Z as Li,_ as ce,a as Y,ab as F,b as Je,ba as O,c as Di,cc as v,db as Bi,dc as $t,ec as Me,fa as P,fb as Lt,ga as Ee,ib as ji,j as Ni,k as xi,la as he,ma as ge,mb as fe,na as j,oa as ee,p as C,qa as zi,ra as $i,rb as Ve,u as ki,ub as Gi,v as V,va as Xe}from"./chunk-3OE6TCCL.js";function cn(o){return new T(3e3,!1)}function Sr(){return new T(3100,!1)}function Er(){return new T(3101,!1)}function Mr(o){return new T(3001,!1)}function Tr(o){return new T(3003,!1)}function wr(o){return new T(3004,!1)}function un(o,t){return new T(3005,!1)}function mn(){return new T(3006,!1)}function hn(){return new T(3007,!1)}function gn(o,t){return new T(3008,!1)}function fn(o){return new T(3002,!1)}function pn(o,t,i,e,n){return new T(3010,!1)}function yn(){return new T(3011,!1)}function vn(){return new T(3012,!1)}function bn(){return new T(3200,!1)}function _n(){return new T(3202,!1)}function Sn(){return new T(3013,!1)}function En(o){return new T(3014,!1)}function Mn(o){return new T(3015,!1)}function Tn(o){return new T(3016,!1)}function wn(o,t){return new T(3404,!1)}function Cr(o){return new T(3502,!1)}function Cn(o){return new T(3503,!1)}function Pn(){return new T(3300,!1)}function In(o){return new T(3504,!1)}function An(o){return new T(3301,!1)}function On(o,t){return new T(3302,!1)}function Dn(o){return new T(3303,!1)}function Nn(o,t){return new T(3400,!1)}function xn(o){return new T(3401,!1)}function kn(o){return new T(3402,!1)}function Rn(o,t){return new T(3505,!1)}function ue(o){switch(o.length){case 0:return new Te;case 1:return o[0];default:return new it(o)}}function ei(o,t,i=new Map,e=new Map){let n=[],r=[],s=-1,a=null;if(t.forEach(l=>{let c=l.get("offset"),d=c==s,u=d&&a||new Map;l.forEach((S,_)=>{let f=_,b=S;if(_!=="offset")switch(f=o.normalizePropertyName(f,n),b){case Be:b=i.get(_);break;case te:b=e.get(_);break;default:b=o.normalizeStyleValue(_,f,b,n);break}u.set(f,b)}),d||r.push(u),a=u,s=c}),n.length)throw Cr(n);return r}function dt(o,t,i,e){switch(t){case"start":o.onStart(()=>e(i&&Yt(i,"start",o)));break;case"done":o.onDone(()=>e(i&&Yt(i,"done",o)));break;case"destroy":o.onDestroy(()=>e(i&&Yt(i,"destroy",o)));break}}function Yt(o,t,i){let e=i.totalTime,n=!!i.disabled,r=ut(o.element,o.triggerName,o.fromState,o.toState,t||o.phaseName,e??o.totalTime,n),s=o._data;return s!=null&&(r._data=s),r}function ut(o,t,i,e,n="",r=0,s){return{element:o,triggerName:t,fromState:i,toState:e,phaseName:n,totalTime:r,disabled:!!s}}function G(o,t,i){let e=o.get(t);return e||o.set(t,e=i),e}function ti(o){let t=o.indexOf(":"),i=o.substring(1,t),e=o.slice(t+1);return[i,e]}var Pr=typeof document>"u"?null:document.documentElement;function mt(o){let t=o.parentNode||o.host||null;return t===Pr?null:t}function Ir(o){return o.substring(1,6)=="ebkit"}var we=null,dn=!1;function Fn(o){we||(we=Ar()||{},dn=we.style?"WebkitAppearance"in we.style:!1);let t=!0;return we.style&&!Ir(o)&&(t=o in we.style,!t&&dn&&(t="Webkit"+o.charAt(0).toUpperCase()+o.slice(1)in we.style)),t}function Ar(){return typeof document<"u"?document.body:null}function ii(o,t){for(;t;){if(t===o)return!0;t=mt(t)}return!1}function ni(o,t,i){if(i)return Array.from(o.querySelectorAll(t));let e=o.querySelector(t);return e?[e]:[]}var Or=1e3,ri="{{",Dr="}}",oi="ng-enter",ht="ng-leave",Ge="ng-trigger",Ue=".ng-trigger",si="ng-animating",gt=".ng-animating";function le(o){if(typeof o=="number")return o;let t=o.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Jt(parseFloat(t[1]),t[2])}function Jt(o,t){switch(t){case"s":return o*Or;default:return o}}function Ke(o,t,i){return o.hasOwnProperty("duration")?o:Nr(o,t,i)}function Nr(o,t,i){let e=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,n,r=0,s="";if(typeof o=="string"){let a=o.match(e);if(a===null)return t.push(cn(o)),{duration:0,delay:0,easing:""};n=Jt(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(r=Jt(parseFloat(l),a[4]));let c=a[5];c&&(s=c)}else n=o;if(!i){let a=!1,l=t.length;n<0&&(t.push(Sr()),a=!0),r<0&&(t.push(Er()),a=!0),a&&t.splice(l,0,cn(o))}return{duration:n,delay:r,easing:s}}function Ln(o){return o.length?o[0]instanceof Map?o:o.map(t=>new Map(Object.entries(t))):[]}function ie(o,t,i){t.forEach((e,n)=>{let r=ft(n);i&&!i.has(n)&&i.set(n,o.style[r]),o.style[r]=e})}function ye(o,t){t.forEach((i,e)=>{let n=ft(e);o.style[n]=""})}function Re(o){return Array.isArray(o)?o.length==1?o[0]:Yi(o):o}function zn(o,t,i){let e=t.params||{},n=ai(o);n.length&&n.forEach(r=>{e.hasOwnProperty(r)||i.push(Mr(r))})}var Xt=new RegExp(`${ri}\\s*(.+?)\\s*${Dr}`,"g");function ai(o){let t=[];if(typeof o=="string"){let i;for(;i=Xt.exec(o);)t.push(i[1]);Xt.lastIndex=0}return t}function Fe(o,t,i){let e=`${o}`,n=e.replace(Xt,(r,s)=>{let a=t[s];return a==null&&(i.push(Tr(s)),a=""),a.toString()});return n==e?o:n}var xr=/-+([a-z0-9])/g;function ft(o){return o.replace(xr,(...t)=>t[1].toUpperCase())}function $n(o,t){return o===0||t===0}function Vn(o,t,i){if(i.size&&t.length){let e=t[0],n=[];if(i.forEach((r,s)=>{e.has(s)||n.push(s),e.set(s,r)}),n.length)for(let r=1;r<t.length;r++){let s=t[r];n.forEach(a=>s.set(a,pt(o,a)))}}return t}function U(o,t,i){switch(t.type){case E.Trigger:return o.visitTrigger(t,i);case E.State:return o.visitState(t,i);case E.Transition:return o.visitTransition(t,i);case E.Sequence:return o.visitSequence(t,i);case E.Group:return o.visitGroup(t,i);case E.Animate:return o.visitAnimate(t,i);case E.Keyframes:return o.visitKeyframes(t,i);case E.Style:return o.visitStyle(t,i);case E.Reference:return o.visitReference(t,i);case E.AnimateChild:return o.visitAnimateChild(t,i);case E.AnimateRef:return o.visitAnimateRef(t,i);case E.Query:return o.visitQuery(t,i);case E.Stagger:return o.visitStagger(t,i);default:throw wr(t.type)}}function pt(o,t){return window.getComputedStyle(o)[t]}var Ti=(()=>{class o{validateStyleProperty(i){return Fn(i)}containsElement(i,e){return ii(i,e)}getParentElement(i){return mt(i)}query(i,e,n){return ni(i,e,n)}computeStyle(i,e,n){return n||""}animate(i,e,n,r,s,a=[],l){return new Te(n,r)}static \u0275fac=function(e){return new(e||o)};static \u0275prov=O({token:o,factory:o.\u0275fac})}return o})(),Pe=class{static NOOP=new Ti},Ie=class{};var kr=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),St=class extends Ie{normalizePropertyName(t,i){return ft(t)}normalizeStyleValue(t,i,e,n){let r="",s=e.toString().trim();if(kr.has(i)&&e!==0&&e!=="0")if(typeof e=="number")r="px";else{let a=e.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&n.push(un(t,e))}return s+r}};var Et="*";function Rr(o,t){let i=[];return typeof o=="string"?o.split(/\s*,\s*/).forEach(e=>Fr(e,i,t)):i.push(o),i}function Fr(o,t,i){if(o[0]==":"){let l=Lr(o,i);if(typeof l=="function"){t.push(l);return}o=l}let e=o.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(e==null||e.length<4)return i.push(Mn(o)),t;let n=e[1],r=e[2],s=e[3];t.push(Bn(n,s));let a=n==Et&&s==Et;r[0]=="<"&&!a&&t.push(Bn(s,n))}function Lr(o,t){switch(o){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,e)=>parseFloat(e)>parseFloat(i);case":decrement":return(i,e)=>parseFloat(e)<parseFloat(i);default:return t.push(Tn(o)),"* => *"}}var yt=new Set(["true","1"]),vt=new Set(["false","0"]);function Bn(o,t){let i=yt.has(o)||vt.has(o),e=yt.has(t)||vt.has(t);return(n,r)=>{let s=o==Et||o==n,a=t==Et||t==r;return!s&&i&&typeof n=="boolean"&&(s=n?yt.has(o):vt.has(o)),!a&&e&&typeof r=="boolean"&&(a=r?yt.has(t):vt.has(t)),s&&a}}var Yn=":self",zr=new RegExp(`s*${Yn}s*,?`,"g");function Jn(o,t,i,e){return new hi(o).build(t,i,e)}var jn="",hi=class{_driver;constructor(t){this._driver=t}build(t,i,e){let n=new gi(i);return this._resetContextStyleTimingState(n),U(this,Re(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector=jn,t.collectedStyles=new Map,t.collectedStyles.set(jn,new Map),t.currentTime=0}visitTrigger(t,i){let e=i.queryCount=0,n=i.depCount=0,r=[],s=[];return t.name.charAt(0)=="@"&&i.errors.push(mn()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(i),a.type==E.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,r.push(this.visitState(l,i))}),l.name=c}else if(a.type==E.Transition){let l=this.visitTransition(a,i);e+=l.queryCount,n+=l.depCount,s.push(l)}else i.errors.push(hn())}),{type:E.Trigger,name:t.name,states:r,transitions:s,queryCount:e,depCount:n,options:null}}visitState(t,i){let e=this.visitStyle(t.styles,i),n=t.options&&t.options.params||null;if(e.containsDynamicStyles){let r=new Set,s=n||{};e.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{ai(l).forEach(c=>{s.hasOwnProperty(c)||r.add(c)})})}),r.size&&i.errors.push(gn(t.name,[...r.values()]))}return{type:E.State,name:t.name,style:e,options:n?{params:n}:null}}visitTransition(t,i){i.queryCount=0,i.depCount=0;let e=U(this,Re(t.animation),i),n=Rr(t.expr,i.errors);return{type:E.Transition,matchers:n,animation:e,queryCount:i.queryCount,depCount:i.depCount,options:Ce(t.options)}}visitSequence(t,i){return{type:E.Sequence,steps:t.steps.map(e=>U(this,e,i)),options:Ce(t.options)}}visitGroup(t,i){let e=i.currentTime,n=0,r=t.steps.map(s=>{i.currentTime=e;let a=U(this,s,i);return n=Math.max(n,i.currentTime),a});return i.currentTime=n,{type:E.Group,steps:r,options:Ce(t.options)}}visitAnimate(t,i){let e=jr(t.timings,i.errors);i.currentAnimateTimings=e;let n,r=t.styles?t.styles:Vt({});if(r.type==E.Keyframes)n=this.visitKeyframes(r,i);else{let s=t.styles,a=!1;if(!s){a=!0;let c={};e.easing&&(c.easing=e.easing),s=Vt(c)}i.currentTime+=e.duration+e.delay;let l=this.visitStyle(s,i);l.isEmptyStep=a,n=l}return i.currentAnimateTimings=null,{type:E.Animate,timings:e,style:n,options:null}}visitStyle(t,i){let e=this._makeStyleAst(t,i);return this._validateStyleAst(e,i),e}_makeStyleAst(t,i){let e=[],n=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of n)typeof a=="string"?a===te?e.push(a):i.errors.push(fn(a)):e.push(new Map(Object.entries(a)));let r=!1,s=null;return e.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!r)){for(let l of a.values())if(l.toString().indexOf(ri)>=0){r=!0;break}}}),{type:E.Style,styles:e,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,i){let e=i.currentAnimateTimings,n=i.currentTime,r=i.currentTime;e&&r>0&&(r-=e.duration+e.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=i.collectedStyles.get(i.currentQuerySelector),d=c.get(l),u=!0;d&&(r!=n&&r>=d.startTime&&n<=d.endTime&&(i.errors.push(pn(l,d.startTime,d.endTime,r,n)),u=!1),r=d.startTime),u&&c.set(l,{startTime:r,endTime:n}),i.options&&zn(a,i.options,i.errors)})})}visitKeyframes(t,i){let e={type:E.Keyframes,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push(yn()),e;let n=1,r=0,s=[],a=!1,l=!1,c=0,d=t.steps.map(D=>{let N=this._makeStyleAst(D,i),z=N.offset!=null?N.offset:Br(N.styles),k=0;return z!=null&&(r++,k=N.offset=z),l=l||k<0||k>1,a=a||k<c,c=k,s.push(k),N});l&&i.errors.push(vn()),a&&i.errors.push(bn());let u=t.steps.length,S=0;r>0&&r<u?i.errors.push(_n()):r==0&&(S=n/(u-1));let _=u-1,f=i.currentTime,b=i.currentAnimateTimings,I=b.duration;return d.forEach((D,N)=>{let z=S>0?N==_?1:S*N:s[N],k=z*I;i.currentTime=f+b.delay+k,b.duration=k,this._validateStyleAst(D,i),D.offset=z,e.styles.push(D)}),e}visitReference(t,i){return{type:E.Reference,animation:U(this,Re(t.animation),i),options:Ce(t.options)}}visitAnimateChild(t,i){return i.depCount++,{type:E.AnimateChild,options:Ce(t.options)}}visitAnimateRef(t,i){return{type:E.AnimateRef,animation:this.visitReference(t.animation,i),options:Ce(t.options)}}visitQuery(t,i){let e=i.currentQuerySelector,n=t.options||{};i.queryCount++,i.currentQuery=t;let[r,s]=$r(t.selector);i.currentQuerySelector=e.length?e+" "+r:r,G(i.collectedStyles,i.currentQuerySelector,new Map);let a=U(this,Re(t.animation),i);return i.currentQuery=null,i.currentQuerySelector=e,{type:E.Query,selector:r,limit:n.limit||0,optional:!!n.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Ce(t.options)}}visitStagger(t,i){i.currentQuery||i.errors.push(Sn());let e=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Ke(t.timings,i.errors,!0);return{type:E.Stagger,animation:U(this,Re(t.animation),i),timings:e,options:null}}};function $r(o){let t=!!o.split(/\s*,\s*/).find(i=>i==Yn);return t&&(o=o.replace(zr,"")),o=o.replace(/@\*/g,Ue).replace(/@\w+/g,i=>Ue+"-"+i.slice(1)).replace(/:animating/g,gt),[o,t]}function Vr(o){return o?Y({},o):null}var gi=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function Br(o){if(typeof o=="string")return null;let t=null;if(Array.isArray(o))o.forEach(i=>{if(i instanceof Map&&i.has("offset")){let e=i;t=parseFloat(e.get("offset")),e.delete("offset")}});else if(o instanceof Map&&o.has("offset")){let i=o;t=parseFloat(i.get("offset")),i.delete("offset")}return t}function jr(o,t){if(o.hasOwnProperty("duration"))return o;if(typeof o=="number"){let r=Ke(o,t).duration;return li(r,0,"")}let i=o;if(i.split(/\s+/).some(r=>r.charAt(0)=="{"&&r.charAt(1)=="{")){let r=li(0,0,"");return r.dynamic=!0,r.strValue=i,r}let n=Ke(i,t);return li(n.duration,n.delay,n.easing)}function Ce(o){return o?(o=Y({},o),o.params&&(o.params=Vr(o.params))):o={},o}function li(o,t,i){return{duration:o,delay:t,easing:i}}function wi(o,t,i,e,n,r,s=null,a=!1){return{type:1,element:o,keyframes:t,preStyleProps:i,postStyleProps:e,duration:n,delay:r,totalTime:n+r,easing:s,subTimeline:a}}var qe=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,i){let e=this._map.get(t);e||this._map.set(t,e=[]),e.push(...i)}has(t){return this._map.has(t)}clear(){this._map.clear()}},Gr=1,Ur=":enter",Kr=new RegExp(Ur,"g"),Hr=":leave",qr=new RegExp(Hr,"g");function Xn(o,t,i,e,n,r=new Map,s=new Map,a,l,c=[]){return new fi().buildKeyframes(o,t,i,e,n,r,s,a,l,c)}var fi=class{buildKeyframes(t,i,e,n,r,s,a,l,c,d=[]){c=c||new qe;let u=new pi(t,i,c,n,r,d,[]);u.options=l;let S=l.delay?le(l.delay):0;u.currentTimeline.delayNextStep(S),u.currentTimeline.setStyles([s],null,u.errors,l),U(this,e,u);let _=u.timelines.filter(f=>f.containsAnimation());if(_.length&&a.size){let f;for(let b=_.length-1;b>=0;b--){let I=_[b];if(I.element===i){f=I;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([a],null,u.errors,l)}return _.length?_.map(f=>f.buildKeyframes()):[wi(i,[],[],[],0,S,"",!1)]}visitTrigger(t,i){}visitState(t,i){}visitTransition(t,i){}visitAnimateChild(t,i){let e=i.subInstructions.get(i.element);if(e){let n=i.createSubContext(t.options),r=i.currentTimeline.currentTime,s=this._visitSubInstructions(e,n,n.options);r!=s&&i.transformIntoNewTimeline(s)}i.previousNode=t}visitAnimateRef(t,i){let e=i.createSubContext(t.options);e.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],i,e),this.visitReference(t.animation,e),i.transformIntoNewTimeline(e.currentTimeline.currentTime),i.previousNode=t}_applyAnimationRefDelays(t,i,e){for(let n of t){let r=n?.delay;if(r){let s=typeof r=="number"?r:le(Fe(r,n?.params??{},i.errors));e.delayNextStep(s)}}}_visitSubInstructions(t,i,e){let r=i.currentTimeline.currentTime,s=e.duration!=null?le(e.duration):null,a=e.delay!=null?le(e.delay):null;return s!==0&&t.forEach(l=>{let c=i.appendInstructionToTimeline(l,s,a);r=Math.max(r,c.duration+c.delay)}),r}visitReference(t,i){i.updateOptions(t.options,!0),U(this,t.animation,i),i.previousNode=t}visitSequence(t,i){let e=i.subContextCount,n=i,r=t.options;if(r&&(r.params||r.delay)&&(n=i.createSubContext(r),n.transformIntoNewTimeline(),r.delay!=null)){n.previousNode.type==E.Style&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Mt);let s=le(r.delay);n.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>U(this,s,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>e&&n.transformIntoNewTimeline()),i.previousNode=t}visitGroup(t,i){let e=[],n=i.currentTimeline.currentTime,r=t.options&&t.options.delay?le(t.options.delay):0;t.steps.forEach(s=>{let a=i.createSubContext(t.options);r&&a.delayNextStep(r),U(this,s,a),n=Math.max(n,a.currentTimeline.currentTime),e.push(a.currentTimeline)}),e.forEach(s=>i.currentTimeline.mergeTimelineCollectedStyles(s)),i.transformIntoNewTimeline(n),i.previousNode=t}_visitTiming(t,i){if(t.dynamic){let e=t.strValue,n=i.params?Fe(e,i.params,i.errors):e;return Ke(n,i.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,i){let e=i.currentAnimateTimings=this._visitTiming(t.timings,i),n=i.currentTimeline;e.delay&&(i.incrementTime(e.delay),n.snapshotCurrentStyles());let r=t.style;r.type==E.Keyframes?this.visitKeyframes(r,i):(i.incrementTime(e.duration),this.visitStyle(r,i),n.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=t}visitStyle(t,i){let e=i.currentTimeline,n=i.currentAnimateTimings;!n&&e.hasCurrentStyleProperties()&&e.forwardFrame();let r=n&&n.easing||t.easing;t.isEmptyStep?e.applyEmptyStep(r):e.setStyles(t.styles,r,i.errors,i.options),i.previousNode=t}visitKeyframes(t,i){let e=i.currentAnimateTimings,n=i.currentTimeline.duration,r=e.duration,a=i.createSubContext().currentTimeline;a.easing=e.easing,t.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*r),a.setStyles(l.styles,l.easing,i.errors,i.options),a.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(a),i.transformIntoNewTimeline(n+r),i.previousNode=t}visitQuery(t,i){let e=i.currentTimeline.currentTime,n=t.options||{},r=n.delay?le(n.delay):0;r&&(i.previousNode.type===E.Style||e==0&&i.currentTimeline.hasCurrentStyleProperties())&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Mt);let s=e,a=i.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!n.optional,i.errors);i.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{i.currentQueryIndex=d;let u=i.createSubContext(t.options,c);r&&u.delayNextStep(r),c===i.element&&(l=u.currentTimeline),U(this,t.animation,u),u.currentTimeline.applyStylesToKeyframe();let S=u.currentTimeline.currentTime;s=Math.max(s,S)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(s),l&&(i.currentTimeline.mergeTimelineCollectedStyles(l),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=t}visitStagger(t,i){let e=i.parentContext,n=i.currentTimeline,r=t.timings,s=Math.abs(r.duration),a=s*(i.currentQueryTotal-1),l=s*i.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=a-l;break;case"full":l=e.currentStaggerTime;break}let d=i.currentTimeline;l&&d.delayNextStep(l);let u=d.currentTime;U(this,t.animation,i),i.previousNode=t,e.currentStaggerTime=n.currentTime-u+(n.startTime-e.currentTimeline.startTime)}},Mt={},pi=class o{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Mt;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,i,e,n,r,s,a,l){this._driver=t,this.element=i,this.subInstructions=e,this._enterClassName=n,this._leaveClassName=r,this.errors=s,this.timelines=a,this.currentTimeline=l||new Tt(this._driver,i,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,i){if(!t)return;let e=t,n=this.options;e.duration!=null&&(n.duration=le(e.duration)),e.delay!=null&&(n.delay=le(e.delay));let r=e.params;if(r){let s=n.params;s||(s=this.options.params={}),Object.keys(r).forEach(a=>{(!i||!s.hasOwnProperty(a))&&(s[a]=Fe(r[a],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let i=this.options.params;if(i){let e=t.params={};Object.keys(i).forEach(n=>{e[n]=i[n]})}}return t}createSubContext(t=null,i,e){let n=i||this.element,r=new o(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,e||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=Mt,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,i,e){let n={duration:i??t.duration,delay:this.currentTimeline.currentTime+(e??0)+t.delay,easing:""},r=new yi(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,n,t.stretchStartingKeyframe);return this.timelines.push(r),n}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,i,e,n,r,s){let a=[];if(n&&a.push(this.element),t.length>0){t=t.replace(Kr,"."+this._enterClassName),t=t.replace(qr,"."+this._leaveClassName);let l=e!=1,c=this._driver.query(this.element,t,l);e!==0&&(c=e<0?c.slice(c.length+e,c.length):c.slice(0,e)),a.push(...c)}return!r&&a.length==0&&s.push(En(i)),a}},Tt=class o{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,i,e,n){this._driver=t,this.element=i,this.startTime=e,this._elementTimelineStylesLookup=n,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let i=this._keyframes.size===1&&this._pendingStyles.size;this.duration||i?(this.forwardTime(this.currentTime+t),i&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,i){return this.applyStylesToKeyframe(),new o(this._driver,t,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Gr,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,i){this._localTimelineStyles.set(t,i),this._globalTimelineStyles.set(t,i),this._styleSummary.set(t,{time:this.currentTime,value:i})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[i,e]of this._globalTimelineStyles)this._backFill.set(i,e||te),this._currentKeyframe.set(i,te);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,i,e,n){i&&this._previousKeyframe.set("easing",i);let r=n&&n.params||{},s=Qr(t,this._globalTimelineStyles);for(let[a,l]of s){let c=Fe(l,r,e);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??te),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,i)=>{this._currentKeyframe.set(i,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,i)=>{this._currentKeyframe.has(i)||this._currentKeyframe.set(i,t)}))}snapshotCurrentStyles(){for(let[t,i]of this._localTimelineStyles)this._pendingStyles.set(t,i),this._updateStyle(t,i)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let i in this._currentKeyframe)t.push(i);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((i,e)=>{let n=this._styleSummary.get(e);(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,i=new Set,e=this._keyframes.size===1&&this.duration===0,n=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((d,u)=>{d===Be?t.add(u):d===te&&i.add(u)}),e||c.set("offset",l/this.duration),n.push(c)});let r=[...t.values()],s=[...i.values()];if(e){let a=n[0],l=new Map(a);a.set("offset",0),l.set("offset",1),n=[a,l]}return wi(this.element,n,r,s,this.duration,this.startTime,this.easing,!1)}},yi=class extends Tt{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,i,e,n,r,s,a=!1){super(t,i,s.delay),this.keyframes=e,this.preStyleProps=n,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:i,duration:e,easing:n}=this.timings;if(this._stretchStartingKeyframe&&i){let r=[],s=e+i,a=i/s,l=new Map(t[0]);l.set("offset",0),r.push(l);let c=new Map(t[0]);c.set("offset",Gn(a)),r.push(c);let d=t.length-1;for(let u=1;u<=d;u++){let S=new Map(t[u]),_=S.get("offset"),f=i+_*e;S.set("offset",Gn(f/s)),r.push(S)}e=s,i=0,n="",t=r}return wi(this.element,t,this.preStyleProps,this.postStyleProps,e,i,n,!0)}};function Gn(o,t=3){let i=Math.pow(10,t-1);return Math.round(o*i)/i}function Qr(o,t){let i=new Map,e;return o.forEach(n=>{if(n==="*"){e??=t.keys();for(let r of e)i.set(r,te)}else for(let[r,s]of n)i.set(r,s)}),i}function Un(o,t,i,e,n,r,s,a,l,c,d,u,S){return{type:0,element:o,triggerName:t,isRemovalTransition:n,fromState:i,fromStyles:r,toState:e,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:u,errors:S}}var ci={},wt=class{_triggerName;ast;_stateStyles;constructor(t,i,e){this._triggerName=t,this.ast=i,this._stateStyles=e}match(t,i,e,n){return Zr(this.ast.matchers,t,i,e,n)}buildStyles(t,i,e){let n=this._stateStyles.get("*");return t!==void 0&&(n=this._stateStyles.get(t?.toString())||n),n?n.buildStyles(i,e):new Map}build(t,i,e,n,r,s,a,l,c,d){let u=[],S=this.ast.options&&this.ast.options.params||ci,_=a&&a.params||ci,f=this.buildStyles(e,_,u),b=l&&l.params||ci,I=this.buildStyles(n,b,u),D=new Set,N=new Map,z=new Map,k=n==="void",Oe={params:er(b,S),delay:this.ast.options?.delay},re=d?[]:Xn(t,i,this.ast.animation,r,s,f,I,Oe,c,u),$=0;return re.forEach(B=>{$=Math.max(B.duration+B.delay,$)}),u.length?Un(i,this._triggerName,e,n,k,f,I,[],[],N,z,$,u):(re.forEach(B=>{let be=B.element,De=G(N,be,new Set);B.preStyleProps.forEach(_e=>De.add(_e));let Pi=G(z,be,new Set);B.postStyleProps.forEach(_e=>Pi.add(_e)),be!==i&&D.add(be)}),Un(i,this._triggerName,e,n,k,f,I,re,[...D.values()],N,z,$))}};function Zr(o,t,i,e,n){return o.some(r=>r(t,i,e,n))}function er(o,t){let i=Y({},t);return Object.entries(o).forEach(([e,n])=>{n!=null&&(i[e]=n)}),i}var vi=class{styles;defaultParams;normalizer;constructor(t,i,e){this.styles=t,this.defaultParams=i,this.normalizer=e}buildStyles(t,i){let e=new Map,n=er(t,this.defaultParams);return this.styles.styles.forEach(r=>{typeof r!="string"&&r.forEach((s,a)=>{s&&(s=Fe(s,n,i));let l=this.normalizer.normalizePropertyName(a,i);s=this.normalizer.normalizeStyleValue(a,l,s,i),e.set(a,s)})}),e}};function Wr(o,t,i){return new bi(o,t,i)}var bi=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,i,e){this.name=t,this.ast=i,this._normalizer=e,i.states.forEach(n=>{let r=n.options&&n.options.params||{};this.states.set(n.name,new vi(n.style,r,e))}),Kn(this.states,"true","1"),Kn(this.states,"false","0"),i.transitions.forEach(n=>{this.transitionFactories.push(new wt(t,n,this.states))}),this.fallbackTransition=Yr(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,i,e,n){return this.transitionFactories.find(s=>s.match(t,i,e,n))||null}matchStyles(t,i,e){return this.fallbackTransition.buildStyles(t,i,e)}};function Yr(o,t,i){let e=[(s,a)=>!0],n={type:E.Sequence,steps:[],options:null},r={type:E.Transition,animation:n,matchers:e,options:null,queryCount:0,depCount:0};return new wt(o,r,t)}function Kn(o,t,i){o.has(t)?o.has(i)||o.set(i,o.get(t)):o.has(i)&&o.set(t,o.get(i))}var Jr=new qe,_i=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,i,e){this.bodyNode=t,this._driver=i,this._normalizer=e}register(t,i){let e=[],n=[],r=Jn(this._driver,i,e,n);if(e.length)throw Cn(e);this._animations.set(t,r)}_buildPlayer(t,i,e){let n=t.element,r=ei(this._normalizer,t.keyframes,i,e);return this._driver.animate(n,r,t.duration,t.delay,t.easing,[],!0)}create(t,i,e={}){let n=[],r=this._animations.get(t),s,a=new Map;if(r?(s=Xn(this._driver,i,r,oi,ht,new Map,new Map,e,Jr,n),s.forEach(d=>{let u=G(a,d.element,new Map);d.postStyleProps.forEach(S=>u.set(S,null))})):(n.push(Pn()),s=[]),n.length)throw In(n);a.forEach((d,u)=>{d.forEach((S,_)=>{d.set(_,this._driver.computeStyle(u,_,te))})});let l=s.map(d=>{let u=a.get(d.element);return this._buildPlayer(d,new Map,u)}),c=ue(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let i=this._getPlayer(t);i.destroy(),this._playersById.delete(t);let e=this.players.indexOf(i);e>=0&&this.players.splice(e,1)}_getPlayer(t){let i=this._playersById.get(t);if(!i)throw An(t);return i}listen(t,i,e,n){let r=ut(i,"","","");return dt(this._getPlayer(t),e,r,n),()=>{}}command(t,i,e,n){if(e=="register"){this.register(t,n[0]);return}if(e=="create"){let s=n[0]||{};this.create(t,i,s);return}let r=this._getPlayer(t);switch(e){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(t);break}}},Hn="ng-animate-queued",Xr=".ng-animate-queued",di="ng-animate-disabled",eo=".ng-animate-disabled",to="ng-star-inserted",io=".ng-star-inserted",no=[],tr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ro={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ne="__ng_removed",Qe=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,i=""){this.namespaceId=i;let e=t&&t.hasOwnProperty("value"),n=e?t.value:t;if(this.value=so(n),e){let r=t,{value:s}=r,a=Di(r,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let i=t.params;if(i){let e=this.options.params;Object.keys(i).forEach(n=>{e[n]==null&&(e[n]=i[n])})}}},He="void",ui=new Qe(He),Si=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,i,e){this.id=t,this.hostElement=i,this._engine=e,this._hostClassName="ng-tns-"+t,X(i,this._hostClassName)}listen(t,i,e,n){if(!this._triggers.has(i))throw On(e,i);if(e==null||e.length==0)throw Dn(i);if(!ao(e))throw Nn(e,i);let r=G(this._elementListeners,t,[]),s={name:i,phase:e,callback:n};r.push(s);let a=G(this._engine.statesByElement,t,new Map);return a.has(i)||(X(t,Ge),X(t,Ge+"-"+i),a.set(i,ui)),()=>{this._engine.afterFlush(()=>{let l=r.indexOf(s);l>=0&&r.splice(l,1),this._triggers.has(i)||a.delete(i)})}}register(t,i){return this._triggers.has(t)?!1:(this._triggers.set(t,i),!0)}_getTrigger(t){let i=this._triggers.get(t);if(!i)throw xn(t);return i}trigger(t,i,e,n=!0){let r=this._getTrigger(i),s=new Ze(this.id,i,t),a=this._engine.statesByElement.get(t);a||(X(t,Ge),X(t,Ge+"-"+i),this._engine.statesByElement.set(t,a=new Map));let l=a.get(i),c=new Qe(e,this.id);if(!(e&&e.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(i,c),l||(l=ui),!(c.value===He)&&l.value===c.value){if(!uo(l.params,c.params)){let b=[],I=r.matchStyles(l.value,l.params,b),D=r.matchStyles(c.value,c.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{ye(t,I),ie(t,D)})}return}let S=G(this._engine.playersByElement,t,[]);S.forEach(b=>{b.namespaceId==this.id&&b.triggerName==i&&b.queued&&b.destroy()});let _=r.matchTransition(l.value,c.value,t,c.params),f=!1;if(!_){if(!n)return;_=r.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:_,fromState:l,toState:c,player:s,isFallbackTransition:f}),f||(X(t,Hn),s.onStart(()=>{Le(t,Hn)})),s.onDone(()=>{let b=this.players.indexOf(s);b>=0&&this.players.splice(b,1);let I=this._engine.playersByElement.get(t);if(I){let D=I.indexOf(s);D>=0&&I.splice(D,1)}}),this.players.push(s),S.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(i=>i.delete(t)),this._elementListeners.forEach((i,e)=>{this._elementListeners.set(e,i.filter(n=>n.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let i=this._engine.playersByElement.get(t);i&&(i.forEach(e=>e.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,i){let e=this._engine.driver.query(t,Ue,!0);e.forEach(n=>{if(n[ne])return;let r=this._engine.fetchNamespacesByElement(n);r.size?r.forEach(s=>s.triggerLeaveAnimation(n,i,!1,!0)):this.clearElementCache(n)}),this._engine.afterFlushAnimationsDone(()=>e.forEach(n=>this.clearElementCache(n)))}triggerLeaveAnimation(t,i,e,n){let r=this._engine.statesByElement.get(t),s=new Map;if(r){let a=[];if(r.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let d=this.trigger(t,c,He,n);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,i,s),e&&ue(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let i=this._elementListeners.get(t),e=this._engine.statesByElement.get(t);if(i&&e){let n=new Set;i.forEach(r=>{let s=r.name;if(n.has(s))return;n.add(s);let l=this._triggers.get(s).fallbackTransition,c=e.get(s)||ui,d=new Qe(He),u=new Ze(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:d,player:u,isFallbackTransition:!0})})}}removeNode(t,i){let e=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,i),this.triggerLeaveAnimation(t,i,!0))return;let n=!1;if(e.totalAnimations){let r=e.players.length?e.playersByQueriedElement.get(t):[];if(r&&r.length)n=!0;else{let s=t;for(;s=s.parentNode;)if(e.statesByElement.get(s)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(t),n)e.markElementAsRemoved(this.id,t,!1,i);else{let r=t[ne];(!r||r===tr)&&(e.afterFlush(()=>this.clearElementCache(t)),e.destroyInnerAnimations(t),e._onRemovalComplete(t,i))}}insertNode(t,i){X(t,this._hostClassName)}drainQueuedTransitions(t){let i=[];return this._queue.forEach(e=>{let n=e.player;if(n.destroyed)return;let r=e.element,s=this._elementListeners.get(r);s&&s.forEach(a=>{if(a.name==e.triggerName){let l=ut(r,e.triggerName,e.fromState.value,e.toState.value);l._data=t,dt(e.player,a.phase,l,a.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):i.push(e)}),this._queue=[],i.sort((e,n)=>{let r=e.transition.ast.depCount,s=n.transition.ast.depCount;return r==0||s==0?r-s:this._engine.driver.containsElement(e.element,n.element)?1:-1})}destroy(t){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},Ei=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,i)=>{};_onRemovalComplete(t,i){this.onRemovalComplete(t,i)}constructor(t,i,e){this.bodyNode=t,this.driver=i,this._normalizer=e}get queuedPlayers(){let t=[];return this._namespaceList.forEach(i=>{i.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,i){let e=new Si(t,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(e,i):(this.newHostElements.set(i,e),this.collectEnterElement(i)),this._namespaceLookup[t]=e}_balanceNamespaceList(t,i){let e=this._namespaceList,n=this.namespacesByHostElement;if(e.length-1>=0){let s=!1,a=this.driver.getParentElement(i);for(;a;){let l=n.get(a);if(l){let c=e.indexOf(l);e.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||e.unshift(t)}else e.push(t);return n.set(i,t),t}register(t,i){let e=this._namespaceLookup[t];return e||(e=this.createNamespace(t,i)),e}registerTrigger(t,i,e){let n=this._namespaceLookup[t];n&&n.register(i,e)&&this.totalAnimations++}destroy(t,i){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let e=this._fetchNamespace(t);this.namespacesByHostElement.delete(e.hostElement);let n=this._namespaceList.indexOf(e);n>=0&&this._namespaceList.splice(n,1),e.destroy(i),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let i=new Set,e=this.statesByElement.get(t);if(e){for(let n of e.values())if(n.namespaceId){let r=this._fetchNamespace(n.namespaceId);r&&i.add(r)}}return i}trigger(t,i,e,n){if(bt(i)){let r=this._fetchNamespace(t);if(r)return r.trigger(i,e,n),!0}return!1}insertNode(t,i,e,n){if(!bt(i))return;let r=i[ne];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;let s=this.collectedLeaveElements.indexOf(i);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(i,e)}n&&this.collectEnterElement(i)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,i){i?this.disabledNodes.has(t)||(this.disabledNodes.add(t),X(t,di)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Le(t,di))}removeNode(t,i,e){if(bt(i)){let n=t?this._fetchNamespace(t):null;n?n.removeNode(i,e):this.markElementAsRemoved(t,i,!1,e);let r=this.namespacesByHostElement.get(i);r&&r.id!==t&&r.removeNode(i,e)}else this._onRemovalComplete(i,e)}markElementAsRemoved(t,i,e,n,r){this.collectedLeaveElements.push(i),i[ne]={namespaceId:t,setForRemoval:n,hasAnimation:e,removedBeforeQueried:!1,previousTriggersValues:r}}listen(t,i,e,n,r){return bt(i)?this._fetchNamespace(t).listen(i,e,n,r):()=>{}}_buildInstruction(t,i,e,n,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,e,n,t.fromState.options,t.toState.options,i,r)}destroyInnerAnimations(t){let i=this.driver.query(t,Ue,!0);i.forEach(e=>this.destroyActiveAnimationsForElement(e)),this.playersByQueriedElement.size!=0&&(i=this.driver.query(t,gt,!0),i.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(t){let i=this.playersByElement.get(t);i&&i.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(t){let i=this.playersByQueriedElement.get(t);i&&i.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ue(this.players).onDone(()=>t());t()})}processLeaveNode(t){let i=t[ne];if(i&&i.setForRemoval){if(t[ne]=tr,i.namespaceId){this.destroyInnerAnimations(t);let e=this._fetchNamespace(i.namespaceId);e&&e.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}t.classList?.contains(di)&&this.markElementAsDisabled(t,!1),this.driver.query(t,eo,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(t=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,n)=>this._balanceNamespaceList(e,n)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let e=0;e<this.collectedEnterElements.length;e++){let n=this.collectedEnterElements[e];X(n,to)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let e=[];try{i=this._flushAnimations(e,t)}finally{for(let n=0;n<e.length;n++)e[n]()}}else for(let e=0;e<this.collectedLeaveElements.length;e++){let n=this.collectedLeaveElements[e];this.processLeaveNode(n)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){let e=this._whenQuietFns;this._whenQuietFns=[],i.length?ue(i).onDone(()=>{e.forEach(n=>n())}):e.forEach(n=>n())}}reportError(t){throw kn(t)}_flushAnimations(t,i){let e=new qe,n=[],r=new Map,s=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(g=>{d.add(g);let p=this.driver.query(g,Xr,!0);for(let y=0;y<p.length;y++)d.add(p[y])});let u=this.bodyNode,S=Array.from(this.statesByElement.keys()),_=Zn(S,this.collectedEnterElements),f=new Map,b=0;_.forEach((g,p)=>{let y=oi+b++;f.set(p,y),g.forEach(M=>X(M,y))});let I=[],D=new Set,N=new Set;for(let g=0;g<this.collectedLeaveElements.length;g++){let p=this.collectedLeaveElements[g],y=p[ne];y&&y.setForRemoval&&(I.push(p),D.add(p),y.hasAnimation?this.driver.query(p,io,!0).forEach(M=>D.add(M)):N.add(p))}let z=new Map,k=Zn(S,Array.from(D));k.forEach((g,p)=>{let y=ht+b++;z.set(p,y),g.forEach(M=>X(M,y))}),t.push(()=>{_.forEach((g,p)=>{let y=f.get(p);g.forEach(M=>Le(M,y))}),k.forEach((g,p)=>{let y=z.get(p);g.forEach(M=>Le(M,y))}),I.forEach(g=>{this.processLeaveNode(g)})});let Oe=[],re=[];for(let g=this._namespaceList.length-1;g>=0;g--)this._namespaceList[g].drainQueuedTransitions(i).forEach(y=>{let M=y.player,x=y.element;if(Oe.push(M),this.collectedEnterElements.length){let L=x[ne];if(L&&L.setForMove){if(L.previousTriggersValues&&L.previousTriggersValues.has(y.triggerName)){let Se=L.previousTriggersValues.get(y.triggerName),W=this.statesByElement.get(y.element);if(W&&W.has(y.triggerName)){let Ye=W.get(y.triggerName);Ye.value=Se,W.set(y.triggerName,Ye)}}M.destroy();return}}let oe=!u||!this.driver.containsElement(u,x),q=z.get(x),me=f.get(x),A=this._buildInstruction(y,e,me,q,oe);if(A.errors&&A.errors.length){re.push(A);return}if(oe){M.onStart(()=>ye(x,A.fromStyles)),M.onDestroy(()=>ie(x,A.toStyles)),n.push(M);return}if(y.isFallbackTransition){M.onStart(()=>ye(x,A.fromStyles)),M.onDestroy(()=>ie(x,A.toStyles)),n.push(M);return}let Oi=[];A.timelines.forEach(L=>{L.stretchStartingKeyframe=!0,this.disabledNodes.has(L.element)||Oi.push(L)}),A.timelines=Oi,e.append(x,A.timelines);let _r={instruction:A,player:M,element:x};s.push(_r),A.queriedElements.forEach(L=>G(a,L,[]).push(M)),A.preStyleProps.forEach((L,Se)=>{if(L.size){let W=l.get(Se);W||l.set(Se,W=new Set),L.forEach((Ye,kt)=>W.add(kt))}}),A.postStyleProps.forEach((L,Se)=>{let W=c.get(Se);W||c.set(Se,W=new Set),L.forEach((Ye,kt)=>W.add(kt))})});if(re.length){let g=[];re.forEach(p=>{g.push(Rn(p.triggerName,p.errors))}),Oe.forEach(p=>p.destroy()),this.reportError(g)}let $=new Map,B=new Map;s.forEach(g=>{let p=g.element;e.has(p)&&(B.set(p,p),this._beforeAnimationBuild(g.player.namespaceId,g.instruction,$))}),n.forEach(g=>{let p=g.element;this._getPreviousPlayers(p,!1,g.namespaceId,g.triggerName,null).forEach(M=>{G($,p,[]).push(M),M.destroy()})});let be=I.filter(g=>Wn(g,l,c)),De=new Map;Qn(De,this.driver,N,c,te).forEach(g=>{Wn(g,l,c)&&be.push(g)});let _e=new Map;_.forEach((g,p)=>{Qn(_e,this.driver,new Set(g),l,Be)}),be.forEach(g=>{let p=De.get(g),y=_e.get(g);De.set(g,new Map([...p?.entries()??[],...y?.entries()??[]]))});let xt=[],Ii=[],Ai={};s.forEach(g=>{let{element:p,player:y,instruction:M}=g;if(e.has(p)){if(d.has(p)){y.onDestroy(()=>ie(p,M.toStyles)),y.disabled=!0,y.overrideTotalTime(M.totalTime),n.push(y);return}let x=Ai;if(B.size>1){let q=p,me=[];for(;q=q.parentNode;){let A=B.get(q);if(A){x=A;break}me.push(q)}me.forEach(A=>B.set(A,x))}let oe=this._buildAnimation(y.namespaceId,M,$,r,_e,De);if(y.setRealPlayer(oe),x===Ai)xt.push(y);else{let q=this.playersByElement.get(x);q&&q.length&&(y.parentPlayer=ue(q)),n.push(y)}}else ye(p,M.fromStyles),y.onDestroy(()=>ie(p,M.toStyles)),Ii.push(y),d.has(p)&&n.push(y)}),Ii.forEach(g=>{let p=r.get(g.element);if(p&&p.length){let y=ue(p);g.setRealPlayer(y)}}),n.forEach(g=>{g.parentPlayer?g.syncPlayerEvents(g.parentPlayer):g.destroy()});for(let g=0;g<I.length;g++){let p=I[g],y=p[ne];if(Le(p,ht),y&&y.hasAnimation)continue;let M=[];if(a.size){let oe=a.get(p);oe&&oe.length&&M.push(...oe);let q=this.driver.query(p,gt,!0);for(let me=0;me<q.length;me++){let A=a.get(q[me]);A&&A.length&&M.push(...A)}}let x=M.filter(oe=>!oe.destroyed);x.length?lo(this,p,x):this.processLeaveNode(p)}return I.length=0,xt.forEach(g=>{this.players.push(g),g.onDone(()=>{g.destroy();let p=this.players.indexOf(g);this.players.splice(p,1)}),g.play()}),xt}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,i,e,n,r){let s=[];if(i){let a=this.playersByQueriedElement.get(t);a&&(s=a)}else{let a=this.playersByElement.get(t);if(a){let l=!r||r==He;a.forEach(c=>{c.queued||!l&&c.triggerName!=n||s.push(c)})}}return(e||n)&&(s=s.filter(a=>!(e&&e!=a.namespaceId||n&&n!=a.triggerName))),s}_beforeAnimationBuild(t,i,e){let n=i.triggerName,r=i.element,s=i.isRemovalTransition?void 0:t,a=i.isRemovalTransition?void 0:n;for(let l of i.timelines){let c=l.element,d=c!==r,u=G(e,c,[]);this._getPreviousPlayers(c,d,s,a,i.toState).forEach(_=>{let f=_.getRealPlayer();f.beforeDestroy&&f.beforeDestroy(),_.destroy(),u.push(_)})}ye(r,i.fromStyles)}_buildAnimation(t,i,e,n,r,s){let a=i.triggerName,l=i.element,c=[],d=new Set,u=new Set,S=i.timelines.map(f=>{let b=f.element;d.add(b);let I=b[ne];if(I&&I.removedBeforeQueried)return new Te(f.duration,f.delay);let D=b!==l,N=co((e.get(b)||no).map($=>$.getRealPlayer())).filter($=>{let B=$;return B.element?B.element===b:!1}),z=r.get(b),k=s.get(b),Oe=ei(this._normalizer,f.keyframes,z,k),re=this._buildPlayer(f,Oe,N);if(f.subTimeline&&n&&u.add(b),D){let $=new Ze(t,a,b);$.setRealPlayer(re),c.push($)}return re});c.forEach(f=>{G(this.playersByQueriedElement,f.element,[]).push(f),f.onDone(()=>oo(this.playersByQueriedElement,f.element,f))}),d.forEach(f=>X(f,si));let _=ue(S);return _.onDestroy(()=>{d.forEach(f=>Le(f,si)),ie(l,i.toStyles)}),u.forEach(f=>{G(n,f,[]).push(_)}),_}_buildPlayer(t,i,e){return i.length>0?this.driver.animate(t.element,i,t.duration,t.delay,t.easing,e):new Te(t.duration,t.delay)}},Ze=class{namespaceId;triggerName;element;_player=new Te;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,i,e){this.namespaceId=t,this.triggerName=i,this.element=e}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((i,e)=>{i.forEach(n=>dt(t,e,void 0,n))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let i=this._player;i.triggerCallback&&t.onStart(()=>i.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,i){G(this._queuedCallbacks,t,[]).push(i)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let i=this._player;i.triggerCallback&&i.triggerCallback(t)}};function oo(o,t,i){let e=o.get(t);if(e){if(e.length){let n=e.indexOf(i);e.splice(n,1)}e.length==0&&o.delete(t)}return e}function so(o){return o??null}function bt(o){return o&&o.nodeType===1}function ao(o){return o=="start"||o=="done"}function qn(o,t){let i=o.style.display;return o.style.display=t??"none",i}function Qn(o,t,i,e,n){let r=[];i.forEach(l=>r.push(qn(l)));let s=[];e.forEach((l,c)=>{let d=new Map;l.forEach(u=>{let S=t.computeStyle(c,u,n);d.set(u,S),(!S||S.length==0)&&(c[ne]=ro,s.push(c))}),o.set(c,d)});let a=0;return i.forEach(l=>qn(l,r[a++])),s}function Zn(o,t){let i=new Map;if(o.forEach(a=>i.set(a,[])),t.length==0)return i;let e=1,n=new Set(t),r=new Map;function s(a){if(!a)return e;let l=r.get(a);if(l)return l;let c=a.parentNode;return i.has(c)?l=c:n.has(c)?l=e:l=s(c),r.set(a,l),l}return t.forEach(a=>{let l=s(a);l!==e&&i.get(l).push(a)}),i}function X(o,t){o.classList?.add(t)}function Le(o,t){o.classList?.remove(t)}function lo(o,t,i){ue(i).onDone(()=>o.processLeaveNode(t))}function co(o){let t=[];return ir(o,t),t}function ir(o,t){for(let i=0;i<o.length;i++){let e=o[i];e instanceof it?ir(e.players,t):t.push(e)}}function uo(o,t){let i=Object.keys(o),e=Object.keys(t);if(i.length!=e.length)return!1;for(let n=0;n<i.length;n++){let r=i[n];if(!t.hasOwnProperty(r)||o[r]!==t[r])return!1}return!0}function Wn(o,t,i){let e=i.get(o);if(!e)return!1;let n=t.get(o);return n?e.forEach(r=>n.add(r)):t.set(o,e),i.delete(o),!0}var ze=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,i)=>{};constructor(t,i,e){this._driver=i,this._normalizer=e,this._transitionEngine=new Ei(t.body,i,e),this._timelineEngine=new _i(t.body,i,e),this._transitionEngine.onRemovalComplete=(n,r)=>this.onRemovalComplete(n,r)}registerTrigger(t,i,e,n,r){let s=t+"-"+n,a=this._triggerCache[s];if(!a){let l=[],c=[],d=Jn(this._driver,r,l,c);if(l.length)throw wn(n,l);a=Wr(n,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(i,n,a)}register(t,i){this._transitionEngine.register(t,i)}destroy(t,i){this._transitionEngine.destroy(t,i)}onInsert(t,i,e,n){this._transitionEngine.insertNode(t,i,e,n)}onRemove(t,i,e){this._transitionEngine.removeNode(t,i,e)}disableAnimations(t,i){this._transitionEngine.markElementAsDisabled(t,i)}process(t,i,e,n){if(e.charAt(0)=="@"){let[r,s]=ti(e),a=n;this._timelineEngine.command(r,i,s,a)}else this._transitionEngine.trigger(t,i,e,n)}listen(t,i,e,n,r){if(e.charAt(0)=="@"){let[s,a]=ti(e);return this._timelineEngine.listen(s,i,a,r)}return this._transitionEngine.listen(t,i,e,n,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function mo(o,t){let i=null,e=null;return Array.isArray(t)&&t.length?(i=mi(t[0]),t.length>1&&(e=mi(t[t.length-1]))):t instanceof Map&&(i=mi(t)),i||e?new ho(o,i,e):null}var ho=(()=>{class o{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(i,e,n){this._element=i,this._startStyles=e,this._endStyles=n;let r=o.initialStylesByElement.get(i);r||o.initialStylesByElement.set(i,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&ie(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ie(this._element,this._initialStyles),this._endStyles&&(ie(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(o.initialStylesByElement.delete(this._element),this._startStyles&&(ye(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ye(this._element,this._endStyles),this._endStyles=null),ie(this._element,this._initialStyles),this._state=3)}}return o})();function mi(o){let t=null;return o.forEach((i,e)=>{go(e)&&(t=t||new Map,t.set(e,i))}),t}function go(o){return o==="display"||o==="position"}var Ct=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,i,e,n){this.element=t,this.keyframes=i,this.options=e,this._specialStyles=n,this._duration=e.duration,this._delay=e.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let i=()=>this._onFinish();this.domPlayer.addEventListener("finish",i),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",i)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let i=[];return t.forEach(e=>{i.push(Object.fromEntries(e))}),i}_triggerWebAnimation(t,i,e){return t.animate(this._convertKeyframesToObject(i),e)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((e,n)=>{n!=="offset"&&t.set(n,this._finished?e:pt(this.element,n))}),this.currentSnapshot=t}triggerCallback(t){let i=t==="start"?this._onStartFns:this._onDoneFns;i.forEach(e=>e()),i.length=0}},Pt=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,i){return ii(t,i)}getParentElement(t){return mt(t)}query(t,i,e){return ni(t,i,e)}computeStyle(t,i,e){return pt(t,i)}animate(t,i,e,n,r,s=[]){let a=n==0?"both":"forwards",l={duration:e,delay:n,fill:a};r&&(l.easing=r);let c=new Map,d=s.filter(_=>_ instanceof Ct);$n(e,n)&&d.forEach(_=>{_.currentSnapshot.forEach((f,b)=>c.set(b,f))});let u=Ln(i).map(_=>new Map(_));u=Vn(t,u,c);let S=mo(t,u);return new Ct(t,u,l,S)}};var _t="@",nr="@.disabled",It=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,i,e,n){this.namespaceId=t,this.delegate=i,this.engine=e,this._onDestroy=n}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,i){return this.delegate.createElement(t,i)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,i){this.delegate.appendChild(t,i),this.engine.onInsert(this.namespaceId,i,t,!1)}insertBefore(t,i,e,n=!0){this.delegate.insertBefore(t,i,e),this.engine.onInsert(this.namespaceId,i,t,n)}removeChild(t,i,e){this.parentNode(i)&&this.engine.onRemove(this.namespaceId,i,this.delegate)}selectRootElement(t,i){return this.delegate.selectRootElement(t,i)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,i,e,n){this.delegate.setAttribute(t,i,e,n)}removeAttribute(t,i,e){this.delegate.removeAttribute(t,i,e)}addClass(t,i){this.delegate.addClass(t,i)}removeClass(t,i){this.delegate.removeClass(t,i)}setStyle(t,i,e,n){this.delegate.setStyle(t,i,e,n)}removeStyle(t,i,e){this.delegate.removeStyle(t,i,e)}setProperty(t,i,e){i.charAt(0)==_t&&i==nr?this.disableAnimations(t,!!e):this.delegate.setProperty(t,i,e)}setValue(t,i){this.delegate.setValue(t,i)}listen(t,i,e,n){return this.delegate.listen(t,i,e,n)}disableAnimations(t,i){this.engine.disableAnimations(t,i)}},Mi=class extends It{factory;constructor(t,i,e,n,r){super(i,e,n,r),this.factory=t,this.namespaceId=i}setProperty(t,i,e){i.charAt(0)==_t?i.charAt(1)=="."&&i==nr?(e=e===void 0?!0:!!e,this.disableAnimations(t,e)):this.engine.process(this.namespaceId,t,i.slice(1),e):this.delegate.setProperty(t,i,e)}listen(t,i,e,n){if(i.charAt(0)==_t){let r=fo(t),s=i.slice(1),a="";return s.charAt(0)!=_t&&([s,a]=po(s)),this.engine.listen(this.namespaceId,r,s,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,e,l)})}return this.delegate.listen(t,i,e,n)}};function fo(o){switch(o){case"body":return document.body;case"document":return document;case"window":return window;default:return o}}function po(o){let t=o.indexOf("."),i=o.substring(0,t),e=o.slice(t+1);return[i,e]}var At=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,i,e){this.delegate=t,this.engine=i,this._zone=e,i.onRemovalComplete=(n,r)=>{r?.removeChild(null,n)}}createRenderer(t,i){let e="",n=this.delegate.createRenderer(t,i);if(!t||!i?.data?.animation){let c=this._rendererCache,d=c.get(n);if(!d){let u=()=>c.delete(n);d=new It(e,n,this.engine,u),c.set(n,d)}return d}let r=i.id,s=i.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(r,s,t,c.name,c)};return i.data.animation.forEach(a),new Mi(this,s,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,e){if(t>=0&&t<this._microtaskId){this._zone.run(()=>i(e));return}let n=this._animationCallbacksBuffer;n.length==0&&queueMicrotask(()=>{this._zone.run(()=>{n.forEach(r=>{let[s,a]=r;s(a)}),this._animationCallbacksBuffer=[]})}),n.push([i,e])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var vo=(()=>{class o extends ze{constructor(i,e,n){super(i,e,n)}ngOnDestroy(){this.flush()}static \u0275fac=function(e){return new(e||o)(P(zi),P(Pe),P(Ie))};static \u0275prov=O({token:o,factory:o.\u0275fac})}return o})();function bo(){return new St}function _o(o,t,i){return new At(o,t,i)}var rr=[{provide:Ie,useFactory:bo},{provide:ze,useClass:vo},{provide:Bi,useFactory:_o,deps:[Hi,ze,Gi]}],ts=[{provide:Pe,useClass:Ti},{provide:Rt,useValue:"NoopAnimations"},...rr],So=[{provide:Pe,useFactory:()=>new Pt},{provide:Rt,useFactory:()=>"BrowserAnimations"},...rr];function or(){return ji("NgEagerAnimations"),[...So]}var Ot=[{path:"",component:sn,children:[{path:"",loadComponent:()=>import("./chunk-ZPF5YQGU.js").then(o=>o.BlogHomeComponent),data:{seo:{title:"Blog de Cine, Series y Anime | Gu\xEDa Programaci\xF3n",description:"Descubre los mejores art\xEDculos sobre cine, series y anime. An\xE1lisis, rese\xF1as y noticias del mundo del entretenimiento.",keywords:"blog cine, series, anime, rese\xF1as, noticias entretenimiento"}}},{path:"top10",loadComponent:()=>import("./chunk-NI6RWPKM.js").then(o=>o.Top10Component),data:{seo:{title:"Top 10 - Rankings de Cine, Series y Anime",description:"Los mejores rankings del cine, series y anime. Descubre las obras maestras y joyas ocultas de cada temporada.",keywords:"top 10, rankings cine, mejores series, mejores anime"}}},{path:"categoria/:slug",loadComponent:()=>import("./chunk-NGWHZWXM.js").then(o=>o.CategoryComponent)},{path:":slug",loadComponent:()=>import("./chunk-GKDAVRVS.js").then(o=>o.PostDetailComponent)}]}];var sr=[{path:"",loadComponent:()=>import("./chunk-XB3FJSA6.js").then(o=>o.HomeComponent),title:"Inicio - Gu\xEDa TV"},{path:"series",loadComponent:()=>import("./chunk-TTONWATV.js").then(o=>o.SeriesComponent),title:"Series - Gu\xEDa TV"},{path:"peliculas",loadComponent:()=>import("./chunk-ZCQPTHN5.js").then(o=>o.PeliculasComponent),title:"Pel\xEDculas - Gu\xEDa TV"},{path:"guia-canales",loadComponent:()=>import("./chunk-HN3MV4EB.js").then(o=>o.ListaCanalesComponent),title:"Gu\xEDa de Canales - Gu\xEDa TV"},{path:"programacion-tv/ver-canal/:id",loadComponent:()=>import("./chunk-XCELHMI6.js").then(o=>o.CanalCompletoComponent),title:"Canal - Gu\xEDa TV"},{path:"que-ver-hoy",loadComponent:()=>import("./chunk-INUP2K7C.js").then(o=>o.ListaDestacadasComponent),title:"Qu\xE9 Ver Hoy - Gu\xEDa TV"},{path:"ver-canal/:id",loadComponent:()=>import("./chunk-XCELHMI6.js").then(o=>o.CanalCompletoComponent),title:"Canal - Gu\xEDa TV"},{path:"detalles/:id",loadComponent:()=>import("./chunk-3AZKH4ZL.js").then(o=>o.PeliculaDetailsComponent),title:"Detalles - Gu\xEDa TV"},{path:"pelicula-details/:id",loadComponent:()=>import("./chunk-3AZKH4ZL.js").then(o=>o.PeliculaDetailsComponent),title:"Detalle de Pel\xEDcula - Gu\xEDa TV"},{path:"peliculas/:slug",loadComponent:()=>import("./chunk-3AZKH4ZL.js").then(o=>o.PeliculaDetailsComponent),title:"Pel\xEDculas - Detalle - Gu\xEDa TV"},{path:"programas/:slug",loadComponent:()=>import("./chunk-TCJETXYU.js").then(o=>o.ProgramFullDetailsComponent),title:"Programas - Detalle - Gu\xEDa TV"},{path:"en-directo",loadComponent:()=>import("./chunk-7KZWUMBH.js").then(o=>o.AhoraDirectoComponent),title:"En Directo - Gu\xEDa TV"},{path:"blog",loadComponent:()=>import("./chunk-5AKXPFGX.js").then(o=>o.BlogLayoutComponent),children:Ot&&Ot.length?Ot[0].children:[],title:"Blog - Gu\xEDa TV"},{path:"program-full-details/:id",loadComponent:()=>import("./chunk-TCJETXYU.js").then(o=>o.ProgramFullDetailsComponent),title:"Detalles del Programa - Gu\xEDa TV"},{path:"avisolegal",loadComponent:()=>import("./chunk-AG23NEED.js").then(o=>o.LegalNoticeComponent),title:"Aviso Legal - Gu\xEDa TV"},{path:"privacidad",loadComponent:()=>import("./chunk-MZ6EFP7X.js").then(o=>o.PrivacyComponent),title:"Pol\xEDtica de Privacidad - Gu\xEDa TV"},{path:"cookies",loadComponent:()=>import("./chunk-BEEIPDLK.js").then(o=>o.CookiesComponent),title:"Pol\xEDtica de Cookies - Gu\xEDa TV"},{path:"terminos",loadComponent:()=>import("./chunk-7CZ22JQW.js").then(o=>o.TermsComponent),title:"T\xE9rminos y Condiciones - Gu\xEDa TV"},{path:"accesibilidad",loadComponent:()=>import("./chunk-BAPAE4DJ.js").then(o=>o.AccessibilityComponent),title:"Accesibilidad - Gu\xEDa TV"},{path:"sitemap",loadComponent:()=>import("./chunk-LSAPZILH.js").then(o=>o.SitemapComponent),title:"Mapa del sitio - Gu\xEDa TV"}];var ve=class{},K=class{};var Dt=function(o){return o.MOVIE="Cine",o.SERIES="Series",o.DOCUMENTARY="Documental",o.NEWS="Noticias",o.SPORTS="Deportes",o}(Dt||{});var We=function(o){return o.TODAY_PROGRAMS="today_programs",o.TOMORROW_PROGRAMS="tomorrow_programs",o.FEATURED_MOVIES="featured_movies",o.POPULAR_SERIES="popular_series",o}(We||{});var ar=(()=>{let t=class t{constructor(e){this.logger=e,this.cache=new Map,this.defaultTTL=5*60*1e3}get(e){let n=this.cache.get(e);return n?Date.now()>n.expiry?(this.cache.delete(e),this.logger.debug(`Cache expired for key: ${e}`),null):(this.logger.debug(`Cache hit for key: ${e}`),n.data):(this.logger.debug(`Cache miss for key: ${e}`),null)}set(e,n,r=this.defaultTTL){let s=Date.now()+r;this.cache.set(e,{data:n,expiry:s}),this.logger.debug(`Cache set for key: ${e}, TTL: ${r}ms`)}has(e){let n=this.cache.get(e);return n?Date.now()<=n.expiry:!1}clear(e){e?(this.cache.delete(e),this.logger.debug(`Cache cleared for key: ${e}`)):(this.cache.clear(),this.logger.debug("All cache cleared"))}getSize(){return this.cache.size}getKeys(){return Array.from(this.cache.keys())}};t.\u0275fac=function(n){return new(n||t)(P(K))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var H=(()=>{let t=class t{constructor(){this.config={api:{firebase:{baseUrl:"https://us-central1-guia-tv-8fe3c.cloudfunctions.net/app",timeout:1e4},tmdb:{baseUrl:"https://api.themoviedb.org/3",apiKey:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiNmE2MGE5YmRkZmZhZmU1YmMzZjZmNzAwZjIxZDBiMyIsInN1YiI6IjY1OGZmOWJlNDFhNTYxNjY3NTA0NzhmMCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.A6Pj5IuTllkQRXivh_KMmlHrKAnkh6NvJTiaEPYBAO8",language:"es-ES"}},cache:{defaultTTL:5*60*1e3,maxSize:100,enablePersistence:!ae.production},ui:{maxFeaturedMovies:10,autoRefreshInterval:5*60*1e3,enableAnimations:!ae.production},features:{enableMovies:!0,enableSeries:!0,enableTMDbFallback:!0,enableOfflineMode:!1}}}getConfig(){return Y({},this.config)}updateConfig(e){this.config=Y(Y({},this.config),this.mergeDeep(this.config,e))}getApiConfig(){return this.config.api}getCacheConfig(){return this.config.cache}getUIConfig(){return this.config.ui}getFeatureConfig(){return this.config.features}mergeDeep(e,n){let r=Object.assign({},e);return this.isObject(e)&&this.isObject(n)&&Object.keys(n).forEach(s=>{this.isObject(n[s])?s in e?r[s]=this.mergeDeep(e[s],n[s]):Object.assign(r,{[s]:n[s]}):Object.assign(r,{[s]:n[s]})}),r}isObject(e){return e&&typeof e=="object"&&!Array.isArray(e)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var lr=(()=>{let t=class t{constructor(e){this.logger=e,this._isInitialized=!1,this._isInitializing=!1,this.initializationError=null,this.statusSubject=new xi({initialized:!1,initializing:!1,error:null}),this.status$=this.statusSubject.asObservable(),this.logger.info("Initialization Manager created")}isInitialized(){return this._isInitialized}isInitializing(){return this._isInitializing}getInitializationError(){return this.initializationError}startInitialization(){return this.logger.debug(`Start initialization called - Current state: initialized=${this._isInitialized}, initializing=${this._isInitializing}`),this._isInitialized?(this.logger.info("Already initialized, skipping initialization"),!1):this._isInitializing?(this.logger.info("Initialization already in progress, waiting"),!1):(this.logger.info("Starting initialization process"),this._isInitializing=!0,this.initializationError=null,this.emitStatus(),!0)}completeInitialization(e){if(e&&typeof e=="function"){if(!e()){this.logger.error("Data verification failed during initialization completion"),this.failInitialization("Initialization completed but data verification failed");return}this.logger.debug("Data verification passed")}this.logger.info("Initialization completed successfully"),this._isInitialized=!0,this._isInitializing=!1,this.initializationError=null,this.emitStatus()}failInitialization(e){this.logger.error(`Initialization failed: ${e}`),this._isInitialized=!1,this._isInitializing=!1,this.initializationError=e,this.emitStatus()}resetInitialization(){this.logger.info("Resetting initialization state"),this._isInitialized=!1,this._isInitializing=!1,this.initializationError=null,this.emitStatus()}forceReinitialize(){this.logger.info("Forcing reinitialization"),this.resetInitialization(),this.emitStatus()}hasRealData(e){if(!this._isInitialized)return!1;if(e&&typeof e=="function"){let n=e();return this.logger.debug(`Real data verification: ${n}`),n||(this.logger.warn("Real data missing detected, resetting initialization state"),this.resetInitialization(),!1)}return this._isInitialized}debugStateConsistency(e){if(this.logger.debug(`
=== DEBUG STATE CONSISTENCY ===`),this.logger.debug(`Internal State - Initialized: ${this._isInitialized}`),this.logger.debug(`Internal State - Initializing: ${this._isInitializing}`),this.logger.debug(`Internal State - Error: ${this.initializationError||"None"}`),e&&typeof e=="function"){let n=e();this.logger.debug(`External Data Check: ${n}`),this._isInitialized&&!n&&this.logger.warn("INCONSISTENCY DETECTED: Service says initialized but no external data!"),!this._isInitialized&&n&&this.logger.warn("INCONSISTENCY DETECTED: Service says not initialized but external data exists!")}this.logger.debug(`=== END DEBUG STATE CONSISTENCY ===
`)}getStatusSummary(){return`Initialization Status - Initialized: ${this._isInitialized}, Initializing: ${this._isInitializing}, Error: ${this.initializationError||"None"}`}emitStatus(){let e={initialized:this._isInitialized,initializing:this._isInitializing,error:this.initializationError};this.logger.debug("Emitting initialization status",e),this.statusSubject.next(e)}};t.\u0275fac=function(n){return new(n||t)(P(K))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var dr=(()=>{let t=class t{constructor(e,n,r,s){this.http=e,this.cache=n,this.logger=r,this.configService=s,this.baseUrl=this.configService.getApiConfig().firebase.baseUrl}getPrograms(e){let n=`${We.TODAY_PROGRAMS}_${e}`,r=this.cache.get(n);return r?(this.logger.info(`Using cached programs for ${e}`,{count:r.length}),C(r)):(this.logger.info(`Fetching programs from Firebase for ${e}`),this.http.get(`${this.baseUrl}/programas/date/${e}`).pipe(V(s=>this.transformFirebaseData(s)),ce(s=>{this.cache.set(n,s),this.logger.info(`Programs cached for ${e}`,{count:s.length,channels:this.extractUniqueChannels(s).length})}),R(s=>{throw this.logger.error(`Failed to fetch programs for ${e}`,s),s})))}getChannels(){let e="channels",n=this.cache.get(e);return n?(this.logger.info("Using cached channels"),C(n)):(this.logger.info("Fetching channels from Firebase"),this.http.get(`${this.baseUrl}/canales`).pipe(ce(r=>{this.cache.set(e,r),this.logger.info("Channels cached",{count:r.length})}),R(r=>{throw this.logger.error("Failed to fetch channels",r),r})))}transformFirebaseData(e){if(!Array.isArray(e))return this.logger.warn("Invalid channel data received from Firebase",e),[];this.logger.debug(`Transforming ${e.length} channels from Firebase`);let n=[];return e.forEach((r,s)=>{if(!r||!r.channel){this.logger.warn(`Invalid channel data at index ${s}`,r);return}let a=r.channel;(r.programs||[]).forEach((c,d)=>{let u={id:c.id||this.generateId(s,d),title:c.title||"Sin t\xEDtulo",start:c.start,end:c.end||c.stop,channel_id:a.id,channel:{id:a.id,name:a.name,icon:a.icon||"",type:a.type},category:c.category,desc:c.desc,starRating:c.starRating};n.push(u)})}),this.logger.info(`Transformed ${n.length} total programs from ${e.length} channels`),n.length>0&&this.logger.debug("Sample transformed program:",n[0]),n}extractUniqueChannels(e){let n=new Map;return e.forEach(r=>{r.channel&&!n.has(r.channel.id)&&n.set(r.channel.id,r.channel)}),Array.from(n.values())}generateId(e,n){return`program_${Date.now()}_${e}_${n}_${Math.random().toString(36).substr(2,9)}`}getProgramsForProgramList(e){console.log(`\u{1F525} Firebase: Obteniendo programas en formato ProgramList para ${e}`);let n=`${this.baseUrl}/programas/date/${e}`;return console.log(`\u{1F4E1} URL de la petici\xF3n: ${n}`),this.http.get(n).pipe(ce(r=>{console.log(`\u2705 Firebase: Respuesta recibida, ${r.length} canales`)}),V(r=>{let s=this.transformForProgramList(r);return console.log(`\u{1F504} Datos transformados: ${s.length} canales`),s}),ce(r=>{this.logger.info("\u2705 ProgramList format data prepared",{channelsCount:r.length,totalPrograms:r.reduce((s,a)=>s+(a.channels?.length||0),0)})}),R(r=>{throw console.error("\u274C Firebase: Error en getProgramsForProgramList",r),this.logger.error("Failed to fetch programs for ProgramList format",r),r}))}transformForProgramList(e){return Array.isArray(e)?e.map(n=>({id:n.channel.id,channel:n.channel,channels:n.programs.map(r=>Je(Y({},r),{id:r.id||this.generateId(0,0),duracion:this.calculateDuration(r.start,r.end||r.stop),start:r.start,stop:r.end||r.stop}))})):(this.logger.warn("Invalid data for ProgramList transformation"),[])}calculateDuration(e,n){if(!e||!n)return 30;try{let r=new Date(e).getTime(),s=new Date(n).getTime();return Math.max(1,Math.floor((s-r)/(1e3*60)))}catch(r){return this.logger.warn("Error calculating duration",{start:e,end:n,error:r}),30}}};t.\u0275fac=function(n){return new(n||t)(P(se),P(ve),P(K),P(H))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var ur=(()=>{let t=class t{constructor(e,n,r,s){this.http=e,this.cache=n,this.logger=r,this.configService=s;let a=this.configService.getApiConfig().tmdb;this.baseUrl=a.baseUrl,this.headers=new tt({Accept:"application/json",Authorization:a.apiKey})}getPopularMovies(){let e=We.FEATURED_MOVIES,n=this.cache.get(e);if(n)return this.logger.info("Using cached popular movies",{count:n.length}),C(n);this.logger.info("Fetching popular movies from TMDb");let r=this.configService.getApiConfig().tmdb.language;return this.http.get(`${this.baseUrl}/movie/popular?language=${r}&page=1`,{headers:this.headers}).pipe(V(s=>this.transformTMDbMovies(s.results||[])),ce(s=>{this.cache.set(e,s),this.logger.info("Popular movies cached",{count:s.length})}),R(s=>(this.logger.error("Failed to fetch popular movies from TMDb",s),C([]))))}searchMovie(e){if(!e?.trim())return this.logger.warn("Empty title provided for movie search"),C({results:[]});let n=this.configService.getApiConfig().tmdb.language,r=`${this.baseUrl}/search/movie?language=${n}&query=${encodeURIComponent(e.trim())}&page=1&include_adult=false`;return this.logger.debug(`Searching movie: "${e}"`),this.http.get(r,{headers:this.headers}).pipe(ce(()=>this.logger.debug(`Movie search completed for: "${e}"`)),R(s=>(this.logger.error(`Failed to search movie: "${e}"`,s),C({results:[]}))))}getMovieDetails(e){if(!e?.trim())return this.logger.warn("Empty ID provided for movie details"),C({});let n=this.configService.getApiConfig().tmdb.language,r=`${this.baseUrl}/movie/${e}?language=${n}`;return this.logger.debug(`Fetching movie details for ID: ${e}`),this.http.get(r,{headers:this.headers}).pipe(ce(()=>this.logger.debug(`Movie details fetched for ID: ${e}`)),R(s=>(this.logger.error(`Failed to fetch movie details for ID: ${e}`,s),C({}))))}transformTMDbMovies(e){if(!Array.isArray(e))return this.logger.warn("Invalid movies data received from TMDb",e),[];let n=this.configService.getUIConfig().maxFeaturedMovies;return e.slice(0,n).map((r,s)=>({id:r.id?.toString()||`tmdb_${s}`,title:r.title||"Sin t\xEDtulo",description:r.overview||"Sin descripci\xF3n disponible",poster:r.poster_path?`https://image.tmdb.org/t/p/w500${r.poster_path}`:"",rating:r.vote_average||null,tmdbId:r.id,releaseDate:r.release_date,isFallback:!0}))}};t.\u0275fac=function(n){return new(n||t)(P(se),P(ve),P(K),P(H))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var mr=(()=>{let t=class t{constructor(e,n,r,s){this.http=e,this.cache=n,this.logger=r,this.configService=s,this.imageBaseUrl="https://image.tmdb.org/t/p/w500",this.defaultPoster="assets/images/default-movie-poster.svg",this.cachePrefix="poster_",this.cacheTTL=24*60*60*1e3,this.isNetworkAvailable=!0,this.consecutiveFailures=0,this.maxConsecutiveFailures=3,this.networkRetryDelay=3e4;let a=this.configService.getApiConfig().tmdb;this.baseUrl=a.baseUrl,this.headers=new tt({Accept:"application/json",Authorization:a.apiKey})}extractPoster(e,n){return this.extractPosterWithData(e,n).pipe(V(r=>r.posterUrl))}extractPosterWithData(e,n){if(!e?.trim())return this.logger.warn("Empty movie title provided for poster extraction"),C({posterUrl:this.getDefaultPoster()});let r=this.generateCacheKey(e,n),s=this.cache.get(r);return s?(this.logger.debug(`Using cached poster for: "${e}"`),C({posterUrl:s})):this.isNetworkAvailable?(this.logger.debug(`Searching poster and data for movie: "${e}" (${n||"no year"})`),this.searchMoviePosterAndData(e,n).pipe(V(a=>(this.consecutiveFailures=0,this.isNetworkAvailable=!0,this.cache.set(r,a.posterUrl,this.cacheTTL),this.logger.debug(`Movie data found for "${e}": ${a.posterUrl!==this.getDefaultPoster()?"TMDb":"default"}`),a)),R(a=>(this.handleNetworkError(a,e),C({posterUrl:this.getDefaultPoster()}))),ki(1e4))):(this.logger.warn(`Network unavailable for "${e}", using default poster`),C({posterUrl:this.getDefaultPoster()}))}extractPosterFromProgram(e){let n=this.extractMovieTitle(e),r=this.extractMovieYear(e);return n?(this.logger.info("Extracting poster for program:",{id:e.id,title:n,channel:e.channel?.name,category:e.category?.value,year:r,rating:e.starRating,startTime:this.formatTime(e.start)}),this.extractPoster(n,r).pipe(R(s=>(this.logger.warn(`Failed to extract poster for program "${n}", using fallback`,s),C(this.getFallbackPoster(e)))))):(this.logger.warn("No title found in program for poster extraction",{programId:e.id,originalTitle:e.title}),C(this.getFallbackPoster(e)))}extractPosterAndDataFromProgram(e){let n=this.extractMovieTitle(e),r=this.extractMovieYear(e);return n?this.extractPosterWithData(n,r).pipe(V(s=>Je(Y({},s),{originalProgram:e})),R(s=>(this.logger.warn(`Failed to extract poster and data for program "${n}"`),C({posterUrl:this.getFallbackPoster(e),originalProgram:e})))):C({posterUrl:this.getFallbackPoster(e),originalProgram:e})}getDefaultPoster(){return this.defaultPoster}searchMoviePosterAndData(e,n){let r=this.configService.getApiConfig().tmdb.language,s=encodeURIComponent(e.trim());n&&(s+=`&year=${n}`);let a=`${this.baseUrl}/search/movie?language=${r}&query=${s}&page=1&include_adult=false`;return this.http.get(a,{headers:this.headers}).pipe(V(l=>{if(!l?.results?.length)return{posterUrl:this.getDefaultPoster()};let c=this.findBestMatch(l.results,e,n);if(c){let d={posterUrl:c.poster_path?`${this.imageBaseUrl}${c.poster_path}`:this.getDefaultPoster()};return c.poster_path&&(d.movieData={tmdbId:c.id,rating:c.vote_average,description:c.overview||"",releaseDate:c.release_date||""}),d}return{posterUrl:this.getDefaultPoster()}}),R(l=>(this.consecutiveFailures===0?this.logger.error(`\u{1F50D} TMDb API error searching "${e}":`,l):this.logger.debug(`TMDb API error for "${e}" (failure ${this.consecutiveFailures+1})`),C({posterUrl:this.getDefaultPoster()}))))}searchMoviePoster(e,n){return this.searchMoviePosterAndData(e,n).pipe(V(r=>r.posterUrl))}isSSLError(e){return e?.error?.code==="SELF_SIGNED_CERT_IN_CHAIN"||e?.message?.includes("certificate")||e?.message?.includes("SSL")||e?.message?.includes("TLS")||e?.status===0}findBestMatch(e,n,r){if(!e.length)return null;if(r){let l=e.filter(c=>(c.release_date?new Date(c.release_date).getFullYear().toString():"")===r);if(l.length>0)return l.sort((c,d)=>d.vote_average-c.vote_average)[0]}let s=n.toLowerCase(),a=e.filter(l=>l.title.toLowerCase()===s);return a.length>0?a.sort((l,c)=>c.vote_average-l.vote_average)[0]:e.sort((l,c)=>c.vote_average-l.vote_average)[0]}extractMovieTitle(e){return typeof e.title=="string"?e.title.trim():e.title?.value?.trim()||""}extractMovieYear(e){let n=e.desc?.year;if(n&&/^\d{4}$/.test(n.toString()))return n.toString();let r=this.extractYearFromText(this.extractMovieTitle(e));if(r)return r;let s=this.extractYearFromText(e.desc?.details||"");if(s)return s}extractYearFromText(e){let n=e.match(/\b(19|20)\d{2}\b/);return n?n[0]:void 0}getFallbackPoster(e){return e.channel?.icon||this.getDefaultPoster()}generateCacheKey(e,n){let r=`${e.toLowerCase().replace(/\s+/g,"_")}${n?`_${n}`:""}`;return`${this.cachePrefix}${r}`}formatTime(e){try{return new Date(e).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}catch{return"hora desconocida"}}handleNetworkError(e,n){this.consecutiveFailures++,this.isSSLError(e)?(this.logger.warn(`\u{1F512} SSL/Network error for "${n}" (failure ${this.consecutiveFailures}/${this.maxConsecutiveFailures})`),this.consecutiveFailures>=this.maxConsecutiveFailures&&(this.isNetworkAvailable=!1,this.logger.warn(`\u{1F6AB} Network marked as unavailable after ${this.consecutiveFailures} consecutive failures. Retrying in ${this.networkRetryDelay/1e3} seconds.`),setTimeout(()=>{this.logger.info("\u{1F504} Attempting to restore network connectivity..."),this.isNetworkAvailable=!0,this.consecutiveFailures=0},this.networkRetryDelay))):this.logger.warn(`\u274C API error for "${n}":`,e.message||e)}isServiceAvailable(){return this.isNetworkAvailable&&this.consecutiveFailures<this.maxConsecutiveFailures}forceReconnect(){this.logger.info("\u{1F504} Forcing network reconnection..."),this.isNetworkAvailable=!0,this.consecutiveFailures=0}};t.\u0275fac=function(n){return new(n||t)(P(se),P(ve),P(K),P(H))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var hr=(()=>{let t=class t{constructor(e){this.logger=e}filterMovies(e){if(!Array.isArray(e))return this.logger.warn("Invalid programs array provided to filterMovies"),[];e.length>0&&this.logger.debug("First program structure:",JSON.stringify(e[5],null,2));let n=e.filter(r=>{let s=this.extractCategoryValue(r.category?.value),a=this.extractTitle(r.title),l=this.isMovieCategory(s),c=this.hasValidMovieTitle(a),d=this.isNotGenericMovieBlock(r),u=l&&c&&d;return u&&this.logger.debug(`Movie found: "${a}" on ${r.channel?.name}`),u});return this.logger.info(`Filtered ${n.length} movies from ${e.length} programs`),n}filterFeaturedMovies(e){if(!Array.isArray(e))return this.logger.warn("Invalid programs array provided to filterFeaturedMovies"),[];let n=e.filter(r=>{let s=this.extractCategoryValue(r.category?.value),a=this.extractTitle(r.title),l=this.isMovieCategory(s),c=this.hasValidMovieTitle(a),d=this.isNotGenericMovieBlock(r),u=this.isPrimeTimeMovie(r),S=l&&c&&d&&u;return S?this.logger.debug(`Featured movie found: "${a}" on ${r.channel?.name} at ${this.formatTime(r.start)}`):l&&c&&d&&!u&&this.logger.debug(`Movie "${a}" excluded: not in prime time (${this.formatTime(r.start)})`),S});return this.logger.info(`Filtered ${n.length} featured movies from ${e.length} programs (prime time: 21:00-23:59)`),n}filterSeries(e){if(!Array.isArray(e))return this.logger.warn("Invalid programs array provided to filterSeries"),[];let n=e.filter(r=>{let s=this.extractCategoryValue(r.category?.value),a=this.extractTitle(r.title),l=s===Dt.SERIES,c=a&&a.length>0;return l&&c});return this.logger.info(`Filtered ${n.length} series from ${e.length} programs`),n}filterByCategory(e,n){if(!Array.isArray(e))return this.logger.warn("Invalid programs array provided to filterByCategory"),[];if(!n?.trim())return this.logger.warn("Empty category provided to filterByCategory"),[];let r=e.filter(s=>this.extractCategoryValue(s.category?.value)===n.trim());return this.logger.info(`Filtered ${r.length} programs for category: ${n}`),r}extractCategoryValue(e){return e&&e.split(",")[0]?.trim()||""}extractTitle(e){return typeof e=="string"?e:e?.value||""}isMovieCategory(e){let n=["cine","movie","pel\xEDcula","film"],r=e.toLowerCase();return n.some(s=>r.includes(s))||e===Dt.MOVIE}hasValidMovieTitle(e){if(!e||e.length===0)return!1;let n=e.toLowerCase();return!["cine","pel\xEDcula","movies","film"].includes(n)}isNotGenericMovieBlock(e){let n=e.desc?.details||e.desc?.value||"",r=["emisi\xF3n de una pel\xEDcula","cine gen\xE9rico","programaci\xF3n de pel\xEDculas"],s=n.toLowerCase();return!r.some(a=>s.includes(a))}isPrimeTimeMovie(e){if(!e.start)return!1;try{let n=en(e.start),r=new Date(e.start),s=n.getHours(),a=n.getMinutes(),l=s>=21&&s<=23,c=this.extractTitle(e.title),d=`${s.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`,u=`${r.getHours().toString().padStart(2,"0")}:${r.getMinutes().toString().padStart(2,"0")}`;return c.toLowerCase().includes("ghost")||c.toLowerCase().includes("equalizer")?(this.logger.info(`DEBUG: Movie "${c}" - Raw time: ${u} -> Corrected: ${d} (hour: ${s}) - Prime time: ${l}`),this.logger.info(`DEBUG: Raw start string: ${e.start}`),nn(e.start,`Movie: ${c}`)):this.logger.debug(`Movie "${c}" starts at ${d} - Prime time: ${l}`),l}catch{return this.logger.warn(`Invalid start date for program: ${e.start}`),!1}}formatTime(e){try{return tn(e)}catch{return"hora desconocida"}}};t.\u0275fac=function(n){return new(n||t)(P(K))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var gr=(()=>{let t=class t{constructor(e,n,r){this.logger=e,this.posterProvider=n,this.configService=r}transformToFeaturedMovies(e){if(!Array.isArray(e))return this.logger.warn("Invalid programs array provided to transformToFeaturedMovies"),C([]);let n=this.configService.getUIConfig().maxFeaturedMovies,r=e.slice(0,n);if(r.length===0)return this.logger.info("No programs to transform"),C([]);(this.posterProvider.isServiceAvailable?.()??!0)||this.logger.warn("\u{1F6AB} TMDb service temporarily unavailable. Using fallback posters for all movies."),this.logger.info(`Starting transformation of ${r.length} programs to featured movies`);let a=new Map;r.forEach(d=>{let u=this.extractTitle(d.title);u&&!a.has(u.toLowerCase())&&a.set(u.toLowerCase(),d)});let l=Array.from(a.values());this.logger.info(`Removed duplicates: ${r.length} -> ${l.length} unique movies`);let c=l.map((d,u)=>this.transformSingleProgramOptimized(d,u));return Ri(c).pipe(V(d=>{let u=d.filter(f=>f!==null),S=u.filter(f=>!f.isFallback).length,_=u.filter(f=>f.isFallback).length;return this.logger.info(`\u{1F3AC} Transformation complete: ${u.length} movies (${S} from TMDb, ${_} fallback)`),u}),R(d=>(this.logger.error("Error transforming programs to featured movies",d),C([]))))}transformSingleProgram(e,n){let r=this.extractTitle(e.title);return r?this.posterProvider.extractPosterFromProgram(e).pipe(V(s=>({id:e.id||`movie_${n}`,title:r,description:this.extractDescription(e),poster:s,rating:e.starRating||null,tmdbId:null,releaseDate:e.desc?.year,isFallback:!1,channelId:e.channel_id,channelName:e.channel?.name,startTime:e.start,endTime:e.end,category:e.category?.value})),R(s=>(this.logger.warn(`Error transforming program "${r}":`,s),C({id:e.id||`movie_${n}`,title:r,description:this.extractDescription(e),poster:this.posterProvider.getDefaultPoster(),rating:e.starRating||null,tmdbId:null,releaseDate:e.desc?.year,isFallback:!0,channelId:e.channel_id,channelName:e.channel?.name,startTime:e.start,endTime:e.end,category:e.category?.value})))):(this.logger.warn(`Program at index ${n} has no valid title`,{programId:e.id}),C(null))}transformSingleProgramOptimized(e,n){let r=this.extractTitle(e.title);if(!r)return this.logger.warn(`Program at index ${n} has no valid title`,{programId:e.id}),C(null);if(!(this.posterProvider.isServiceAvailable?.()??!0))return C(this.createMovieWithFallback(e,n,r));let a=n<3||n%5===0;return a&&this.logger.info("\u{1F3AC} Processing movie:",{id:e.id,title:r,channel:e.channel?.name,category:e.category?.value,year:e.desc?.year,rating:e.starRating,startTime:this.formatTime(e.start)}),this.posterProvider.extractPosterFromProgram(e).pipe(V(l=>{let c={id:e.id||`movie_${n}`,title:r,description:this.extractDescription(e),poster:l,rating:this.extractRating(e),tmdbId:null,releaseDate:e.desc?.year,isFallback:l===this.posterProvider.getDefaultPoster(),channelId:e.channel_id,channelName:e.channel?.name,startTime:e.start,endTime:e.end,category:e.category?.value};return a&&!c.isFallback&&this.logger.info(`\u2705 TMDb poster found for "${r}"`),c}),R(l=>(a&&this.logger.warn(`\u26A0\uFE0F Error transforming program "${r}", using fallback`),C(this.createMovieWithFallback(e,n,r)))))}createMovieWithFallback(e,n,r){return{id:e.id||`movie_${n}`,title:r,description:this.extractDescription(e),poster:e.channel?.icon||this.posterProvider.getDefaultPoster(),rating:this.extractRating(e),tmdbId:null,releaseDate:e.desc?.year,isFallback:!0,channelId:e.channel_id,channelName:e.channel?.name,startTime:e.start,endTime:e.end,category:e.category?.value}}extractRating(e){let n=e.starRating;if(!n)return null;if(typeof n=="string"){let r=n.match(/^(\d+(?:\.\d+)?)/);if(r)return parseFloat(r[1])}return typeof n=="number"?n:null}selectFeaturedMovie(e){if(!Array.isArray(e)||e.length===0)return this.logger.warn("No movies available for selection"),null;let n=e.find(a=>a.rating&&a.rating>7);if(n)return this.logger.info(`Selected featured movie by rating: "${n.title}" (${n.rating})`),n;let r=e.find(a=>a.poster&&a.poster.length>0);if(r)return this.logger.info(`Selected featured movie with poster: "${r.title}"`),r;let s=e[0];return this.logger.info(`Selected default featured movie: "${s.title}"`),s}extractTitle(e){return typeof e=="string"?e:e?.value||""}extractDescription(e){if(e.desc?.value)return e.desc.value;if(e.desc?.details)return e.desc.details;let n=this.extractTitle(e.title),r=e.channel?.name||"canal desconocido",s=this.formatTime(e.start);return`${n} en ${r} a las ${s}`}formatTime(e){try{return new Date(e).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}catch{return this.logger.warn(`Invalid date string: ${e}`),"hora desconocida"}}getPosterServiceStats(){let e=this.posterProvider;return{isAvailable:e.isServiceAvailable?.()??!0,consecutiveFailures:e.consecutiveFailures??0,cacheSize:0}}forceReconnectPosterService(){let e=this.posterProvider;e.forceReconnect&&(e.forceReconnect(),this.logger.info("\u{1F504} Poster service reconnection forced"))}};t.\u0275fac=function(n){return new(n||t)(P(Q),P(je),P(H))},t.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var Eo=[{provide:Q,useClass:at},H,{provide:xe,useFactory:o=>new ar(o),deps:[Q]}],Mo=[lt,qt,Qt,Zt,{provide:ct,useFactory:o=>new ct(void 0,o),deps:[lt]},{provide:Wt,useClass:Wt,deps:[lt,ct,qt,Qt,Zt,ke]}],To=[{provide:rt,useFactory:(o,t,i,e)=>new dr(o,t,i,e),deps:[se,xe,Q,H]},{provide:Gt,useFactory:(o,t,i,e)=>new ur(o,t,i,e),deps:[se,xe,Q,H]},{provide:je,useFactory:(o,t,i,e)=>new mr(o,t,i,e),deps:[se,xe,Q,H]},{provide:Ut,useFactory:o=>new hr(o),deps:[Q]},{provide:Kt,useFactory:(o,t,i)=>new gr(o,t,i),deps:[Q,je,H]}],wo=[{provide:Ht,useFactory:o=>new lr(o),deps:[Q]}],Co=[{provide:ot,useClass:ot,deps:[rt,Gt,Ut,Kt,xe,Q]},{provide:ke,useClass:ke,deps:[rt,Ht,Q,ot]}],Ae=[...Eo,...To,...wo,...Mo,...Co];function Ci(o){try{let t=o.map(i=>typeof i=="function"?i.name:typeof i=="object"&&"provide"in i?i.provide.toString():"unknown");return console.log("\u2705 Providers validation passed:",t.length,"services"),!0}catch(t){return console.error("\u274C Providers validation failed:",t),!1}}var fr={providers:[Xi(sr),or(),Wi(),Qi(Zi()),...Ae,...Po(ae),...Io(ae)]};function Po(o){let t=[];return o.production?(console.log("\u{1F3ED} SOLID App - Configurando providers para PRODUCCI\xD3N"),t.push({provide:"ENVIRONMENT_MODE",useValue:"production"})):(console.log("\u{1F6E0}\uFE0F SOLID App - Configurando providers para DESARROLLO"),t.push({provide:"ENVIRONMENT_MODE",useValue:"development"},{provide:"DEBUG_ENABLED",useValue:!0})),t}function Io(o){return o.production?[]:[{provide:"SOLID_VALIDATION",useFactory:()=>{let t=Ci(Ae);return t?console.log("\u2705 SOLID Validation - All providers are correctly configured"):console.error("\u274C SOLID Validation - Provider configuration issues detected"),t}}]}!ae.production&&typeof window<"u"&&(window.SOLID_DEBUG={providers:Ae,environment:ae,validateProviders:()=>Ci(Ae),getProviderCount:()=>Ae.length,getProviderTypes:()=>Ae.map(o=>typeof o=="function"?`Class: ${o.name}`:typeof o=="object"&&"provide"in o?`Token: ${o.provide.toString()}`:"Unknown provider type")},console.log("\u{1F6E0}\uFE0F SOLID Debug tools available at window.SOLID_DEBUG"));var pr=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=fe({type:t,selectors:[["app-left-sidebar"]],decls:12,vars:0,consts:[[1,"w-80","xl:w-96","min-h-screen","py-8","pl-8","pr-6","bg-gradient-to-b","from-gray-900","via-gray-800","to-gray-900","border-r","border-gray-700/50","hidden","md:block","sticky","top-0","flex-shrink-0","backdrop-blur-sm"],["routerLink","/",1,"font-bold","text-xl","flex","items-center","gap-x-3","cursor-pointer","logo-section","mb-12","group"],[1,"relative"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"h-10","w-10","fill-red-500","group-hover:fill-red-400","transition-all","duration-300","transform","group-hover:scale-110","logo-icon"],["d","M10 15.5v-7c0-.41.47-.65.8-.4l4.67 3.5c.27.2.27.6 0 .8l-4.67 3.5c-.33.25-.8.01-.8-.4Zm11.96-4.45c.58 6.26-4.64 11.48-10.9 10.9 -4.43-.41-8.12-3.85-8.9-8.23 -.26-1.42-.19-2.78.12-4.04 .14-.58.76-.9 1.31-.7v0c.47.17.75.67.63 1.16 -.2.82-.27 1.7-.19 2.61 .37 4.04 3.89 7.25 7.95 7.26 4.79.01 8.61-4.21 7.94-9.12 -.51-3.7-3.66-6.62-7.39-6.86 -.83-.06-1.63.02-2.38.2 -.49.11-.99-.16-1.16-.64v0c-.2-.56.12-1.17.69-1.31 1.79-.43 3.75-.41 5.78.37 3.56 1.35 6.15 4.62 6.5 8.4ZM5.5 4C4.67 4 4 4.67 4 5.5 4 6.33 4.67 7 5.5 7 6.33 7 7 6.33 7 5.5 7 4.67 6.33 4 5.5 4Z"],[1,"absolute","inset-0","rounded-full","bg-red-500/20","blur-xl","opacity-0","group-hover:opacity-100","transition-opacity","duration-300"],[1,"tracking-wide","text-white","group-hover:text-red-300","transition-colors","duration-300","logo-text"],[1,"text-red-500","group-hover:text-red-400"],[1,"navigation-menu"]],template:function(n,r){n&1&&(m(0,"aside",0)(1,"div",1)(2,"div",2),j(),m(3,"svg",3),w(4,"path",4),h(),ee(),w(5,"div",5),h(),m(6,"div",6),v(7," GPTV"),m(8,"span",7),v(9,"."),h()()(),m(10,"div",8),w(11,"app-menu"),h()())},dependencies:[an],styles:['aside[_ngcontent-%COMP%]{scroll-behavior:smooth;scrollbar-width:thin;scrollbar-color:rgba(156,163,175,.5) transparent;box-shadow:2px 0 10px #0000000d}aside[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}aside[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}aside[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#9ca3af80;border-radius:3px;transition:background-color .2s ease}aside[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#9ca3afcc}@media (prefers-color-scheme: dark){aside[_ngcontent-%COMP%]{box-shadow:2px 0 10px #0003}}.logo-section[_ngcontent-%COMP%]{will-change:transform;transition:all .2s cubic-bezier(.4,0,.2,1)}.logo-section[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.logo-section[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{transform:translateZ(0);backface-visibility:hidden;transition:all .3s ease}.logo-section[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]:hover{filter:drop-shadow(0 4px 8px rgba(239,68,68,.3))}.logo-section[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{transition:all .2s ease}.logo-section[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]:hover{letter-spacing:.05em}.navigation-menu[_ngcontent-%COMP%]{transition:height .3s cubic-bezier(.4,0,.2,1)}.navigation-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{position:relative;transition:all .2s ease;border-radius:.5rem}.navigation-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:0;background:linear-gradient(135deg,#ef4444,#dc2626);border-radius:0 .25rem .25rem 0;transition:width .3s cubic-bezier(.4,0,.2,1);z-index:-1}.navigation-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover, .navigation-menu[_ngcontent-%COMP%]   .menu-item.active[_ngcontent-%COMP%]{background-color:#ef44440d;transform:translate(4px)}.navigation-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover:before, .navigation-menu[_ngcontent-%COMP%]   .menu-item.active[_ngcontent-%COMP%]:before{width:4px}@media (prefers-color-scheme: dark){.navigation-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover, .navigation-menu[_ngcontent-%COMP%]   .menu-item.active[_ngcontent-%COMP%]{background-color:#ef44441a}}.navigation-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:active{transform:translate(2px) scale(.98)}.navigation-menu[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{transition:all .2s ease}.menu-item[_ngcontent-%COMP%]:hover   .navigation-menu[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{transform:scale(1.1);color:#ef4444}.navigation-menu[_ngcontent-%COMP%]   .menu-text[_ngcontent-%COMP%]{transition:all .2s ease}.menu-item[_ngcontent-%COMP%]:hover   .navigation-menu[_ngcontent-%COMP%]   .menu-text[_ngcontent-%COMP%]{font-weight:600;color:#ef4444}@media (prefers-color-scheme: dark){.menu-item[_ngcontent-%COMP%]:hover   .navigation-menu[_ngcontent-%COMP%]   .menu-text[_ngcontent-%COMP%]{color:#f87171}}@media (max-width: 768px){aside[_ngcontent-%COMP%]{transform:translate(-100%);transition:transform .3s cubic-bezier(.4,0,.2,1)}aside.mobile-open[_ngcontent-%COMP%]{transform:translate(0)}}[routerLink][_ngcontent-%COMP%]:focus-visible, button[_ngcontent-%COMP%]:focus-visible, [role=button][_ngcontent-%COMP%]:focus-visible{outline:2px solid rgb(239,68,68);outline-offset:2px;border-radius:.375rem}[routerLink][_ngcontent-%COMP%]:focus:not(:focus-visible), button[_ngcontent-%COMP%]:focus:not(:focus-visible), [role=button][_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none}*[_ngcontent-%COMP%]{backface-visibility:hidden;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}@media (prefers-contrast: high){.logo-text[_ngcontent-%COMP%]{font-weight:800}.menu-text[_ngcontent-%COMP%]{font-weight:600}.navigation-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{border:1px solid currentColor;margin-bottom:.25rem}}']});let o=t;return o})();function Ao(o,t){o&1&&(m(0,"div",13)(1,"div",14),w(2,"div",15),m(3,"div",16),w(4,"div",17)(5,"div",18)(6,"div",19),h()(),m(7,"div",14),w(8,"div",15),m(9,"div",16),w(10,"div",17)(11,"div",18)(12,"div",19),h()(),m(13,"div",14),w(14,"div",15),m(15,"div",16),w(16,"div",17)(17,"div",18)(18,"div",19),h()(),m(19,"p",20),v(20,"Cargando pel\xEDculas destacadas..."),h()())}function Oo(o,t){if(o&1){let i=Ne();m(0,"div",21)(1,"div",22),j(),m(2,"svg",23),w(3,"path",24),h()(),ee(),m(4,"p",25),v(5,"No hay pel\xEDculas disponibles"),h(),m(6,"button",26),pe("click",function(){he(i);let n=J();return ge(n.forceReload())}),v(7," Recargar "),h()()}}function Do(o,t){if(o&1){let i=Ne();m(0,"div",35),pe("click",function(){let n=he(i).$implicit,r=J(2);return ge(r.navigateTo(n))}),m(1,"div",36)(2,"div",37)(3,"img",38),pe("error",function(n){he(i);let r=J(2);return ge(r.onImageError(n))}),h(),w(4,"div",39),m(5,"div",40)(6,"div",41),j(),m(7,"svg",42),w(8,"path",43),h()()()()(),ee(),m(9,"div",44)(10,"div",45)(11,"h3",46),v(12),h(),m(13,"p",47),v(14),h()(),m(15,"div",48)(16,"div",49),j(),m(17,"svg",50),w(18,"path",51),h(),ee(),m(19,"span",52),v(20),h()()()()()}if(o&2){let i=t.$implicit,e=J(2);zt("aria-label","Ver detalles de "+i.title.value),F(3),de("src",e.getMovieImageUrl(i),Ft)("alt",i.title.value+" poster"),F(9),Me(" ",i.title.value," "),F(2),Me(" ",e.getMovieCategory(i)," "),F(6),$t(e.formatRating(i.starRating))}}function No(o,t){if(o&1){let i=Ne();m(0,"div",27)(1,"div",28),Ve(2,Do,21,6,"div",29),h(),m(3,"div",30)(4,"button",31),pe("click",function(){he(i);let n=J();return ge(n.navigateTo2("movie"))}),m(5,"span",32)(6,"span"),v(7,"Ver M\xE1s Pel\xEDculas"),h(),j(),m(8,"svg",33),w(9,"path",34),h()()()()()}if(o&2){let i=J();F(2),de("ngForOf",i.popular_movies())("ngForTrackBy",i.trackByMovieId)}}function xo(o,t){if(o&1){let i=Ne();m(0,"div",61),pe("click",function(){let n=he(i).$implicit,r=J(2);return ge(r.navigateTo(n))}),m(1,"div",36)(2,"div",37)(3,"img",38),pe("error",function(n){he(i);let r=J(2);return ge(r.onImageError(n))}),h(),w(4,"div",39),m(5,"div",40)(6,"div",62),j(),m(7,"svg",42),w(8,"path",43),h()()()()(),ee(),m(9,"div",44)(10,"div",45)(11,"h3",63),v(12),h(),m(13,"p",47),v(14),h()(),m(15,"div",48)(16,"div",49),j(),m(17,"svg",50),w(18,"path",51),h(),ee(),m(19,"span",52),v(20),h()()()()()}if(o&2){let i=t.$implicit,e=J(2);zt("aria-label","Ver detalles de "+i.title.value),F(3),de("src",e.getSerieImageUrl(i),Ft)("alt",i.title.value+" poster"),F(9),Me(" ",i.title.value," "),F(2),Me(" ",e.getSerieCategory(i)," "),F(6),$t(e.formatRating(i.starRating))}}function ko(o,t){if(o&1){let i=Ne();m(0,"div",53)(1,"div",4)(2,"h2",54),v(3," Series Destacadas "),h(),m(4,"div",55),j(),m(5,"svg",56),w(6,"path",57),h()()(),ee(),m(7,"div",13),Ve(8,xo,21,6,"div",58),h(),m(9,"div",59)(10,"button",60),pe("click",function(){he(i);let n=J();return ge(n.navigateTo2("series"))}),m(11,"span",32)(12,"span"),v(13,"Ver M\xE1s Series"),h(),j(),m(14,"svg",33),w(15,"path",34),h()()()()()}if(o&2){let i=J();F(8),de("ngForOf",i.popular_series())("ngForTrackBy",i.trackBySerieId)}}var yr=(()=>{let t=class t{constructor(){this.homeDataService=Ee(ke),this.tvGuide=Ee(on),this.router=Ee(nt),this.destroyRef=Ee($i),this.popular_movies=Xe([]),this.popular_series=Xe([]),this.isLoading=Xe(!0)}ngOnInit(){console.log("\u{1F527} RIGHT-SIDEBAR - Initializing with corrected SOLID system"),this.initializeDataStreams();try{this.popular_movies().length===0&&(console.log("\u{1F504} RIGHT-SIDEBAR - Triggering peliculas destacadas load"),this.tvGuide.setPeliculasDestacadas()),this.popular_series().length===0&&(console.log("\u{1F504} RIGHT-SIDEBAR - Triggering series destacadas load"),this.tvGuide.setSeriesDestacadas())}catch{}}initializeDataStreams(){console.log("\u{1F4E1} RIGHT-SIDEBAR - Setting up data streams"),this.homeDataService.popularMovies$.pipe(st(this.destroyRef)).subscribe(e=>{if(console.log("\u{1F3AC} RIGHT-SIDEBAR - Popular movies received:",e.length),e&&e.length>0){let n=this.convertToSidebarFormat(e,"movie");this.popular_movies.set(n),this.isLoading.set(!1),console.log("\u2705 RIGHT-SIDEBAR - Movies converted and set:",n.length)}else console.log("\u26A0\uFE0F RIGHT-SIDEBAR - No movies received, keeping loading state")}),this.tvGuide.getSeriesDestacadas().pipe(st(this.destroyRef)).subscribe(e=>{if(e&&e.length>0){let n=this.convertToSidebarFormat(e,"series");this.popular_series.set(n),console.log("\u{1F4FA} RIGHT-SIDEBAR - Series received and set:",n.length)}}),this.homeDataService.loading$.pipe(st(this.destroyRef)).subscribe(e=>{!e&&this.popular_movies().length===0&&setTimeout(()=>{this.popular_movies().length===0&&(console.log("\u23F0 RIGHT-SIDEBAR - Loading timeout, no movies available"),this.isLoading.set(!1))},2e3)})}convertToSidebarFormat(e,n){return e.slice(0,4).map((s,a)=>{let c=(typeof s?.title=="string"?s.title:s?.title?.value||s?.name||"")||`${n==="movie"?"Pel\xEDcula":"Serie"} ${a+1}`;return{id:s.id||s.tmdbId||`${n}_${a}`,title:{value:n==="series"?`${c} (Serie)`:c},category:{value:n==="series"?s.category||"Series,Drama":s.category||"Cine,Drama"},icon:this.getValidImageUrl(s,a),starRating:this.normalizeRating(s.rating||s.starRating)}})}normalizeRating(e){if(!e)return"6.0";if(typeof e=="number")return e.toFixed(1);if(typeof e=="string"){if(e.includes("/10"))return e.split("/10")[0]||"6.0";let n=parseFloat(e);if(!isNaN(n))return n.toFixed(1)}return"6.0"}getDefaultPosterUrl(){return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDE1MCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxNTAiIGhlaWdodD0iMjAwIiBmaWxsPSIjNGE1NTY4Ii8+CjxwYXRoIGQ9Ik00NS41IDk1TDYwIDgwVjEyMEw0NS41IDEwNVpNNzUgODBMMTA0LjUgOTVMNzUgMTEwVjgwWiIgZmlsbD0iI2ZmZmZmZiIvPgo8L3N2Zz4K"}getValidImageUrl(e,n){let r=["data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDE1MCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjE1MCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNkYzI2MjYiLz48cGF0aCBkPSJNNjAgNzBMMTAwIDk1TDYwIDEyMFY3MFpNNzUgNDBIODVWNjBINzVWNDBaTTc1IDE0MEg4NVYxNjBINzVWMTQwWiIgZmlsbD0iI2ZmZmZmZiIvPjwvc3ZnPgo=","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDE1MCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjE1MCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiMzOTkzZGQiLz48cGF0aCBkPSJNNTAgNzBMMTAwIDk1TDUwIDEyMFY3MFpNNzAgNDBIODBWNjBINzBWNDBaTTcwIDE0MEg4MFYxNjBINzBWMTQwWiIgZmlsbD0iI2ZmZmZmZiIvPjwvc3ZnPgo=","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDE1MCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjE1MCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNmNTk1MjEiLz48cGF0aCBkPSJNNTUgNzBMMTAzIDk1TDU1IDEyMFY3MFpNNzIgNDBIODJWNjBINzJWNDBaTTcyIDE0MEg4MlYxNjBINzJWMTQwWiIgZmlsbD0iI2ZmZmZmZiIvPjwvc3ZnPgo=","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDE1MCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjE1MCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiM4YjVjZjYiLz48cGF0aCBkPSJNNTggNzBMMTAxIDk1TDU4IDEyMFY3MFpNNzQgNDBIODRWNjBINzRWNDBaTTc0IDE0MEg4NFYxNjBINzRWMTQwWiIgZmlsbD0iI2ZmZmZmZiIvPjwvc3ZnPgo="];return e.poster&&this.isValidImageUrl(e.poster)?e.poster:r[n%r.length]}isValidImageUrl(e){if(!e||e.includes("placeholder.com")||e.includes("via.placeholder")||e.includes("placehold"))return!1;try{return new URL(e),!0}catch{return!1}}navigateTo(e){let n=e?.title?.value||"";console.log("\u{1F517} RIGHT-SIDEBAR - Navigating to details:",n);let r=rn(n);(e?.category?.value||"").startsWith("Cine")||!!e.tmdbId||!!e.icon?this.router.navigate(["/peliculas",r]):this.router.navigate(["/programas",r])}navigateTo2(e){if(console.log("\u{1F517} RIGHT-SIDEBAR - Navigating to list:",e),e==="movie"){try{this.homeDataService.getCurrentState()}catch{}this.tvGuide.setIsMovies(),this.router.navigate(["programacion-tv/peliculas"])}else e==="serie"&&(this.tvGuide.setIsSeries(),this.router.navigate(["programacion-tv/series"]))}getMovieImageUrl(e){return e.icon&&!e.icon.includes("picons_dobleM")?e.icon:this.getDefaultPosterUrl()}getSerieImageUrl(e){return e.icon||this.getDefaultPosterUrl()}getMovieCategory(e){if(!e?.category?.value)return"Drama";let n=e.category.value,r="";typeof n=="string"?r=n:Array.isArray(n)?r=n.join(","):n&&typeof n=="object"?r=n.value||n.name||Object.values(n).join(","):r=String(n||"");let s=r.split(",");return s[1]?.trim()||s[0]?.trim()||"Drama"}getSerieCategory(e){if(!e?.category?.value)return"Drama";let n=e.category.value,r="";typeof n=="string"?r=n:Array.isArray(n)?r=n.join(","):n&&typeof n=="object"?r=n.value||n.name||Object.values(n).join(","):r=String(n||"");let s=r.split(",");return s[1]?.trim()||s[0]?.trim()||"Drama"}formatRating(e){if(!e)return"N/A";let n=this.normalizeRating(e);return n.includes("/10")?n:`${n}/10`}onImageError(e){let n=e.target;n.src=this.getDefaultPosterUrl()}isDebugMode(){return!ae.production}trackByMovieId(e,n){let r=n.title?.value||"";return(n.id||r||e.toString()).toString()}trackBySerieId(e,n){let r=n.title?.value||"";return(n.id||r||e.toString()).toString()}debugState(){console.log("\u{1F50D} RIGHT-SIDEBAR - Component state:"),console.table({"Popular Movies":this.popular_movies().length,"Popular Series":this.popular_series().length,"Is Loading":this.isLoading()}),console.log("Movies data:",this.popular_movies()),console.log("Series data:",this.popular_series());let e=this.homeDataService.getCurrentState();console.log("Service state:",{featuredMovie:e.featuredMovie?.title||"none",popularMovies:e.popularMovies.length,isLoading:e.isLoading})}forceReload(){console.log("\u{1F504} RIGHT-SIDEBAR - Forcing data reload"),this.isLoading.set(!0),this.popular_movies.set([]),this.popular_series.set([]),this.homeDataService.refreshData().subscribe(e=>{console.log("\u{1F504} RIGHT-SIDEBAR - Refresh result:",e.success)})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=fe({type:t,selectors:[["app-right-sidebar"]],decls:15,vars:4,consts:[[1,"w-80","xl:w-96","h-full","bg-gradient-to-b","from-gray-900","via-gray-800","to-gray-900","border-l","border-gray-700/50","hidden","lg:flex","flex-col","backdrop-blur-sm"],[1,"flex-shrink-0","p-6","pb-4","border-b","border-gray-700/30","bg-gray-900/90","backdrop-blur-sm","sticky","top-0","z-10"],[1,"flex-1","overflow-y-auto","scrollbar-thin","scrollbar-thumb-gray-700","scrollbar-track-gray-800/50"],[1,"p-6"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-lg","font-bold","bg-gradient-to-r","from-red-400","to-red-600","bg-clip-text","text-transparent"],[1,"w-8","h-8","bg-red-500/20","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2h4a1 1 0 110 2h-1v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6H3a1 1 0 110-2h4z"],["class","space-y-4",4,"ngIf"],["class","text-center py-8",4,"ngIf"],["class","flex-1 overflow-y-auto custom-scrollbar",4,"ngIf"],["class","px-6 pb-6",4,"ngIf"],[1,"space-y-4"],[1,"flex","space-x-3","animate-pulse"],[1,"w-16","h-20","bg-gray-700/50","rounded-lg"],[1,"flex-1","space-y-2"],[1,"h-4","bg-gray-700/50","rounded","w-3/4"],[1,"h-3","bg-gray-700/50","rounded","w-1/2"],[1,"h-3","bg-gray-700/50","rounded","w-1/4"],[1,"text-center","text-gray-400","text-sm","mt-4"],[1,"text-center","py-8"],[1,"w-16","h-16","mx-auto","mb-4","bg-gray-800/50","rounded-2xl","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2h4a1 1 0 110 2h-1v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6H3a1 1 0 110-2h4zM9 6v10h6V6H9z"],[1,"text-gray-400","text-sm","mb-4"],[1,"px-4","py-2","bg-red-600/20","hover:bg-red-600/30","text-red-400","hover:text-red-300","rounded-lg","transition-all","duration-200","text-sm","font-medium",3,"click"],[1,"flex-1","overflow-y-auto","custom-scrollbar"],[1,"space-y-4","pr-2"],["class","group flex space-x-3 cursor-pointer p-3 rounded-xl bg-gray-800/30 hover:bg-gray-800/50 border border-gray-700/30 hover:border-red-500/30 transition-all duration-300 hover:shadow-lg hover:shadow-red-500/10",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mt-6","flex-shrink-0"],["aria-label","Ver m\xE1s pel\xEDculas",1,"w-full","px-4","py-3","bg-gradient-to-r","from-red-600/20","to-red-700/20","hover:from-red-600/30","hover:to-red-700/30","border","border-red-500/30","hover:border-red-500/50","rounded-xl","text-center","font-medium","text-red-400","hover:text-red-300","text-sm","transition-all","duration-300","hover:scale-105","focus:outline-none","focus:ring-2","focus:ring-red-500/50",3,"click"],[1,"flex","items-center","justify-center","space-x-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 8l4 4m0 0l-4 4m4-4H3"],[1,"group","flex","space-x-3","cursor-pointer","p-3","rounded-xl","bg-gray-800/30","hover:bg-gray-800/50","border","border-gray-700/30","hover:border-red-500/30","transition-all","duration-300","hover:shadow-lg","hover:shadow-red-500/10",3,"click"],[1,"w-16","flex-shrink-0"],[1,"relative","aspect-[2/3]","rounded-lg","overflow-hidden"],["loading","lazy",1,"w-full","h-full","object-cover","transition-transform","duration-300","group-hover:scale-110",3,"error","src","alt"],[1,"absolute","inset-0","bg-gradient-to-t","from-black/60","via-transparent","to-transparent","opacity-0","group-hover:opacity-100","transition-opacity","duration-300"],[1,"absolute","inset-0","flex","items-center","justify-center","opacity-0","group-hover:opacity-100","transition-opacity","duration-300"],[1,"w-8","h-8","bg-red-500/90","rounded-full","flex","items-center","justify-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","text-white","ml-0.5"],["d","M8.445 14.832A1 1 0 0010 14v-4a1 1 0 00-.555-.832L6 7.732V4a1 1 0 00-1.496-.868l-4 2.132A1 1 0 000 6v8a1 1 0 00.504.868l4 2.132A1 1 0 006 16v-3.732l3.445-1.436z"],[1,"flex","flex-col","justify-between","flex-1","min-w-0"],[1,"space-y-1"],[1,"text-white","font-semibold","text-sm","line-clamp-2","leading-tight","group-hover:text-red-300","transition-colors"],[1,"text-gray-400","text-xs"],[1,"flex","items-center","justify-between","mt-2"],[1,"flex","items-center","space-x-1"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","text-yellow-400"],["d","M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"],[1,"text-yellow-400","text-xs","font-medium"],[1,"px-6","pb-6"],[1,"text-lg","font-bold","bg-gradient-to-r","from-blue-400","to-blue-600","bg-clip-text","text-transparent"],[1,"w-8","h-8","bg-blue-500/20","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-blue-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"],["class","group flex space-x-3 cursor-pointer p-3 rounded-xl bg-gray-800/30 hover:bg-gray-800/50 border border-gray-700/30 hover:border-blue-500/30 transition-all duration-300 hover:shadow-lg hover:shadow-blue-500/10",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mt-6"],["aria-label","Ver m\xE1s series",1,"w-full","px-4","py-3","bg-gradient-to-r","from-blue-600/20","to-blue-700/20","hover:from-blue-600/30","hover:to-blue-700/30","border","border-blue-500/30","hover:border-blue-500/50","rounded-xl","text-center","font-medium","text-blue-400","hover:text-blue-300","text-sm","transition-all","duration-300","hover:scale-105","focus:outline-none","focus:ring-2","focus:ring-blue-500/50",3,"click"],[1,"group","flex","space-x-3","cursor-pointer","p-3","rounded-xl","bg-gray-800/30","hover:bg-gray-800/50","border","border-gray-700/30","hover:border-blue-500/30","transition-all","duration-300","hover:shadow-lg","hover:shadow-blue-500/10",3,"click"],[1,"w-8","h-8","bg-blue-500/90","rounded-full","flex","items-center","justify-center"],[1,"text-white","font-semibold","text-sm","line-clamp-2","leading-tight","group-hover:text-blue-300","transition-colors"]],template:function(n,r){n&1&&(m(0,"aside",0)(1,"div",1),w(2,"app-autocomplete"),h(),m(3,"div",2)(4,"div",3)(5,"div",4)(6,"h2",5),v(7," Pel\xEDculas Destacadas "),h(),m(8,"div",6),j(),m(9,"svg",7),w(10,"path",8),h()()(),Ve(11,Ao,21,0,"div",9)(12,Oo,8,0,"div",10)(13,No,10,2,"div",11),h(),Ve(14,ko,16,2,"div",12),h()()),n&2&&(F(11),de("ngIf",r.popular_movies().length===0&&r.isLoading()),F(),de("ngIf",r.popular_movies().length===0&&!r.isLoading()),F(),de("ngIf",r.popular_movies().length>0),F(),de("ngIf",r.popular_series().length>0))},dependencies:[et,Ui,Ki,ln],styles:['aside[_ngcontent-%COMP%]{scroll-behavior:smooth;scrollbar-width:thin;scrollbar-color:rgba(156,163,175,.5) transparent;box-shadow:-2px 0 10px #0000000d}aside[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}aside[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}aside[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#9ca3af80;border-radius:3px;transition:background-color .2s ease}aside[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#9ca3afcc}@media (prefers-color-scheme: dark){aside[_ngcontent-%COMP%]{box-shadow:-2px 0 10px #0003}}.section-title[_ngcontent-%COMP%]{position:relative}.section-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-.5rem;left:0;width:2rem;height:2px;background:linear-gradient(90deg,rgb(239,68,68),transparent);border-radius:1px}.content-card[_ngcontent-%COMP%]{position:relative;transition:all .3s cubic-bezier(.4,0,.2,1);border-radius:.75rem;overflow:hidden}.content-card[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,transparent,rgba(239,68,68,.05));opacity:0;transition:opacity .3s ease;z-index:-1}.content-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px -3px #0000001a,0 4px 6px -2px #0000000d}.content-card[_ngcontent-%COMP%]:hover:before{opacity:1}.content-card[_ngcontent-%COMP%]:hover   .card-image[_ngcontent-%COMP%]{transform:scale(1.05)}.content-card[_ngcontent-%COMP%]:hover   .card-title[_ngcontent-%COMP%]{color:#ef4444}@media (prefers-color-scheme: dark){.content-card[_ngcontent-%COMP%]:hover   .card-title[_ngcontent-%COMP%]{color:#f87171}}@media (prefers-color-scheme: dark){.content-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 25px -3px #0000004d,0 4px 6px -2px #0003}}.content-card[_ngcontent-%COMP%]:active{transform:translateY(-1px) scale(.98)}.content-card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(.4,0,.2,1);will-change:transform}.content-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{transition:color .2s ease;font-weight:600}.content-card[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{transition:opacity .2s ease}.content-card[_ngcontent-%COMP%]:hover   .content-card[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{opacity:.8}.rating-container[_ngcontent-%COMP%]   .rating-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f5c518,#e6b800);transition:all .2s ease}.rating-container[_ngcontent-%COMP%]   .rating-badge[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 8px #f5c5184d}.rating-container[_ngcontent-%COMP%]   .rating-text[_ngcontent-%COMP%]{font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,.3)}.action-button[_ngcontent-%COMP%]{position:relative;overflow:hidden;transition:all .3s cubic-bezier(.4,0,.2,1)}.action-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .6s ease}.action-button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 8px 25px -5px #ef444466,0 4px 6px -2px #ef44441a}.action-button[_ngcontent-%COMP%]:hover:before{left:100%}.action-button[_ngcontent-%COMP%]:active{transform:translateY(0) scale(.98)}.content-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{padding:.75rem;margin-bottom:.5rem;border-radius:.5rem;transition:all .2s ease}.content-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.content-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover{background-color:#00000008}@media (prefers-color-scheme: dark){.content-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover{background-color:#ffffff08}}@media (max-width: 1024px){aside[_ngcontent-%COMP%]{width:100%;position:fixed;top:0;right:-100%;z-index:50;transition:right .3s cubic-bezier(.4,0,.2,1)}aside.mobile-open[_ngcontent-%COMP%]{right:0}}.content-card[_ngcontent-%COMP%], .action-button[_ngcontent-%COMP%]{will-change:transform;backface-visibility:hidden}button[_ngcontent-%COMP%]:focus-visible, [role=button][_ngcontent-%COMP%]:focus-visible, .content-card[_ngcontent-%COMP%]:focus-visible{outline:2px solid rgb(239,68,68);outline-offset:2px;border-radius:.375rem}button[_ngcontent-%COMP%]:focus:not(:focus-visible), [role=button][_ngcontent-%COMP%]:focus:not(:focus-visible), .content-card[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}@media (prefers-contrast: high){.content-card[_ngcontent-%COMP%]{border:1px solid currentColor}.content-card[_ngcontent-%COMP%]:hover{border-width:2px}.action-button[_ngcontent-%COMP%]{border:2px solid currentColor}.rating-badge[_ngcontent-%COMP%]{border:1px solid #000}}']});let o=t;return o})();var vr=(()=>{let t=class t{constructor(){this.tdt=["La 1","La 2","Antena 3","Cuatro","Telecinco","La Sexta","Mega","Factor\xEDa de Ficci\xF3n","Neox","Nova","Boing","Divinity","Energy","Paramount Network","DMAX","Disney Channel","Ten","Clan","Teledeporte","Be Mad","TRECE","DKISS","Atreseries","GOL PLAY"],this.movistar=["M+ #0","M+ #Vamos","M+ Estrenos","M+ Estrenos 2","M+ Oscars","M+ Cl\xE1sicos","M+ Acci\xF3n","M+ Comedia","M+ Drama","M+ Cine Espa\xF1ol","M+ Fest","M+ Series","M+ Series 2"],this.currentYear=new Date().getFullYear(),this.urls=this.tdt.concat(this.movistar)}ngOnInit(){}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=fe({type:t,selectors:[["app-footer"]],decls:84,vars:1,consts:[["role","contentinfo","aria-label","Pie de p\xE1gina",1,"footer","mt-8","z-30","w-full"],["itemscope","","itemtype","https://schema.org/WPFooter",1,"footer-inner"],["itemprop","publisher","itemscope","","itemtype","https://schema.org/Organization",1,"brand"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","aria-hidden","true",1,"logo"],["d","M10 15.5v-7c0-.41.47-.65.8-.4l4.67 3.5c.27.2.27.6 0 .8l-4.67 3.5c-.33.25-.8.01-.8-.4Zm11.96-4.45c.58 6.26-4.64 11.48-10.9 10.9 -4.43-.41-8.12-3.85-8.9-8.23 -.26-1.42-.19-2.78.12-4.04 .14-.58.76-.9 1.31-.7v0c.47.17.75.67.63 1.16 -.2.82-.27 1.7-.19 2.61 .37 4.04 3.89 7.25 7.95 7.26 4.79.01 8.61-4.21 7.94-9.12 -.51-3.7-3.66-6.62-7.39-6.86 -.83-.06-1.63.02-2.38.2 -.49.11-.99-.16-1.16-.64v0c-.2-.56.12-1.17.69-1.31 1.79-.43 3.75-.41 5.78.37 3.56 1.35 6.15 4.62 6.5 8.4ZM5.5 4C4.67 4 4 4.67 4 5.5 4 6.33 4.67 7 5.5 7 6.33 7 7 6.33 7 5.5 7 4.67 6.33 4 5.5 4Z"],["itemprop","name",1,"brand-text"],[1,"dot"],["itemprop","url","content","https://guiatv.example.com/"],[1,"footer-columns",2,"display","flex","gap","1rem","align-items","flex-start","flex","1","justify-content","space-between"],[1,"col","col-site",2,"min-width","200px","max-width","320px"],[1,"text-sm","font-semibold"],["aria-label","Enlaces principales"],[2,"list-style","none","padding","0","margin","0"],["href","/",1,"footer-link"],["href","/guia-canales",1,"footer-link"],["href","/que-ver-hoy",1,"footer-link"],["href","/en-directo",1,"footer-link"],["href","/blog",1,"footer-link"],[1,"col","col-legal",2,"min-width","200px","max-width","320px"],["aria-label","Enlaces legales"],["href","/avisolegal",1,"footer-link"],["href","/privacidad",1,"footer-link"],["href","/cookies",1,"footer-link"],["href","/terminos",1,"footer-link"],["href","/accesibilidad",1,"footer-link"],[1,"col","col-contact",2,"min-width","220px","max-width","360px"],[2,"font-style","normal","color","inherit"],["href","mailto:soporte@tecnoriasl.com",1,"footer-link"],["href","mailto:legal@tecnoriasl.com",1,"footer-link"],[1,"mt-2"],[2,"display","flex","gap","0.5rem","margin-top","0.5rem"],["href","https://twitter.com/","target","_blank","rel","noopener noreferrer","aria-label","Twitter",1,"footer-link"],["href","https://facebook.com/","target","_blank","rel","noopener noreferrer","aria-label","Facebook",1,"footer-link"],["href","https://instagram.com/","target","_blank","rel","noopener noreferrer","aria-label","Instagram",1,"footer-link"],[2,"display","flex","align-items","center","gap","1rem","margin-top","1rem","width","100%","justify-content","space-between","flex-wrap","wrap"],[1,"copyright",2,"flex","1","min-width","220px"],["href","https://tecnoriasl.com/","target","_blank","rel","noopener"],[2,"text-align","right","min-width","220px"],["href","/sitemap",1,"footer-link"],[2,"margin","0 0.5rem","color","rgba(230, 238, 246, 0.5)"],["href","/rss.xml",1,"footer-link"]],template:function(n,r){n&1&&(m(0,"footer",0)(1,"div",1)(2,"div",2),j(),m(3,"svg",3),w(4,"path",4),h(),ee(),m(5,"div",5),v(6," GPTV"),m(7,"span",6),v(8,"."),h()(),w(9,"meta",7),h(),m(10,"div",8)(11,"div",9)(12,"h3",10),v(13,"Explorar"),h(),m(14,"nav",11)(15,"ul",12)(16,"li")(17,"a",13),v(18,"Inicio"),h()(),m(19,"li")(20,"a",14),v(21,"Gu\xEDa de Canales"),h()(),m(22,"li")(23,"a",15),v(24,"Qu\xE9 ver hoy"),h()(),m(25,"li")(26,"a",16),v(27,"En directo"),h()(),m(28,"li")(29,"a",17),v(30,"Blog"),h()()()()(),m(31,"div",18)(32,"h3",10),v(33,"Legal & Pol\xEDticas"),h(),m(34,"nav",19)(35,"ul",12)(36,"li")(37,"a",20),v(38,"Aviso Legal"),h()(),m(39,"li")(40,"a",21),v(41,"Pol\xEDtica de Privacidad"),h()(),m(42,"li")(43,"a",22),v(44,"Pol\xEDtica de Cookies"),h()(),m(45,"li")(46,"a",23),v(47,"T\xE9rminos y Condiciones"),h()(),m(48,"li")(49,"a",24),v(50,"Declaraci\xF3n de Accesibilidad"),h()()()()(),m(51,"div",25)(52,"h3",10),v(53,"Contacto"),h(),m(54,"address",26)(55,"div"),v(56," Soporte: "),m(57,"a",27),v(58,"soporte@tecnoriasl.com"),h()(),m(59,"div"),v(60," Legal: "),m(61,"a",28),v(62,"legal@tecnoriasl.com"),h()(),m(63,"div",29),v(64,"S\xEDguenos:"),h(),m(65,"div",30)(66,"a",31),v(67,"Twitter"),h(),m(68,"a",32),v(69,"Facebook"),h(),m(70,"a",33),v(71,"Instagram"),h()()()()(),m(72,"div",34)(73,"div",35),v(74),m(75,"a",36),v(76,"TecnoRia"),h()(),m(77,"div",37)(78,"a",38),v(79,"Mapa del sitio"),h(),m(80,"span",39),v(81,"|"),h(),m(82,"a",40),v(83,"RSS"),h()()()()()),n&2&&(F(74),Me(" \xA9 ",r.currentYear," GPTV \u2022 Dise\xF1ado por "))},styles:['@charset "UTF-8";.footer[_ngcontent-%COMP%]{display:block;background:linear-gradient(135deg,#111827e6,#1f2937f2);color:#e6eef6;padding:1.25rem 1rem;font-size:13px;position:relative;overflow:visible;margin-top:1.75rem;border-top:1px solid rgba(255,255,255,.04)}.footer[_ngcontent-%COMP%]   .footer-inner[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;display:flex;align-items:center;gap:1rem;justify-content:space-between;flex-wrap:wrap}.footer[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.footer[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:28px;height:28px;fill:#ef4444;opacity:.95}.footer[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]{color:#fff;font-weight:700}.footer[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{color:#ef4444;margin-left:2px}.footer[_ngcontent-%COMP%]   .footer-nav[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center}.footer[_ngcontent-%COMP%]   .footer-link[_ngcontent-%COMP%]{color:#e6eef6cc;text-decoration:none;font-weight:600;padding:.25rem .5rem;border-radius:.25rem}.footer[_ngcontent-%COMP%]   .footer-link[_ngcontent-%COMP%]:hover{background:#ffffff08}.footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{color:#e6eef6b3;font-size:12px}@media (prefers-color-scheme: dark){.footer[_ngcontent-%COMP%]{background:linear-gradient(135deg,#020617e6,#0e1723f2)}}.footer-links[_ngcontent-%COMP%]{width:100%;margin:1rem 0;font-size:.75rem;color:#9ca3af;line-height:1.5;background:#00000005;border-top:1px solid rgba(0,0,0,.05)}@media (prefers-color-scheme: dark){.footer-links[_ngcontent-%COMP%]{background:#ffffff05;border-top:1px solid rgba(255,255,255,.05)}}.footer-links[_ngcontent-%COMP%]   .footer-links-content[_ngcontent-%COMP%]{max-width:850px;margin:0 auto;padding:1rem;text-align:center}.footer-links[_ngcontent-%COMP%]   .footer-links-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#6b7280;text-decoration:none;transition:all .2s ease;padding:.125rem .25rem;border-radius:.25rem;position:relative}.footer-links[_ngcontent-%COMP%]   .footer-links-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:#ef44441a;border-radius:.25rem;opacity:0;transition:opacity .2s ease}.footer-links[_ngcontent-%COMP%]   .footer-links-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#374151}.footer-links[_ngcontent-%COMP%]   .footer-links-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:before{opacity:1}@media (prefers-color-scheme: dark){.footer-links[_ngcontent-%COMP%]   .footer-links-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#d1d5db}}.footer-links[_ngcontent-%COMP%]   .footer-links-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus-visible{outline:2px solid #ef4444;outline-offset:2px}.footer-links[_ngcontent-%COMP%]   .footer-links-content[_ngcontent-%COMP%]   br[_ngcontent-%COMP%]{display:block;margin:.5rem 0}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 640px){.footer[_ngcontent-%COMP%]{padding:1.5rem 1rem;font-size:13px}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.4}.footer-links[_ngcontent-%COMP%]{font-size:.7rem}.footer-links[_ngcontent-%COMP%]   .footer-links-content[_ngcontent-%COMP%]{padding:.75rem}}@media (prefers-contrast: high){.footer[_ngcontent-%COMP%]{background:#000;color:#fff;border-top:2px solid #fff}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ff0;font-weight:700}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ff0;color:#000}.footer-links[_ngcontent-%COMP%]{background:#000;border-top:1px solid #fff}.footer-links[_ngcontent-%COMP%]   .footer-links-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;border:1px solid transparent}.footer-links[_ngcontent-%COMP%]   .footer-links-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border-color:#fff;background-color:#ffffff1a}}@media (prefers-reduced-motion: reduce){.footer[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{animation:none!important;transition:none!important}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{transition:none!important}}@media print{.footer[_ngcontent-%COMP%]{background:none!important;color:#000!important;box-shadow:none!important}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000!important;text-decoration:underline!important}}@media (max-width: 768px){.footer-links[_ngcontent-%COMP%]   .footer-links-content[_ngcontent-%COMP%]{padding:.5rem}}']});let o=t;return o})();var br=(()=>{let t=class t{constructor(e,n){this.platformId=e,this.router=n,this.destroy$=new Ni,this.routerEventsDisabled=!1,this.navigationCount=0,this.logger=Ee(at,{optional:!0}),t.instanceCount++,this.instanceId=`app-${t.instanceCount}`,this.logInfo(`\u{1F3D7}\uFE0F APP COMPONENT - Instancia ${this.instanceId} creada`),t.instanceCount>1&&(this.logWarning(`\u26A0\uFE0F M\xDALTIPLES INSTANCIAS DE APP COMPONENT DETECTADAS: ${t.instanceCount}`),this.logWarning("\u{1F504} Instancia adicional iniciada (puede ser normal en desarrollo con HMR)")),this.router.events.pipe(Fi(r=>r instanceof Bt||r instanceof jt),Li(this.destroy$)).subscribe(r=>{if(this.routerEventsDisabled){this.logWarning("\u{1F6AB} Eventos de router deshabilitados para evitar bucle");return}if(r instanceof Bt){if(this.navigationCount++,this.logDebug(`\u{1F9ED} Navegaci\xF3n iniciada: ${r.url} (count: ${this.navigationCount})`),this.navigationCount>5){this.logError("\u26A0\uFE0F BUCLE DE NAVEGACI\xD3N DETECTADO - DESHABILITANDO EVENTOS"),this.logError("\u{1F6D1} ROUTER EVENTS DISABLED PARA PREVENIR BUCLE INFINITO"),this.routerEventsDisabled=!0,this.destroy$.next();return}}else r instanceof jt&&(this.logDebug(`\u2705 Navegaci\xF3n completada: ${r.url}`),setTimeout(()=>{this.navigationCount=0,this.logDebug("\u{1F504} Contador de navegaci\xF3n reseteado")},2e3))})}ngOnInit(){this.logInfo(`\u{1F680} APP COMPONENT INIT - Instancia ${this.instanceId}`),this.logInfo("\u2705 Arquitectura SOLID inicializada"),t.instanceCount>1&&this.logWarning(`\u26A0\uFE0F M\xFAltiples instancias detectadas en ngOnInit (${t.instanceCount})`),this.logDebug("\u{1F4CA} App Component State:",{instanceId:this.instanceId,instanceCount:t.instanceCount,platformId:this.platformId,routerEventsDisabled:this.routerEventsDisabled})}ngOnDestroy(){this.logInfo(`\u{1F5D1}\uFE0F APP COMPONENT DESTROY - Instancia ${this.instanceId}`),this.destroy$.next(),this.destroy$.complete(),t.instanceCount=Math.max(0,t.instanceCount-1),this.logDebug(`\u{1F4C9} Instance count after destroy: ${t.instanceCount}`)}logInfo(e,...n){this.logger?this.logger.info(e,...n):console.log(`\u2139\uFE0F ${e}`,...n)}logWarning(e,...n){this.logger?this.logger.warn(e,...n):console.warn(`\u26A0\uFE0F ${e}`,...n)}logError(e,...n){this.logger?this.logger.error(e,...n):console.error(`\u274C ${e}`,...n)}logDebug(e,...n){this.logger?this.logger.debug(e,...n):console.debug(`\u{1F50D} ${e}`,...n)}debugAppState(){let e={instanceId:this.instanceId,instanceCount:t.instanceCount,routerEventsDisabled:this.routerEventsDisabled,navigationCount:this.navigationCount,isDestroyed:this.destroy$.closed};return this.logDebug("=== APP COMPONENT DEBUG STATE ==="),this.logDebug("App State:",e),this.logDebug("=== END APP COMPONENT DEBUG ==="),e}resetNavigationProtection(){this.logInfo("\u{1F504} Reseteando protecciones de navegaci\xF3n"),this.routerEventsDisabled=!1,this.navigationCount=0}};t.instanceCount=0,t.\u0275fac=function(n){return new(n||t)(Lt(Vi),Lt(nt))},t.\u0275cmp=fe({type:t,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"font-montserrat","bg-gradient-to-br","from-gray-900","via-gray-800","to-black","min-h-screen","flex","flex-col"],[1,"flex","flex-1","w-full"],[1,"flex-1","overflow-auto"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"div",1),w(2,"app-left-sidebar"),m(3,"main",2),w(4,"router-outlet"),h(),w(5,"app-right-sidebar"),h(),w(6,"app-footer"),h())},dependencies:[et,Ji,pr,yr,vr],encapsulation:2});let o=t;return o})();qi(br,fr).then(()=>{console.log("\u{1F680} Aplicaci\xF3n iniciada con arquitectura SOLID"),console.log("\u2705 SSR y standalone components configurados")}).catch(o=>{console.error("\u274C Error al iniciar la aplicaci\xF3n:",o)});
