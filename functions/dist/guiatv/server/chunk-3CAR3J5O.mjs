import './polyfills.server.mjs';
import{a as K}from"./chunk-LAYU4XIV.mjs";import{a as J}from"./chunk-CUOTRMJW.mjs";import{a as q}from"./chunk-WRH6SRR4.mjs";import"./chunk-Z4AFW3XT.mjs";import{J as R,M as N,N as U,X as y,g as $,h as A,k as H,m as z,o as G}from"./chunk-MTFKIQB4.mjs";import{Cb as F,Ea as I,Fb as c,Gb as t,Hb as o,Ib as g,L as h,Lb as C,Pb as w,Qb as m,U as k,V as T,Va as M,Wa as D,_a as a,ac as V,cc as s,db as f,ec as u,f as E,ha as _,ia as v,ja as x,jc as j,ka as b,kb as B,nc as L,pb as p,pc as O}from"./chunk-GKUCNG4B.mjs";import{h as S}from"./chunk-S6KH3LOX.mjs";var W=()=>[1,2,3,4,5,6];function X(n,l){n&1&&g(0,"div",9)}function Y(n,l){n&1&&(t(0,"div",3)(1,"div",4),g(2,"div",5)(3,"div",6),t(4,"div",7),p(5,X,1,0,"div",8),o()()()),n&2&&(a(5),c("ngForOf",j(1,W)))}function Z(n,l){if(n&1&&g(0,"p",39),n&2){let e=m(2);c("innerHTML",e.category.description,M)}}function ee(n,l){if(n&1&&(t(0,"span",57),s(1),o()),n&2){let e=l.$implicit;a(),u(" ",e.name," ")}}function te(n,l){if(n&1&&(t(0,"p",58),s(1),o()),n&2){let e=m(3);a(),u(" ",e.stripHtml(e.featuredPost.excerpt.rendered)," ")}}function ie(n,l){if(n&1){let e=C();t(0,"section",40)(1,"h2",41),s(2,"Art\xEDculo Destacado"),o(),t(3,"article",42),w("click",function(){_(e);let i=m(2);return v(i.navigateToPost(i.featuredPost))}),t(4,"div",43)(5,"div",44),g(6,"img",45)(7,"div",46),o(),t(8,"div",47)(9,"div",48),p(10,ee,2,1,"span",49),o(),t(11,"h3",50),s(12),o(),p(13,te,2,1,"p",51),t(14,"div",52)(15,"time",53),s(16),L(17,"date"),o(),t(18,"span",54),s(19," Leer art\xEDculo "),x(),t(20,"svg",55),g(21,"path",56),o()()()()()()()}if(n&2){let e=m(2);a(6),c("src",(e.featuredPost.featured_image==null?null:e.featuredPost.featured_image.source_url)||"/assets/images/placeholder.jpg",D)("alt",e.featuredPost.title==null?null:e.featuredPost.title.rendered),a(4),c("ngForOf",e.featuredPost.categories_name==null?null:e.featuredPost.categories_name.slice(0,2)),a(2),u(" ",e.featuredPost.title==null?null:e.featuredPost.title.rendered," "),a(),c("ngIf",e.featuredPost.excerpt==null?null:e.featuredPost.excerpt.rendered),a(2),c("dateTime",e.featuredPost.date),a(),u(" ",O(17,7,e.featuredPost.date,"dd MMMM yyyy")," ")}}function ne(n,l){if(n&1){let e=C();t(0,"app-post-card",59),w("click",function(){let i=_(e).$implicit,d=m(2);return v(d.navigateToPost(i))}),o()}if(n&2){let e=l.$implicit;c("post",e)}}function re(n,l){n&1&&(t(0,"div",60),x(),t(1,"svg",61),g(2,"path",62),o(),b(),t(3,"p",63),s(4," No hay art\xEDculos disponibles en esta categor\xEDa a\xFAn. "),o(),t(5,"a",64),s(6," Explorar Otras Categor\xEDas "),o()())}function oe(n,l){if(n&1){let e=C();t(0,"div",65)(1,"button",66),w("click",function(){_(e);let i=m(2);return v(i.loadMore())}),s(2," Cargar M\xE1s Art\xEDculos "),o()()}}function ae(n,l){if(n&1&&(t(0,"p",76),s(1),o()),n&2){let e=m().$implicit;a(),u(" ",e.count," art\xEDculos ")}}function se(n,l){if(n&1){let e=C();t(0,"button",70),w("click",function(){let i=_(e).$implicit,d=m(3);return v(d.navigateToCategory(i))}),t(1,"div",71)(2,"h3",72),s(3),o(),x(),t(4,"svg",73),g(5,"path",74),o()(),p(6,ae,2,1,"p",75),o()}if(n&2){let e=l.$implicit,r=m(3);V("ring-2",e.id===r.category.id)("ring-red-500",e.id===r.category.id),F("aria-label","Ver categor\xEDa "+e.name)("aria-pressed",e.id===r.category.id),a(3),u(" ",e.name," "),a(3),c("ngIf",e.count)}}function le(n,l){if(n&1&&(t(0,"section",67)(1,"h2",27),s(2," Explorar Otras Categor\xEDas "),o(),t(3,"div",68),p(4,se,7,8,"button",69),o()()),n&2){let e=m(2);a(4),c("ngForOf",e.allCategories)("ngForTrackBy",e.trackByCategoryId)}}function ce(n,l){if(n&1&&(t(0,"div")(1,"nav",10)(2,"ol",11)(3,"li")(4,"a",12),s(5,"Blog"),o()(),t(6,"li"),x(),t(7,"svg",13),g(8,"path",14),o()(),b(),t(9,"li")(10,"a",15),s(11,"Categor\xEDas"),o()(),t(12,"li"),x(),t(13,"svg",13),g(14,"path",14),o()(),b(),t(15,"li",16),s(16),o()()(),t(17,"section",17)(18,"div",18)(19,"div")(20,"span",19),x(),t(21,"svg",20),g(22,"path",21),o(),s(23),o()(),b(),t(24,"div",22)(25,"h1",23),s(26),o(),p(27,Z,1,1,"p",24),t(28,"div",25)(29,"span"),s(30),o()()()()(),p(31,ie,22,10,"section",26),t(32,"section",3)(33,"h2",27),s(34,"Todos los Art\xEDculos"),o(),t(35,"div",28),p(36,ne,1,1,"app-post-card",29),o(),p(37,re,7,0,"div",30)(38,oe,3,0,"div",31),o(),p(39,le,5,2,"section",32),t(40,"section",3)(41,"div",33)(42,"h2",34),s(43," Suscr\xEDbete al Newsletter "),o(),t(44,"p",35),s(45),o(),t(46,"form",36),g(47,"input",37),t(48,"button",38),s(49," Suscribirse "),o()()()()()),n&2){let e=m();a(16),u(" ",e.category.name," "),a(7),u(" ",e.category.name," "),a(3),u(" ",e.category.name," "),a(),c("ngIf",e.category.description),a(3),u("",e.posts.length," art\xEDculos"),a(),c("ngIf",e.featuredPost),a(5),c("ngForOf",e.displayedPosts)("ngForTrackBy",e.trackByPostId),a(),c("ngIf",e.displayedPosts.length===0&&!e.isLoading),a(),c("ngIf",e.hasMorePosts),a(),c("ngIf",e.allCategories.length>1),a(6),u(" Recibe las \xFAltimas actualizaciones de ",e.category.name," directamente en tu email. ")}}var we=(()=>{let l=class l{constructor(r,i,d,P,Q){this.route=r,this.router=i,this.blogSvc=d,this.metaSvc=P,this.destroy$=new E,this.category=null,this.posts=[],this.allCategories=[],this.featuredPost=null,this.currentPage=1,this.postsPerPage=12,this.displayedPosts=[],this.isLoading=!0,this.isBrowser=G(Q)}ngOnInit(){this.route.params.pipe(T(this.destroy$),k(r=>{let i=r.slug;return this.isLoading=!0,this.loadCategoryAndPosts(i)})).subscribe()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadCategoryAndPosts(r){return S(this,null,function*(){try{if(yield this.loadAllCategories(),this.category=this.allCategories.find(i=>y(i.name)===r||y(i.slug)===r),!this.category){this.router.navigate(["/blog"]);return}yield this.loadCategoryPosts(),this.setMetaTags(),this.isLoading=!1,this.isBrowser&&window.scrollTo({top:0,behavior:"smooth"})}catch(i){console.error("Error loading category:",i),this.router.navigate(["/blog"])}})}loadAllCategories(){return S(this,null,function*(){return new Promise(r=>{this.blogSvc.blogCategories$.pipe(h()).subscribe(i=>{i.length===0?this.blogSvc.getAllPosts().pipe(h()).subscribe(d=>{this.blogSvc.intiCategories(d),this.blogSvc.blogCategories$.pipe(h()).subscribe(P=>{this.allCategories=P,r()})}):(this.allCategories=i,r())})})})}loadCategoryPosts(){return S(this,null,function*(){return new Promise(r=>{this.blogSvc.filterByCategory(this.category.id).pipe(h()).subscribe(i=>{this.posts=this.blogSvc.sortPostsByDate(i),this.posts.length>0&&(this.featuredPost=this.posts[0],this.updateDisplayedPosts()),r()})})})}setMetaTags(){let r=this.category.description?this.stripHtml(this.category.description).slice(0,160):`Descubre los mejores art\xEDculos sobre ${this.category.name}. An\xE1lisis, rese\xF1as y noticias actualizadas.`;this.metaSvc.setMetaTags({title:`${this.category.name} - Blog | Gu\xEDa Programaci\xF3n`,description:r,image:this.featuredPost?.featured_image?.source_url||"/assets/images/blog-og-image.jpg",canonicalUrl:`/blog/categoria/${y(this.category.slug||this.category.name)}`,type:"website"})}updateDisplayedPosts(){let i=this.currentPage*this.postsPerPage,d=this.posts.slice(1);this.displayedPosts=d.slice(0,i)}loadMore(){this.currentPage++,this.updateDisplayedPosts()}get hasMorePosts(){let r=this.posts.length-1;return this.currentPage*this.postsPerPage<r}navigateToPost(r){let i=y(r.slug||r.title?.rendered||"");this.router.navigate(["/blog",i])}navigateToCategory(r){let i=y(r.slug||r.name);this.router.navigate(["/blog/categoria",i])}stripHtml(r){if(!r)return"";let i=document.createElement("div");return i.innerHTML=r,i.textContent||i.innerText||""}trackByPostId(r,i){return i.id||r}trackByCategoryId(r,i){return i.id||r}};l.\u0275fac=function(i){return new(i||l)(f(R),f(N),f(q),f(J),f(I))},l.\u0275cmp=B({type:l,selectors:[["app-category"]],decls:3,vars:2,consts:[[1,"w-full","min-h-screen"],["class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",4,"ngIf"],[4,"ngIf"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-12"],[1,"animate-pulse","space-y-8"],[1,"h-12","bg-gray-700","rounded","w-1/2"],[1,"h-96","bg-gray-700","rounded"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-6"],["class","h-64 bg-gray-700 rounded",4,"ngFor","ngForOf"],[1,"h-64","bg-gray-700","rounded"],["aria-label","Breadcrumb",1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-6"],[1,"flex","items-center","space-x-2","text-sm","text-gray-400"],["routerLink","/blog",1,"hover:text-white","transition-colors"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4"],["fill-rule","evenodd","d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule","evenodd"],[1,"hover:text-white","transition-colors"],["aria-current","page",1,"text-white"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8","lg:py-12"],[1,"space-y-6"],[1,"inline-flex","items-center","px-4","py-2","bg-red-600","text-white","font-semibold","rounded-full","text-sm"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"],[1,"space-y-4"],[1,"text-3xl","sm:text-4xl","lg:text-5xl","font-bold","text-white"],["class","text-lg text-gray-300 max-w-3xl",3,"innerHTML",4,"ngIf"],[1,"flex","items-center","gap-4","text-sm","text-gray-400"],["class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",4,"ngIf"],[1,"text-2xl","font-bold","text-white","mb-8"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-6","lg:gap-8"],[3,"post","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","text-center py-12",4,"ngIf"],["class","flex justify-center mt-12",4,"ngIf"],["class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 border-t border-gray-700",4,"ngIf"],[1,"bg-gradient-to-r","from-red-900/20","to-gray-900","rounded-lg","p-8","lg:p-12","text-center"],[1,"text-2xl","lg:text-3xl","font-bold","text-white","mb-4"],[1,"text-lg","text-gray-300","mb-6","max-w-2xl","mx-auto"],[1,"flex","flex-col","sm:flex-row","gap-4","max-w-md","mx-auto"],["type","email","placeholder","tu@email.com","aria-label","Correo electr\xF3nico",1,"flex-1","px-4","py-3","rounded-full","bg-gray-700","text-white","placeholder-gray-400","focus:outline-none","focus:ring-2","focus:ring-red-500"],["type","submit",1,"px-8","py-3","bg-red-600","hover:bg-red-700","text-white","font-semibold","rounded-full","transition-all","duration-300","focus:outline-none","focus:ring-2","focus:ring-red-500"],[1,"text-lg","text-gray-300","max-w-3xl",3,"innerHTML"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"text-2xl","font-bold","text-white","mb-6"],[1,"group","relative","bg-gray-800","rounded-lg","overflow-hidden","hover:transform","hover:scale-[1.02]","transition-all","duration-300","cursor-pointer",3,"click"],[1,"grid","lg:grid-cols-2","gap-6"],[1,"relative","aspect-video","lg:aspect-auto","h-64","lg:h-auto","overflow-hidden"],["loading","eager",1,"w-full","h-full","object-cover","group-hover:scale-110","transition-transform","duration-300",3,"src","alt"],[1,"absolute","inset-0","bg-gradient-to-t","lg:bg-gradient-to-r","from-gray-900/80","to-transparent"],[1,"p-6","lg:p-8","flex","flex-col","justify-center","space-y-4"],[1,"flex","gap-2"],["class","inline-block px-3 py-1 text-xs font-medium text-red-400 bg-red-400/10 rounded-full",4,"ngFor","ngForOf"],[1,"text-2xl","lg:text-3xl","font-bold","text-white","group-hover:text-red-400","transition-colors"],["class","text-gray-300 line-clamp-3",4,"ngIf"],[1,"flex","items-center","justify-between","pt-4"],[1,"text-sm","text-gray-500",3,"dateTime"],[1,"inline-flex","items-center","text-red-400","font-semibold","group-hover:translate-x-2","transition-transform"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"ml-2","w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 7l5 5m0 0l-5 5m5-5H6"],[1,"inline-block","px-3","py-1","text-xs","font-medium","text-red-400","bg-red-400/10","rounded-full"],[1,"text-gray-300","line-clamp-3"],[3,"click","post"],[1,"text-center","py-12"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","w-16","h-16","text-gray-600","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"text-gray-400","text-lg"],["routerLink","/blog",1,"inline-block","mt-4","px-6","py-3","bg-red-600","hover:bg-red-700","text-white","font-semibold","rounded-full","transition-all","duration-300"],[1,"flex","justify-center","mt-12"],[1,"px-8","py-3","bg-red-600","hover:bg-red-700","text-white","font-semibold","rounded-full","transition-all","duration-300","transform","hover:scale-105","focus:outline-none","focus:ring-2","focus:ring-red-500",3,"click"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-12","border-t","border-gray-700"],[1,"grid","grid-cols-2","sm:grid-cols-3","lg:grid-cols-4","gap-4"],["class","group p-4 bg-gray-800 hover:bg-gray-700 rounded-lg transition-all duration-300 text-left focus:outline-none focus:ring-2 focus:ring-red-500",3,"ring-2","ring-red-500","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"group","p-4","bg-gray-800","hover:bg-gray-700","rounded-lg","transition-all","duration-300","text-left","focus:outline-none","focus:ring-2","focus:ring-red-500",3,"click"],[1,"flex","items-center","justify-between","mb-2"],[1,"font-semibold","text-white","group-hover:text-red-400","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-500","group-hover:text-red-400","group-hover:translate-x-1","transition-all"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],["class","text-sm text-gray-400",4,"ngIf"],[1,"text-sm","text-gray-400"]],template:function(i,d){i&1&&(t(0,"main",0),p(1,Y,6,2,"div",1)(2,ce,50,12,"div",2),o()),i&2&&(a(),c("ngIf",d.isLoading),a(),c("ngIf",!d.isLoading&&d.category))},dependencies:[z,$,A,H,U,K],styles:["[_nghost-%COMP%]{display:block;width:100%}@media (prefers-reduced-motion: no-preference){*[_ngcontent-%COMP%]{scroll-behavior:smooth}}.categories-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1rem}button[aria-pressed=true][_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc26261a,#dc26260d)}"]});let n=l;return n})();export{we as CategoryComponent};
