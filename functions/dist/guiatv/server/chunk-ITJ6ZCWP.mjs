import './polyfills.server.mjs';
import{a as ie}from"./chunk-4TFU6C4G.mjs";import{a as He}from"./chunk-KSSMZQYU.mjs";import{a as F,b as Ae,e as ne,f as U,h as A,i as pe,j as $,s as Ge}from"./chunk-V5YMSNCG.mjs";import{f as Ve,i as ze,j as Fe,l as Ne}from"./chunk-I4VO7R2D.mjs";import"./chunk-Z3TYQ4CM.mjs";import{a as Be}from"./chunk-CUOTRMJW.mjs";import"./chunk-Z4AFW3XT.mjs";import{g as Oe,ga as Le,h as ee,m as te,o as ge,p as De,z as Ie}from"./chunk-MTFKIQB4.mjs";import{$b as ae,B as Ce,Cb as J,Ea as me,F as de,Fb as p,Fc as Te,Gb as i,Ha as we,Hb as o,Ib as u,Jb as Y,Kb as Z,Lb as k,Pb as w,Qb as m,Sc as Ee,Ub as Pe,Vb as Me,Wa as re,Wb as ke,Z as q,Za as Se,_a as d,ac as V,bc as j,ca as I,cc as s,dc as L,ec as z,fc as K,g as ce,ha as C,ia as y,ja as x,ka as M,kb as X,la as ye,na as Q,pb as f,ra as T,rb as oe,wc as E,y as ve}from"./chunk-GKUCNG4B.mjs";import{a as _e,b as fe}from"./chunk-S6KH3LOX.mjs";var Re=(()=>{let c=class c{constructor(){this._selectedCategory=new ce(null),this._availableCategories=new ce([]),this._allPrograms=new ce([]),this._selectedCategorySignal=T(null),this._availableCategoriesSignal=T([]),this._allProgramsSignal=T([]),this.selectedCategory$=this._selectedCategory.asObservable(),this.availableCategories$=this._availableCategories.asObservable(),this.filteredPrograms$=this._allPrograms.asObservable(),this.filteredPrograms=E(()=>{let e=this._selectedCategorySignal(),t=this._allProgramsSignal();return e?t.filter(r=>this.programMatchesCategory(r,e)):t}),this.availableCategories=E(()=>{let e=this._allProgramsSignal();return this.extractCategoriesFromPrograms(e)})}selectCategory(e){if(!this.isValidCategory(e)){console.warn(`CategoryFilterService: Invalid category: ${e}`);return}this._selectedCategorySignal.set(e),this._selectedCategory.next(e),console.log(`CategoryFilterService: Category selected: ${e}`)}clearCategoryFilter(){this._selectedCategorySignal.set(null),this._selectedCategory.next(null),console.log("CategoryFilterService: Category filter cleared")}updatePrograms(e){this._allProgramsSignal.set(e),this._allPrograms.next(e);let t=this.extractCategoriesFromPrograms(e);this._availableCategoriesSignal.set(t),this._availableCategories.next(t),console.log(`CategoryFilterService: Programs updated: ${e.length} items, ${t.length} categories`)}getCategoryStats(e){let r=this._allProgramsSignal().filter(v=>this.programMatchesCategory(v,e)),l=new Date,g=r.filter(v=>{let _=new Date(v.start),P=new Date(v.end);return _<=l&&P>l}).length,h=r.filter(v=>new Date(v.start)>l).sort((v,_)=>new Date(v.start).getTime()-new Date(_.start).getTime()),b=h.length>0?new Date(h[0].start).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit",hour12:!1}):"N/A",S=new Set(r.map(v=>v.channel?.id||v.channel_id)).size;return{totalPrograms:r.length,channelsCount:S,currentlyAiring:g,nextProgramTime:b}}isValidCategory(e){return typeof e=="string"&&e.trim().length>0}extractCategoriesFromPrograms(e){let t=new Set;return e.forEach(r=>{r.category&&typeof r.category=="object"&&r.category.value&&r.category.value.split(",").map(g=>g.trim()).forEach(g=>{g&&t.add(g)})}),Array.from(t).sort()}getSelectedCategory(){return this._selectedCategorySignal()}getAvailableCategories(){return this._availableCategoriesSignal()}getFilteredPrograms(){return this.filteredPrograms()}programMatchesCategory(e,t){return e.category&&typeof e.category=="object"&&e.category.value?e.category.value.toLowerCase().includes(t.toLowerCase()):!1}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=q({token:c,factory:c.\u0275fac,providedIn:"root"});let a=c;return a})();var B={PIXELS_PER_HOUR:240,LOGO_COLUMN_WIDTH:160,BASE_CHANNEL_HEIGHT:75,LAYER_HEIGHT:75,EXPANDED_BANNER_HEIGHT:320,MINUTES_PER_SLOT:30,MINUTES_PER_COLUMN:5,MAX_GRID_COLUMNS:7,NIGHT_SLOT_END_MINUTES:30,MAX_LAYERS:5},je=(()=>{let c=class c{constructor(){}parseTimeToMinutes(e){let[t,r]=String(e||"00:00").split(":").map(Number);return(t||0)*60+(r||0)}formatMinutesToHHMM(e){let t=(Math.floor(e)%1440+1440)%1440,r=Math.floor(t/60).toString().padStart(2,"0"),l=(t%60).toString().padStart(2,"0");return`${r}:${l}`}minutesToGridColumn(e,t,r,l){let g=B.MINUTES_PER_COLUMN,h=e-t;h<0&&l&&(h+=1440),h<0&&(h=0);let b=Math.floor(h/g);return Math.max(1,Math.min(r,b+1))}isNightTimeSlot(e){return e?.includes("00:00")??!1}getSlotEndMinutes(e){if(!e?.length)return 1440;let t=e[e.length-1],[r,l]=t.split(":").map(Number),h=r*60+(l||0)+B.MINUTES_PER_SLOT,b=this.parseTimeToMinutes(e[0]);return h<=b&&(h+=1440),h}getSlotStartTimestamp(e,t){let r=new Date,l=r.getUTCFullYear(),g=r.getUTCMonth(),h=r.getUTCDate()+e,b=Math.floor(t/60),S=t%60;return Date.UTC(l,g,h,b,S,0,0)}getProgramStartTimestamp(e){try{return Date.parse(String(e.start))}catch{return 0}}getProgramEndTimestamp(e){try{let t=Date.parse(String(e.start)),r=Date.parse(String(e.stop));return isNaN(r)||isNaN(t)?r||t||0:(r<=t&&(r+=24*60*60*1e3),r)}catch{return 0}}normalizeProgramRange(e,t,r){let l=e,g=t;for(g<=l&&(g+=1440);g<=r;)l+=1440,g+=1440;return l<r&&g>r&&(l=r),g<=l&&(g=l+1),{start:l,end:g}}getProgramStartMinutes(e){if(!e?.start)return 0;try{let t=new Date(String(e.start));return t.getUTCHours()*60+t.getUTCMinutes()}catch{return 0}}getProgramEndMinutes(e){if(!e?.stop||!e?.start)return 0;try{let t=new Date(String(e.start)),r=new Date(String(e.stop)),l=t.getUTCHours()*60+t.getUTCMinutes(),g=r.getUTCHours()*60+r.getUTCMinutes();return(r.getTime()<=t.getTime()||g<=l)&&(g+=1440),g}catch{return 0}}programCrossesMidnight(e){if(!e?.start||!e?.stop)return!1;try{let t=this.getProgramStartMinutes(e),r=this.getProgramEndMinutes(e);return r>1440||r>t}catch{return!1}}minutesOverlap(e,t,r,l){return e<l&&r<t}programsOverlapInGrid(e,t){return typeof e._normStartMinutes=="number"&&typeof e._normEndMinutes=="number"&&typeof t._normStartMinutes=="number"&&typeof t._normEndMinutes=="number"?this.minutesOverlap(e._normStartMinutes,e._normEndMinutes,t._normStartMinutes,t._normEndMinutes):!(e.gridColumnEnd<=t.gridColumnStart||t.gridColumnEnd<=e.gridColumnStart)}removeOverlappingPrograms(e,t){if(!e||e.length<2)return e;let r=t.length?this.parseTimeToMinutes(t[0]):0,l=e.map(h=>{let b=this.getProgramStartMinutes(h),S=this.getProgramEndMinutes(h),{start:v,end:_}=this.normalizeProgramRange(b,S,r);return{program:h,start:v,end:_}});l.sort((h,b)=>h.start!==b.start?h.start-b.start:h.end-b.end);let g=[];g.push(l[0]);for(let h=1;h<l.length;h++){let b=l[h],S=g[g.length-1];if(b.start>=S.end){g.push(b);continue}g[g.length-1]=b}return g.map(h=>h.program)}isProgramInVisibleSlot(e,t,r,l){let g=this.getProgramStartMinutes(e),h=this.getProgramEndMinutes(e);return l?g>=t||h<=r||g<t&&h>t:g<r&&h>t}calculateNightCrossingEndMinutes(e,t){return e<=t?e:t}calculateGridColumnEnd(e,t,r,l,g,h){let b=B.MINUTES_PER_SLOT/B.MINUTES_PER_COLUMN,S=B.MAX_GRID_COLUMNS*b,v=B.MINUTES_PER_COLUMN,_=r-l;_<0&&g&&(_+=1440),_<1&&(_=1);let P=Math.ceil(_/v);return Math.max(2,Math.min(S+1,P+1))}getProgramGridColumn(e,t){if(!t.length)return 1;let r=this.parseTimeToMinutes(t[0]),l=this.getProgramStartMinutes(e),g=this.getProgramEndMinutes(e),h=this.isNightTimeSlot(t),b=B.MINUTES_PER_SLOT/B.MINUTES_PER_COLUMN,S=B.MAX_GRID_COLUMNS*b,{start:v}=this.normalizeProgramRange(l,g,r);return this.minutesToGridColumn(v,r,S,h)}getProgramGridColumnEnd(e,t){if(!t.length)return 2;let r=this.parseTimeToMinutes(t[0]),l=this.getSlotEndMinutes(t),g=this.isNightTimeSlot(t),h=this.getProgramStartMinutes(e),b=this.getProgramEndMinutes(e),S=this.programCrossesMidnight(e),{start:v,end:_}=this.normalizeProgramRange(h,b,r),P;return this.isProgramInVisibleSlot(e,r,l,g)?g&&S?P=_:P=Math.min(_,l):P=_,this.calculateGridColumnEnd(e,v,P,r,g,S)}getVisiblePrograms(e,t,r){if(!e?.length)return[];if(!t.length)return e;let l=this.parseTimeToMinutes(t[0]),g=this.getSlotEndMinutes(t),h=this.getSlotStartTimestamp(r,l),b=h+(g-l)*6e4,S=24*60*60*1e3;return e.filter(_=>{if(/\d{4}-\d{2}-\d{2}T/.test(String(_.start))){let R=Date.parse(String(_.start)),H=Date.parse(String(_.stop));if(isNaN(R)||isNaN(H))return!1;if(H<=R&&(H+=S),R<b&&H>h)return!0;let xe=Math.round((h-R)/S);for(let le=xe-1;le<=xe+1;le++){let Ze=R+le*S,We=H+le*S;if(Ze<b&&We>h)return!0}return!1}let D=this.getProgramStartMinutes(_),O=this.getProgramEndMinutes(_),{start:G,end:N}=this.normalizeProgramRange(D,O,l);return N>l&&G<g})}calculateVisibleDuration(e,t){if(!t.length)return 30;let r=this.parseTimeToMinutes(t[0]),l=this.isNightTimeSlot(t),g=this.getSlotEndMinutes(t),h=this.getProgramStartMinutes(e),b=this.getProgramEndMinutes(e),S=this.programCrossesMidnight(e);if(l&&S)return this.calculateNightCrossingDuration(h,b,r,g);let v=Math.max(h,r),_=l?Math.min(b,1440):Math.min(b,g);return Math.max(1,_-v)}calculateNightCrossingDuration(e,t,r,l){let h=1440-Math.max(e,r),b=Math.min(t,l);return Math.max(1,h+b)}calculateRealDuration(e){let t=this.getProgramStartMinutes(e),r=this.getProgramEndMinutes(e);return this.programCrossesMidnight(e)?1440-t+r:r-t}filterProgramsByActiveDay(e,t){if(!Array.isArray(e)||e.length===0)return[];let r=24*60*60*1e3,l=new Date,g=l.getUTCFullYear(),h=l.getUTCMonth(),b=l.getUTCDate()+t,S=Date.UTC(g,h,b,0,0,0,0),v=S+r,_=(P,D=!0)=>{if(P==null)return null;let O=String(P).trim();if(/\d{4}-\d{2}-\d{2}T/.test(O)){let N=Date.parse(O);return isNaN(N)?null:N}if(/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}/.test(O)){let N=Date.parse(O.replace(" ","T"));return isNaN(N)?null:N}if(/^\d{1,2}:\d{2}$/.test(O)){let[N,R]=O.split(":"),H=Number(N||0),ue=Number(R||0);return!Number.isFinite(H)||!Number.isFinite(ue)?null:Date.UTC(g,h,b,H,ue,0,0)}let G=Date.parse(O);return isNaN(G)?null:G};return e.filter(P=>{let D=_(P.start),O=_(P.stop);if(D!=null&&O!=null){if(O<=D&&(O+=r),D<v&&O>S)return!0;let G=Math.round((S-D)/r);for(let N=G-1;N<=G+1;N++){let R=D+N*r,H=O+N*r;if(R<v&&H>S)return!0}return!1}return D==null&&typeof P.start=="string"&&/^\d{1,2}:\d{2}$/.test(P.start)&&(D=_(P.start)),O==null&&typeof P.stop=="string"&&/^\d{1,2}:\d{2}$/.test(P.stop)&&(O=_(P.stop)),D!=null&&O==null&&(O=D+30*60*1e3),D==null||O==null?!1:(O<=D&&(O+=r),D<v&&O>S)})}normalizeCategoryName(e){let t=e.toLowerCase().trim();return{pelicula:"Pel\xEDculas",peliculas:"Pel\xEDculas",cine:"Pel\xEDculas",serie:"Series",series:"Series",drama:"Series",documental:"Documentales",documentales:"Documentales",noticia:"Noticias",noticias:"Noticias",informativo:"Noticias",deporte:"Deportes",deportes:"Deportes",futbol:"Deportes",entretenimiento:"Entretenimiento",show:"Entretenimiento",musica:"M\xFAsica",m\u00FAsica:"M\xFAsica",infantil:"Infantil",ni\u00F1os:"Infantil"}[t]||this.capitalizeFirstLetter(t)}capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}sortCategories(e){let t=["Pel\xEDculas","Series","Documentales","Noticias","Deportes","Entretenimiento","M\xFAsica","Infantil"];return e.sort((r,l)=>{let g=t.indexOf(r),h=t.indexOf(l);return g!==-1&&h!==-1?g-h:g!==-1?-1:h!==-1?1:r.localeCompare(l)})}programMatchesCategory(e,t){if(!e?.category?.value)return!1;let r=String(e.category.value).split(",").map(l=>this.normalizeCategoryName(l.trim())).filter(l=>l);return t.some(l=>r.some(g=>g.toLowerCase()===l.toLowerCase()))}getAvailableCategories(e){if(!Array.isArray(e)||e.length===0)return[];let t=new Set;return e.forEach(r=>{(Array.isArray(r.channels)?r.channels:[]).forEach(g=>{g?.category?.value&&String(g.category.value).split(",").map(h=>this.normalizeCategoryName(h.trim())).filter(h=>h).forEach(h=>t.add(h))})}),this.sortCategories(Array.from(t))}getFilteredChannels(e,t){if(!Array.isArray(e)||e.length===0)return[];if(!t||t.size===0)return e;let r=Array.from(t);return e.map(l=>fe(_e({},l),{channels:(l.channels||[]).filter(g=>this.programMatchesCategory(g,r))})).filter(l=>Array.isArray(l.channels)&&l.channels.length>0)}getProgramLayers(e,t,r){if(!e||!Array.isArray(e.channels)||e.channels.length===0)return[];let l=this.filterProgramsByActiveDay(e.channels||[],t);if(!l||l.length===0){try{console.warn("[ProgramListTransform] filterProgramsByActiveDay devolvi\xF3 vac\xEDo, aplicando fallback con canal.channels for",e?.channel?.name||e?.id||"<unknown>")}catch{}l=e.channels||[]}let g=l,h=this.removeOverlappingPrograms(g,r),b=this.getVisiblePrograms(h,r,t);if(!b.length)return[];let S=b.map(_=>{let P=this.parseTimeToMinutes(r[0]),{start:D,end:O}=this.normalizeProgramRange(this.getProgramStartMinutes(_),this.getProgramEndMinutes(_),P);return fe(_e({},_),{gridColumnStart:this.getProgramGridColumn(_,r),gridColumnEnd:this.getProgramGridColumnEnd(_,r),layerIndex:0,visibleStartTime:this.formatMinutesToHHMM(D),visibleEndTime:this.formatMinutesToHHMM(O),isCutAtStart:D>this.getProgramStartMinutes(_),isCutAtEnd:O<this.getProgramEndMinutes(_),_normStartMinutes:D,_normEndMinutes:O})});S.sort((_,P)=>_.gridColumnStart!==P.gridColumnStart?_.gridColumnStart-P.gridColumnStart:P.gridColumnEnd-P.gridColumnStart-(_.gridColumnEnd-_.gridColumnStart));let v=[];return S.forEach(_=>{let P=0,D=!1;for(;!D&&P<B.MAX_LAYERS;)v[P]||(v[P]=[]),v[P].some(G=>this.programsOverlapInGrid(_,G))?P++:(_.layerIndex=P,v[P].push(_),D=!0);!D&&P<B.MAX_LAYERS&&(_.layerIndex=P,v[P]=[_])}),v}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=q({token:c,factory:c.\u0275fac,providedIn:"root"});let a=c;return a})();var be="deviceInfo",he=(()=>{let c=class c{constructor(){this.platformId=I(me),this.destroyRef=I(Q),this.transferState=I(we),this.request=I(Ee,{optional:!0}),this.isBrowser=ge(this.platformId),this.isServer=De(this.platformId),this.width=T(1024),this.height=T(768),this._isTouchDevice=T(!1),this.initialized=T(!1),this.deviceType=E(()=>{let e=this.width();return e<768?"mobile":e<1024?"tablet":"desktop"}),this.isMobile=E(()=>this.deviceType()==="mobile"),this.isTablet=E(()=>this.deviceType()==="tablet"),this.isDesktop=E(()=>this.deviceType()==="desktop"),this.orientation=E(()=>this.width()<this.height()?"portrait":"landscape"),this.isTouchDevice=E(()=>this._isTouchDevice()),this.deviceInfo=E(()=>({type:this.deviceType(),isMobile:this.isMobile(),isTablet:this.isTablet(),isDesktop:this.isDesktop(),width:this.width(),height:this.height(),orientation:this.orientation(),isTouchDevice:this.isTouchDevice()})),console.log("\u{1F3D7}\uFE0F DeviceDetectorService constructor",{isServer:this.isServer,isBrowser:this.isBrowser,hasRequest:!!this.request}),this.isServer?this.detectDeviceOnServer():this.isBrowser&&this.initializeOnClient()}detectDeviceOnServer(){if(!this.request){console.warn("\u26A0\uFE0F REQUEST no disponible en servidor");return}let e=this.request.headers["user-agent"]||"";console.log("\u{1F50D} SERVER - User-Agent:",e);let t=this.parseUserAgent(e);console.log("\u{1F4F1} SERVER - Device detected:",t),this.width.set(t.width),this.height.set(t.height),this._isTouchDevice.set(t.isTouchDevice),this.transferState.set(be,t),console.log("\u{1F4BE} SERVER - Device info guardado en TransferState"),this.initialized.set(!0)}initializeOnClient(){console.log("\u{1F310} CLIENT - Inicializando detecci\xF3n...");let e=this.transferState.get(be,null);e?(console.log("\u2705 CLIENT - Usando device info del servidor:",e),this.applyDeviceInfo(e),this.transferState.remove(be)):(console.log("\u26A0\uFE0F CLIENT - No hay info del servidor, detectando manualmente..."),this.detectDeviceOnClient()),this.setupResizeListener(),this.initialized.set(!0)}detectDeviceOnClient(){if(!(typeof window>"u"))try{let e=window.innerWidth,t=window.innerHeight,r="ontouchstart"in window||navigator.maxTouchPoints>0;this.width.set(e),this.height.set(t),this._isTouchDevice.set(r),console.log("\u{1F4F1} CLIENT - Device detected:",{width:e,height:t,type:this.deviceType(),isMobile:this.isMobile(),isTouch:r}),this.initialized.set(!0)}catch(e){console.error("\u274C CLIENT - Error detecting device:",e)}}applyDeviceInfo(e){this.width.set(e.width),this.height.set(e.height),this._isTouchDevice.set(e.isTouchDevice)}parseUserAgent(e){let t=e.toLowerCase(),r=/mobile|android|iphone|ipod|phone|blackberry|opera mini|iemobile|windows phone/i,l=r.test(t),h=/tablet|ipad|playbook|silk|kindle/i.test(t)&&!r.test(t),b=l||h,S=1920,v=1080;l?(S=375,v=667,t.includes("iphone")&&(t.includes("pro max")||t.includes("plus"))?(S=428,v=926):t.includes("iphone")?(S=390,v=844):t.includes("pixel")?(S=412,v=915):(t.includes("samsung")||t.includes("galaxy"))&&(S=360,v=800)):h&&(S=768,v=1024,t.includes("ipad pro")&&(S=1024,v=1366));let _=l?"mobile":h?"tablet":"desktop";return{type:_,isMobile:_==="mobile",isTablet:_==="tablet",isDesktop:_==="desktop",width:S,height:v,orientation:S<v?"portrait":"landscape",isTouchDevice:b}}setupResizeListener(){if(!(!this.isBrowser||typeof window>"u"))try{ve(window,"resize").pipe(de(200),F(this.destroyRef)).subscribe(()=>{typeof window<"u"&&(this.width.set(window.innerWidth),this.height.set(window.innerHeight),console.log("\u{1F504} Window resized:",{width:this.width(),height:this.height(),type:this.deviceType()}))})}catch(e){console.error("\u274C Error setting up resize listener:",e)}}getOptimalColumns(){switch(this.deviceType()){case"mobile":return 2;case"tablet":return 3;case"desktop":return 7;default:return 7}}getOptimalItemSize(){switch(this.deviceType()){case"mobile":return 68;case"tablet":return 75;case"desktop":return 80;default:return 75}}getOptimalPadding(){switch(this.deviceType()){case"mobile":return"0.5rem";case"tablet":return"1rem";case"desktop":return"1.5rem";default:return"1rem"}}get isRunningInBrowser(){return this.isBrowser}isInitialized(){return this.initialized()}forceDetection(){this.isBrowser&&(this.detectDeviceOnClient(),this.initialized.set(!0))}};c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=q({token:c,factory:c.\u0275fac,providedIn:"root"});let a=c;return a})();function qe(a,c){if(a&1&&u(0,"img",20),a&2){let n=m(2);p("src",n.channelLogo,re)("alt",n.channelName)}}function Qe(a,c){if(a&1&&u(0,"app-banner",21),a&2){let n=m(2);p("data",n.bannerData())}}function Xe(a,c){if(a&1){let n=k();i(0,"div",1),w("click",function(){C(n);let t=m();return y(t.onClose())})("keydown",function(t){C(n);let r=m();return y(r.onEscapeKey(t))}),u(1,"div",2),i(2,"div",3),w("click",function(t){C(n);let r=m();return y(r.onContentClick(t))}),i(3,"div",4)(4,"div",5)(5,"div",6),f(6,qe,1,2,"img",7),i(7,"div",8)(8,"span",9),s(9),o(),i(10,"span",10),s(11),o()()(),i(12,"button",11),w("click",function(){C(n);let t=m();return y(t.onClose())}),x(),i(13,"svg",12),u(14,"path",13),o()()()(),M(),i(15,"div",14),f(16,Qe,1,1,"app-banner",15),o(),i(17,"div",16)(18,"button",17),w("click",function(){C(n);let t=m();return y(t.onClose())}),x(),i(19,"svg",18),u(20,"path",19),o(),s(21," Entendido "),o()()()()}if(a&2){let n=m();p("@backdropAnimation",void 0),J("aria-label","Detalles de "+(n.program.title||"programa")),d(2),p("@modalAnimation",void 0),d(4),p("ngIf",n.channelLogo),d(3),L(n.channelName),d(2),K(" ",n.formatTime(n.program.start)," - ",n.formatTime(n.program.stop)," "),d(5),p("ngIf",n.bannerData())}}var $e=(()=>{let c=class c{constructor(){this.program=null,this.channelName="",this.channelLogo="",this.close=new oe,this.isVisible=T(!1),this.bannerData=E(()=>{let e=this.program;if(!e)return null;let t=e.poster||e.desc?.value||"",r=e.desc?e.desc:{details:"",value:"",lang:""};return{title:e.title,channel:this.channelName,channelName:this.channelName,icon:this.channelLogo,poster:t||this.channelLogo||"",start:e.start,stop:e.stop,startTime:e.start,endTime:e.stop,desc:r,description:r.details||r.value||"",year:r.year||"",rating:e.starRating!==void 0&&e.starRating!==null?String(e.starRating):"",starRating:e.starRating!==void 0&&e.starRating!==null?e.starRating:"",category:e.category?.value||"",id:e.id}})}formatTime(e){if(!e)return"";try{let t=new Date(e);if(isNaN(t.getTime()))return String(e);let r=String(t.getHours()).padStart(2,"0"),l=String(t.getMinutes()).padStart(2,"0");return`${r}:${l}`}catch{return String(e)}}onClose(){this.close.emit()}onContentClick(e){e.stopPropagation()}onEscapeKey(e){e.key==="Escape"&&this.onClose()}};c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=X({type:c,selectors:[["app-program-detail-modal"]],inputs:{program:"program",channelName:"channelName",channelLogo:"channelLogo"},outputs:{close:"close"},decls:1,vars:1,consts:[["class","program-detail-modal-container","tabindex","0","role","dialog","aria-modal","true",3,"click","keydown",4,"ngIf"],["tabindex","0","role","dialog","aria-modal","true",1,"program-detail-modal-container",3,"click","keydown"],[1,"modal-backdrop"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-header-content"],[1,"channel-info"],["class","channel-logo","loading","lazy",3,"src","alt",4,"ngIf"],[1,"channel-text"],[1,"channel-name"],[1,"program-time"],["aria-label","Cerrar detalles",1,"close-button",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"close-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"modal-body"],[3,"data",4,"ngIf"],[1,"modal-footer"],[1,"action-button","action-button-primary",3,"click"],["fill","currentColor","viewBox","0 0 20 20",1,"button-icon"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],["loading","lazy",1,"channel-logo",3,"src","alt"],[3,"data"]],template:function(t,r){t&1&&f(0,Xe,22,8,"div",0),t&2&&p("ngIf",r.program)},dependencies:[te,ee,ie],styles:['.program-detail-modal-container[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:9999;display:flex;align-items:flex-end;justify-content:center;overflow:hidden;outline:none}.program-detail-modal-container[_ngcontent-%COMP%]:before{content:"";position:fixed;inset:0}.modal-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#000000d9;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.modal-content[_ngcontent-%COMP%]{position:relative;width:100%;max-width:100vw;max-height:95vh;background:linear-gradient(to bottom,#0f172a,#000);border-radius:24px 24px 0 0;display:flex;flex-direction:column;overflow:hidden;box-shadow:0 -20px 60px #00000080,0 -8px 16px #0000004d}.modal-content[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.1) 50%,transparent)}.modal-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;background:#0f172af2;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border-bottom:1px solid rgba(51,65,85,.3);padding:env(safe-area-inset-top,0) 1rem 1rem}.modal-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:1rem;padding-top:.5rem}.channel-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1;min-width:0}.channel-logo[_ngcontent-%COMP%]{width:48px;height:32px;object-fit:contain;background:#ffffff0d;border-radius:.5rem;padding:.25rem;flex-shrink:0}.channel-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem;min-width:0}.channel-name[_ngcontent-%COMP%]{font-weight:600;font-size:.9375rem;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.program-time[_ngcontent-%COMP%]{font-size:.8125rem;color:#fff9;font-weight:500}.close-button[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:50%;background:#1e293bcc;border:1px solid rgba(51,65,85,.3);color:#ffffffe6;transition:all .2s ease;flex-shrink:0;-webkit-tap-highlight-color:transparent}.close-button[_ngcontent-%COMP%]:active{transform:scale(.95);background:#1e293b}.close-button[_ngcontent-%COMP%]:hover{background:#ef444433;border-color:#ef4444;color:#ef4444}.close-icon[_ngcontent-%COMP%]{width:24px;height:24px}.modal-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;padding:1.5rem 1rem;scrollbar-width:thin;scrollbar-color:rgba(239,68,68,.5) transparent}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ef444480;border-radius:2px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ef4444b3}.modal-footer[_ngcontent-%COMP%]{position:sticky;bottom:0;z-index:10;background:#0f172afa;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border-top:1px solid rgba(51,65,85,.3);padding:1rem;padding-bottom:calc(1rem + env(safe-area-inset-bottom,0));box-shadow:0 -4px 12px #0003}.action-button[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:.5rem;padding:1rem;border-radius:1rem;font-weight:600;font-size:1rem;transition:all .2s ease;border:none;-webkit-tap-highlight-color:transparent;min-height:52px}.action-button-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#eb1515);color:#fff;box-shadow:0 4px 12px #ef44444d}.action-button-primary[_ngcontent-%COMP%]:active{transform:scale(.98);box-shadow:0 2px 8px #ef444466}.button-icon[_ngcontent-%COMP%]{width:20px;height:20px;flex-shrink:0}@media (min-width: 640px){.modal-content[_ngcontent-%COMP%]{max-width:600px;border-radius:24px;max-height:90vh;margin:auto}.program-detail-modal-container[_ngcontent-%COMP%]{align-items:center}.modal-body[_ngcontent-%COMP%]{padding:2rem 1.5rem}}@media (orientation: landscape) and (max-height: 500px){.modal-content[_ngcontent-%COMP%]{max-height:100vh;border-radius:0}.modal-header[_ngcontent-%COMP%]{padding:.75rem 1rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-footer[_ngcontent-%COMP%]{padding:.75rem 1rem}.action-button[_ngcontent-%COMP%]{padding:.75rem;min-height:44px}}.program-detail-modal-container[_ngcontent-%COMP%]:focus{outline:none}.close-button[_ngcontent-%COMP%]:focus-visible{outline:2px solid #ef4444;outline-offset:2px}.action-button[_ngcontent-%COMP%]:focus-visible{outline:2px solid white;outline-offset:2px}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}[_nghost-%COMP%]  body{overflow:hidden}'],data:{animation:[ne("modalAnimation",[$(":enter",[A({opacity:0,transform:"translateY(100%)"}),U("300ms cubic-bezier(0.4, 0, 0.2, 1)",A({opacity:1,transform:"translateY(0)"}))]),$(":leave",[U("200ms cubic-bezier(0.4, 0, 1, 1)",A({opacity:0,transform:"translateY(100%)"}))])]),ne("backdropAnimation",[$(":enter",[A({opacity:0}),U("200ms ease-out",A({opacity:1}))]),$(":leave",[U("150ms ease-in",A({opacity:0}))])])]},changeDetection:0});let a=c;return a})();var Je=["virtualScrollViewport"];function Ke(a,c){a&1&&(Y(0),i(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),x(),i(5,"svg",6),u(6,"path",7),o()(),M(),i(7,"h2",8),s(8,"Gu\xEDa TV"),o(),i(9,"p",9),s(10," Cargando programaci\xF3n de televisi\xF3n... "),o(),i(11,"div",10),u(12,"div",11)(13,"div",12)(14,"div",13),o()()()(),Z())}function et(a,c){if(a&1){let n=k();i(0,"div",31)(1,"h3",32),s(2,"Error al cargar"),o(),i(3,"p",33),s(4),o(),i(5,"button",19),w("click",function(){C(n);let t=m(3);return y(t.facade.refreshData())}),s(6," Reintentar "),o()()}if(a&2){let n=m(3);d(4),L(n.error())}}function tt(a,c){if(a&1){let n=k();i(0,"img",44),w("error",function(t){C(n);let r=m(5);return y(r.onChannelLogoError(t))}),o()}if(a&2){let n=m().$implicit,e=m(4);p("src",e.getChannelLogoUrl(n),re)("alt",n.channel.name)}}function nt(a,c){if(a&1&&(i(0,"span",50),s(1),o()),a&2){let n=m().$implicit,e=m(5);j(e.getCategoryBadgeClasses(n.category.value)),d(),z(" ",e.getCategoryDisplayName(n.category.value)," ")}}function it(a,c){if(a&1){let n=k();i(0,"div",45),w("click",function(t){let r=C(n).$implicit,l=m().index;return m(4).onProgramSelected(l,r),y(t.stopPropagation())}),i(1,"div",46)(2,"h4",47),s(3),o(),i(4,"span",48),s(5),o()(),f(6,nt,2,3,"span",49),o()}if(a&2){let n,e=c.$implicit,t=m(5);V("mobile-program-active",((n=t.selectedProgram())==null?null:n.id)===e.id),d(3),z(" ",t.getProgramTitle(e)," "),d(2),K(" ",t.getProgramVisibleStartTime(e)," - ",t.getProgramVisibleEndTime(e)," "),d(),p("ngIf",e==null||e.category==null?null:e.category.value)}}function rt(a,c){if(a&1){let n=k();i(0,"div",37)(1,"div",38),w("click",function(t){let r=C(n).index;return m(4).onChannelToggle(r),y(t.stopPropagation())}),Y(2),f(3,tt,1,2,"img",39),i(4,"span",40),s(5),o(),Z(),x(),i(6,"svg",41),u(7,"path",24),o()(),M(),i(8,"div",42),f(9,it,7,6,"div",43),o()()}if(a&2){let n=c.$implicit,e=c.index,t=m(4);d(3),p("ngIf",t.getChannelLogoUrl(n)),d(),V("hidden",t.getChannelLogoUrl(n)),d(),z(" ",n.channel.name," "),d(),V("rotate-180",t.isChannelExpanded(e)),d(2),V("expanded",t.isChannelExpanded(e)),d(),p("ngForOf",t.getMobileVisiblePrograms(n))("ngForTrackBy",t.trackByProgramId)}}function ot(a,c){if(a&1&&(i(0,"div",34)(1,"cdk-virtual-scroll-viewport",35,0),f(3,rt,10,10,"div",36),o()()),a&2){let n=m(3);d(),p("itemSize",n.getMobileItemSize()),d(2),p("cdkVirtualForOf",n.filteredChannels())("cdkVirtualForTrackBy",n.trackByChannelId)}}function at(a,c){a&1&&(x(),i(0,"svg",58),u(1,"path",59),o())}function st(a,c){if(a&1){let n=k();i(0,"button",53),w("click",function(t){let r=C(n).index,l=m(4);return y(l.selectDay(r,t))}),i(1,"div",54)(2,"span",55),s(3),o(),i(4,"span",56),s(5),o()(),f(6,at,2,0,"svg",57),o()}if(a&2){let n=c.$implicit,e=c.index,t=m(4);V("mobile-dropdown-active",e===t.activeDay()),d(3),L(n.diaSemana),d(2),L(n.diaNumero),d(),p("ngIf",e===t.activeDay())}}function lt(a,c){if(a&1){let n=k();i(0,"div",51),w("click",function(t){return C(n),y(t.stopPropagation())}),f(1,st,7,5,"button",52),o()}if(a&2){let n=m(3);d(),p("ngForOf",n.daysInfo())}}function ct(a,c){a&1&&(x(),i(0,"svg",58),u(1,"path",59),o())}function dt(a,c){if(a&1){let n=k();i(0,"button",53),w("click",function(t){let r=C(n).index;return m(4).selectTimeSlot(r),y(t.stopPropagation())}),i(1,"span"),s(2),o(),f(3,ct,2,0,"svg",57),o()}if(a&2){let n=c.$implicit,e=m(4);V("mobile-dropdown-active",n[0]===e.currentTimeSlot()),d(2),K("",n[0]," - ",n[n.length-1]),d(),p("ngIf",n[0]===e.currentTimeSlot())}}function mt(a,c){if(a&1){let n=k();i(0,"div",51),w("click",function(t){return C(n),y(t.stopPropagation())}),f(1,dt,4,5,"button",52),o()}if(a&2){let n=m(3);d(),p("ngForOf",n.currentTimeSlots())}}function gt(a,c){if(a&1&&(i(0,"span",63),s(1),o()),a&2){let n=m(4);d(),L(n.selectedCategories().size)}}function pt(a,c){if(a&1){let n=k();i(0,"button",60),w("click",function(t){return C(n),m(3).toggleCategoryDropdown(),y(t.stopPropagation())}),x(),i(1,"svg",20),u(2,"path",61),o(),f(3,gt,2,1,"span",62),o()}if(a&2){let n=m(3);d(3),p("ngIf",n.selectedCategories().size>0)}}function ht(a,c){a&1&&(x(),i(0,"svg",58),u(1,"path",59),o())}function ut(a,c){a&1&&(x(),i(0,"svg",58),u(1,"path",59),o())}function _t(a,c){if(a&1){let n=k();i(0,"button",53),w("click",function(t){let r=C(n).$implicit;return m(4).selectCategory(r),y(t.stopPropagation())}),i(1,"span"),s(2),o(),f(3,ut,2,0,"svg",57),o()}if(a&2){let n=c.$implicit,e=m(4);V("mobile-dropdown-active",e.isCategorySelected(n)),d(2),L(e.getCategoryDisplayName(n)),d(),p("ngIf",e.isCategorySelected(n))}}function ft(a,c){if(a&1){let n=k();i(0,"div",64),w("click",function(t){return C(n),y(t.stopPropagation())}),i(1,"button",53),w("click",function(t){return C(n),m(3).selectCategory(null),y(t.stopPropagation())}),i(2,"span"),s(3,"Todas las categor\xEDas"),o(),f(4,ht,2,0,"svg",57),o(),f(5,_t,4,4,"button",65),o()}if(a&2){let n=m(3);d(),V("mobile-dropdown-active",n.isAllCategoriesSelected()),d(3),p("ngIf",n.isAllCategoriesSelected()),d(),p("ngForOf",n.availableCategories())("ngForTrackBy",n.trackByCategory)}}function bt(a,c){if(a&1){let n=k();i(0,"app-program-detail-modal",66),w("close",function(){C(n);let t=m(3);return y(t.closeMobileProgram())}),o()}if(a&2){let n=m(3);p("program",n.selectedProgram())("channelName",n.modalChannelInfo().channelName)("channelLogo",n.modalChannelInfo().channelLogo)}}function xt(a,c){if(a&1){let n=k();Y(0),i(1,"section",14),f(2,et,7,1,"div",15)(3,ot,4,3,"div",16),i(4,"div",17)(5,"div",18)(6,"button",19),w("click",function(t){return C(n),m(2).toggleDayDropdown(),y(t.stopPropagation())}),x(),i(7,"svg",20),u(8,"path",21),o(),M(),i(9,"span",22),s(10),o(),x(),i(11,"svg",23),u(12,"path",24),o()(),f(13,lt,2,1,"div",25),o(),M(),i(14,"div",18)(15,"button",26),w("click",function(t){return C(n),m(2).toggleTimeSlotDropdown(),y(t.stopPropagation())}),x(),i(16,"svg",20),u(17,"path",27),o(),M(),i(18,"span",22),s(19),o(),x(),i(20,"svg",23),u(21,"path",24),o()(),f(22,mt,2,1,"div",25),o(),f(23,pt,4,1,"button",28)(24,ft,6,5,"div",29),o()(),f(25,bt,1,3,"app-program-detail-modal",30),Z()}if(a&2){let n=m(2);d(2),p("ngIf",n.uiState().hasError),d(),p("ngIf",n.uiState().showContent),d(7),L(n.getCurrentSelectedDay()),d(),V("rotate-180",n.isDayDropdownOpen()),d(2),p("ngIf",n.isDayDropdownOpen()),d(6),L(n.getCurrentSelectedTimeSlot()),d(),V("rotate-180",n.isTimeSlotDropdownOpen()),d(2),p("ngIf",n.isTimeSlotDropdownOpen()),d(),p("ngIf",n.showCategoryFilter()),d(),p("ngIf",n.isCategoryDropdownOpen()),d(),p("ngIf",n.selectedProgram()&&n.modalChannelInfo())}}function vt(a,c){a&1&&(x(),i(0,"svg",101),u(1,"path",59),o())}function Ct(a,c){if(a&1){let n=k();i(0,"button",96),w("click",function(t){let r=C(n).index,l=m(4);return y(l.selectDay(r,t))}),i(1,"div",97)(2,"div",98),s(3),o(),i(4,"div",99),s(5),o()(),f(6,vt,2,0,"svg",100),o()}if(a&2){let n=c.$implicit,e=c.index,t=m(4);j(t.getDayDropdownItemClasses(e)),d(3),z(" ",n.diaSemana," "),d(2),z(" ",n.diaNumero," "),d(),p("ngIf",e===t.activeDay())}}function yt(a,c){if(a&1&&(i(0,"div",93)(1,"div",94),f(2,Ct,7,5,"button",95),o()()),a&2){let n=m(3);d(2),p("ngForOf",n.daysInfo())("ngForTrackBy",n.trackByDayIndex)}}function wt(a,c){if(a&1&&(i(0,"span",103),s(1),o()),a&2){let n=m(4);d(),z(" ",n.selectedCategories().size," ")}}function St(a,c){a&1&&(x(),i(0,"svg",73),u(1,"path",59),o())}function Pt(a,c){a&1&&(x(),i(0,"svg",73),u(1,"path",59),o())}function Mt(a,c){if(a&1){let n=k();i(0,"button",104),w("click",function(){let t=C(n).$implicit,r=m(5);return y(r.selectCategory(t))}),i(1,"span",105),s(2),o(),f(3,Pt,2,0,"svg",106),o()}if(a&2){let n=c.$implicit,e=m(5);j(e.getCategoryDropdownItemClasses(n)),d(2),L(e.getCategoryDisplayName(n)),d(),p("ngIf",e.isCategorySelected(n))}}function kt(a,c){if(a&1){let n=k();i(0,"div",93)(1,"div",94)(2,"button",104),w("click",function(){C(n);let t=m(4);return y(t.selectCategory(null))}),i(3,"span",105),s(4,"Todas las categor\xEDas"),o(),f(5,St,2,0,"svg",106),o(),f(6,Mt,4,4,"button",107),o()()}if(a&2){let n=m(4);d(2),j(n.getCategoryDropdownItemClasses(null)),d(3),p("ngIf",n.isAllCategoriesSelected()),d(),p("ngForOf",n.availableCategories())("ngForTrackBy",n.trackByCategory)}}function Tt(a,c){if(a&1){let n=k();i(0,"div",70)(1,"button",77),w("click",function(){C(n);let t=m(3);return y(t.toggleCategoryDropdown())}),i(2,"div",72),x(),i(3,"svg",73),u(4,"path",61),o(),M(),i(5,"span"),s(6),o(),f(7,wt,2,1,"span",102),o(),x(),i(8,"svg",74),u(9,"path",24),o()(),f(10,kt,7,5,"div",75),o()}if(a&2){let n=m(3);d(6),L(n.getCategoryButtonText()),d(),p("ngIf",n.selectedCategories().size>0),d(),V("rotate-180",n.isCategoryDropdownOpen()),d(2),p("ngIf",n.isCategoryDropdownOpen())}}function Et(a,c){a&1&&(x(),i(0,"svg",73),u(1,"path",59),o())}function Ot(a,c){if(a&1){let n=k();i(0,"button",104),w("click",function(){let t=C(n).index,r=m(4);return y(r.selectTimeSlot(t))}),i(1,"span",105),s(2),o(),f(3,Et,2,0,"svg",106),o()}if(a&2){let n=c.$implicit,e=m(4);j(e.getTimeSlotDropdownItemClasses(n[0])),d(2),K("",n[0]," - ",n[n.length-1]),d(),p("ngIf",n[0]===e.currentTimeSlot())}}function Dt(a,c){if(a&1&&(i(0,"div",93)(1,"div",94),f(2,Ot,4,5,"button",107),o()()),a&2){let n=m(3);d(2),p("ngForOf",n.currentTimeSlots())("ngForTrackBy",n.trackByTimeSlot)}}function It(a,c){if(a&1&&(i(0,"div",108)(1,"div",109),u(2,"div",110),o(),i(3,"div",111),s(4),o()()),a&2){let n=m(3);ae("left",n.timeIndicatorPositionPx(),"px")("height","calc(100% - 60px)")("top",60,"px")("z-index",n.getTimeIndicatorZIndex()),d(4),z(" ",n.getCurrentTime()," ")}}function Lt(a,c){if(a&1&&(i(0,"div",112)(1,"span",113),s(2),o()()),a&2){let n=c.$implicit;d(2),L(n)}}function Vt(a,c){if(a&1){let n=k();i(0,"div",114)(1,"h3",115),s(2," Error al cargar la programaci\xF3n "),o(),i(3,"p",116),s(4),o(),i(5,"button",117),w("click",function(){C(n);let t=m(3);return y(t.facade.refreshData())}),s(6," Reintentar "),o()()}if(a&2){let n=m(3);d(4),L(n.error())}}function zt(a,c){a&1&&(i(0,"div",118)(1,"h3",115),s(2," No hay programaci\xF3n disponible "),o(),i(3,"p",119),s(4," No se encontraron programas para mostrar. "),o()())}function Ft(a,c){if(a&1){let n=k();i(0,"img",133),w("error",function(t){C(n);let r=m(5);return y(r.onChannelLogoError(t))}),o()}if(a&2){let n=m(),e=n.$implicit,t=n.index,r=m(4);V("scale-105",r.isChannelExpanded(t)),p("src",r.getChannelLogoUrl(e),re)("alt",e.channel.name+" logo")}}function Nt(a,c){a&1&&u(0,"div",145)}function At(a,c){a&1&&u(0,"div",146)}function Bt(a,c){a&1&&(i(0,"span",147),s(1,"\u21BB"),o())}function Ht(a,c){a&1&&(i(0,"span",148),s(1,"\u21BB"),o())}function Gt(a,c){if(a&1&&(i(0,"div",149)(1,"span",150),s(2),o()()),a&2){let n=m().$implicit,e=m(6);d(),j(e.getCategoryBadgeClasses(n.category.value)),d(),z(" ",e.getCategoryDisplayName(n.category.value)," ")}}function Rt(a,c){if(a&1){let n=k();i(0,"div",135),w("click",function(t){let r=C(n).$implicit,l=m(2).index;return m(4).onProgramSelected(l,r),y(t.stopPropagation())}),i(1,"div",136),f(2,Nt,1,0,"div",137)(3,At,1,0,"div",138),i(4,"div",139)(5,"h3",140),f(6,Bt,2,0,"span",141),s(7),f(8,Ht,2,0,"span",142),o(),i(9,"p",143)(10,"span"),s(11),o(),s(12," - "),i(13,"span"),s(14),o()()(),f(15,Gt,3,3,"div",144),o()()}if(a&2){let n=c.$implicit,e=m().index,t=m(5);j(t.getProgramCutClasses(n)),ae("grid-column-start",t.getProgramGridColumn(n))("grid-column-end",t.getProgramGridColumnEnd(n))("grid-row",e+1)("z-index",15+e),J("title",t.getProgramTitle(n)),d(2),p("ngIf",t.isProgramCutAtStart(n)),d(),p("ngIf",t.isProgramCutAtEnd(n)),d(3),p("ngIf",t.isProgramCutAtStart(n)),d(),z(" ",t.getProgramTitle(n)," "),d(),p("ngIf",t.isProgramCutAtEnd(n)),d(2),V("text-yellow-300",t.isProgramCutAtStart(n)),d(),L(t.getProgramVisibleStartTime(n)),d(2),V("text-yellow-300",t.isProgramCutAtEnd(n)),d(),L(t.getProgramVisibleEndTime(n)),d(),p("ngIf",n==null||n.category==null?null:n.category.value)}}function jt(a,c){if(a&1&&(Y(0),f(1,Rt,16,23,"div",134),Z()),a&2){let n=c.$implicit,e=m(5);d(),p("ngForOf",n)("ngForTrackBy",e.trackByProgramId)}}function Ut(a,c){if(a&1&&(i(0,"div",151)(1,"div",152),u(2,"app-banner",153),o()()),a&2){let n=m(5);p("@expandCollapse","expanded"),d(2),p("data",n.getSelectedProgramBannerData())}}function $t(a,c){if(a&1){let n=k();i(0,"div",123)(1,"div",124)(2,"div",125),w("click",function(){let t=C(n).index,r=m(4);return y(r.onChannelToggle(t))}),i(3,"div",126),f(4,Ft,1,4,"img",127),i(5,"div",128),s(6),o()()(),i(7,"div",129)(8,"div",130),f(9,jt,2,2,"ng-container",131),o()()(),f(10,Ut,3,2,"div",132),o()}if(a&2){let n=c.$implicit,e=c.index,t=m(4);ae("height",t.getChannelHeight(n,e),"px"),d(4),p("ngIf",t.getChannelLogoUrl(n)),d(),V("hidden",t.getChannelLogoUrl(n)),d(),z(" ",n.channel.name," "),d(2),ae("display","grid")("grid-template-columns",t.gridTemplateColumns)("grid-template-rows","repeat("+t.getLayerCount(n)+", 75px)"),d(),p("ngForOf",t.getProgramLayers(n)),d(),p("ngIf",t.isChannelExpanded(e)&&t.selectedProgram())}}function Yt(a,c){if(a&1&&(i(0,"cdk-virtual-scroll-viewport",120,0)(2,"div",121),f(3,$t,11,14,"div",122),o()()),a&2){let n=m(3);p("itemSize",n.getItemSize()),d(3),p("cdkVirtualForOf",n.filteredChannels())("cdkVirtualForTrackBy",n.trackByChannelId)}}function Zt(a,c){if(a&1){let n=k();i(0,"button",164),w("click",function(){C(n);let t=m(4);return y(t.scrollToNow())}),x(),i(1,"svg",157),u(2,"path",165),o(),M(),i(3,"span",159),s(4,"Ahora"),o()()}}function Wt(a,c){if(a&1){let n=k();i(0,"div",154)(1,"div",155)(2,"button",156),x(),i(3,"svg",157),u(4,"path",158),o(),M(),i(5,"span",159),s(6,"Filtrar"),o()(),f(7,Zt,5,0,"button",160),i(8,"button",161),w("click",function(){C(n);let t=m(3);return y(t.previousTimeSlot())}),x(),i(9,"svg",157),u(10,"path",162),o(),M(),i(11,"span",159),s(12,"Anterior"),o()(),i(13,"button",161),w("click",function(){C(n);let t=m(3);return y(t.nextTimeSlot())}),x(),i(14,"svg",157),u(15,"path",163),o(),M(),i(16,"span",159),s(17,"Siguiente"),o()()()()}if(a&2){let n=m(3);d(7),p("ngIf",n.activeDay()===0),d(),p("disabled",n.activeTimeSlot()===0),d(5),p("disabled",n.activeTimeSlot()===7)}}function qt(a,c){if(a&1){let n=k();i(0,"app-program-detail-modal",166),w("close",function(){C(n);let t=m(3);return y(t.closeMobileProgram())}),o()}if(a&2){let n=m(3);p("program",n.selectedProgram())("channelName",n.modalChannelInfo().channelName)("channelLogo",n.modalChannelInfo().channelLogo)}}function Qt(a,c){if(a&1){let n=k();Y(0),i(1,"section",67)(2,"div",68)(3,"div",69)(4,"div",70)(5,"button",71),w("click",function(t){return C(n),m(2).toggleDayDropdown(),t.stopPropagation(),y(t.preventDefault())}),i(6,"div",72),x(),i(7,"svg",73),u(8,"path",21),o(),M(),i(9,"span"),s(10),o()(),x(),i(11,"svg",74),u(12,"path",24),o()(),f(13,yt,3,2,"div",75),o(),f(14,Tt,11,5,"div",76),M(),i(15,"div",70)(16,"button",77),w("click",function(){C(n);let t=m(2);return y(t.toggleTimeSlotDropdown())}),i(17,"div",72),x(),i(18,"svg",73),u(19,"path",27),o(),M(),i(20,"span"),s(21),o()(),x(),i(22,"svg",74),u(23,"path",24),o()(),f(24,Dt,3,2,"div",75),o()()(),M(),i(25,"div",78),f(26,It,5,9,"div",79),i(27,"div",80)(28,"div",81)(29,"div",82)(30,"span",83),s(31,"Canales"),o()(),i(32,"div",84)(33,"div",85),f(34,Lt,3,1,"div",86),o()()()(),i(35,"div",87),f(36,Vt,7,1,"div",88)(37,zt,5,0,"div",89)(38,Yt,4,3,"cdk-virtual-scroll-viewport",90),o()(),f(39,Wt,18,3,"div",91),o(),f(40,qt,1,3,"app-program-detail-modal",92),Z()}if(a&2){let n=m(2);d(10),L(n.getCurrentSelectedDay()),d(),V("rotate-180",n.isDayDropdownOpen()),d(2),p("ngIf",n.isDayDropdownOpen()),d(),p("ngIf",n.showCategoryFilter()),d(7),L(n.getCurrentSelectedTimeSlot()),d(),V("rotate-180",n.isTimeSlotDropdownOpen()),d(2),p("ngIf",n.isTimeSlotDropdownOpen()),d(2),p("ngIf",n.showTimeIndicator()),d(8),p("ngForOf",n.currentHours())("ngForTrackBy",n.trackByHour),d(2),p("ngIf",n.uiState().hasError),d(),p("ngIf",n.uiState().showEmpty),d(),p("ngIf",n.uiState().showContent),d(),p("ngIf",n.uiState().showContent),d(),p("ngIf",n.selectedProgram()&&n.modalChannelInfo())}}function Xt(a,c){if(a&1&&(Y(0),f(1,xt,26,13,"ng-container",1)(2,Qt,41,17,"ng-container",1),Z()),a&2){let n=m();d(),p("ngIf",n.isMobile()),d(),p("ngIf",!n.isMobile())}}var W={PIXELS_PER_HOUR:240,LOGO_COLUMN_WIDTH:160,BASE_CHANNEL_HEIGHT:75,LAYER_HEIGHT:75,EXPANDED_BANNER_HEIGHT:320,MINUTES_PER_SLOT:30,MINUTES_PER_COLUMN:5,MAX_GRID_COLUMNS:7,NIGHT_SLOT_END_MINUTES:30,MAX_LAYERS:5,MOBILE_ITEM_SIZE:60,TABLET_ITEM_SIZE:70},Ye=(()=>{let c=class c{get gridTemplateColumns(){let e=W.MINUTES_PER_SLOT/W.MINUTES_PER_COLUMN;return`repeat(${W.MAX_GRID_COLUMNS*e}, 1fr)`}constructor(){this.DEBUG=!1,this.destroyRef=I(Q),this.facade=I(Ge),this.transform=I(je),this.cdr=I(Te),this.http=I(Ie),this.platformId=I(me),this.deviceDetector=I(he),this.injector=I(ye),this.isBrowser=ge(this.platformId),this.deviceInfo=E(()=>this.deviceDetector.deviceInfo()),this.isMobile=E(()=>this.deviceDetector.isMobile()),this.isTablet=E(()=>this.deviceDetector.isTablet()),this.isDesktop=E(()=>this.deviceDetector.isDesktop()),this.dayChanged=new oe,this.categorySelected=new oe,this.canalesConProgramas=T([]),this.isLoading=T(!0),this.error=T(null),this.activeDay=T(0),this.activeTimeSlot=T(0),this.currentTimeSlot=T(""),this.expandedChannels=T(new Set),this.selectedChannel=T(-1),this.selectedProgram=T(null),this.isDayDropdownOpen=T(!1),this.isCategoryDropdownOpen=T(!1),this.isTimeSlotDropdownOpen=T(!1),this.selectedCategories=T(new Set),this.showCategoryFilter=T(!0),this.showTimeIndicator=T(!0),this.hasChannels=E(()=>this.canalesConProgramas().length>0),this.currentTimeSlots=E(()=>this.facade.getTimeSlots()),this.currentHours=E(()=>this.facade.generateHoursForSlot(this.activeTimeSlot())),this.daysInfo=E(()=>this.facade.generateDaysInfo()),this.filteredChannels=E(()=>{let e=this.transform.getFilteredChannels(this.canalesConProgramas(),this.selectedCategories());return this.DEBUG&&!this.isMobile()&&console.log(`\u{1F50D} Canales filtrados: ${e.length} de ${this.canalesConProgramas().length}`),e}),this.modalChannelInfo=E(()=>{let e=this.selectedProgram();if(!e)return null;let t=this.filteredChannels().find(r=>r.channels&&r.channels.some(l=>l.id===e.id));return t?{channelName:t.channel?.name||"Canal Desconocido",channelLogo:this.getChannelLogoUrl(t)||""}:(console.warn("\u26A0\uFE0F No se encontr\xF3 canal para el programa:",e.id),null)}),this.availableCategories=E(()=>this.transform.getAvailableCategories(this.canalesConProgramas())),this.uiState=E(()=>({hasData:this.hasChannels(),isLoading:this.isLoading(),hasError:this.error()!==null,showContent:this.hasChannels()&&!this.isLoading()&&!this.error(),showEmpty:!this.hasChannels()&&!this.isLoading()&&!this.error()})),this.timeIndicatorPositionPx=E(()=>{if(!this.showTimeIndicator()||!this.isBrowser)return 0;let e=this.currentHours();if(!e.length)return 0;let t=new Date,r=t.getHours()*60+t.getMinutes(),l=this.parseTimeToMinutes(this.currentTimeSlot()),h=this.getSlotEndMinutes(e)-l,b=r-l;return b<0&&(b+=24*60),b<0&&(b=0),b>h&&(b=h),W.LOGO_COLUMN_WIDTH+b/60*W.PIXELS_PER_HOUR}),this.isMobileFallback=T(!1),this.componentId=`pl-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,this.channelIndexCache=new Map,this.lastLoadTimestamp=0,this.shouldShowMobile=E(()=>this.isMobile()||this.isMobileFallback()),this.trackByDayIndex=e=>e,this.trackByTimeSlot=(e,t)=>t[0],this.trackByHour=(e,t)=>t,this.trackByChannelId=(e,t)=>t.id||t.channel?.id||`channel-${e}`,this.trackByProgramId=(e,t)=>t.id||`${t.start}-${t.stop}-${e}`,this.trackByCategory=(e,t)=>t,console.log("[ProgramList] Constructor - isBrowser:",this.isBrowser),typeof window<"u"&&(window.programListDebug={state:()=>this.debugLoadingState(),forceLoad:()=>this.facade.refreshData(),channels:()=>this.canalesConProgramas(),isLoading:()=>this.isLoading(),uiState:()=>this.uiState()},console.log("\u{1F6E0}\uFE0F Debug disponible: programListDebug.state()"))}ngOnInit(){console.log("[ProgramList] ngOnInit"),console.log("[ProgramList] isLoading inicial:",this.isLoading()),this.initializeComponent(),this.initializeDataStreams(),this.setupLoadingTimeout(),setTimeout(()=>{console.log("[ProgramList] Estado despu\xE9s de init:",{isLoading:this.isLoading(),hasChannels:this.hasChannels(),uiState:this.uiState()})},1e3)}ngAfterViewInit(){console.log("[ProgramList] ngAfterViewInit"),console.log("[ProgramList] Estado actual:",{isLoading:this.isLoading(),hasChannels:this.hasChannels(),canales:this.canalesConProgramas().length}),this.cdr.detectChanges(),this.deviceDetector.isInitialized()||(console.warn("\u26A0\uFE0F DeviceDetector no inicializado en AfterViewInit, reintentando..."),setTimeout(()=>this.initializeDeviceDetection(),100)),this.hasChannels()&&(console.log("\u2705 Hay canales, inicializando features"),this.updateTimeIndicator(),this.virtualScrollViewport&&setTimeout(()=>{try{this.virtualScrollViewport.checkViewportSize()}catch(e){console.warn("Error inicializando viewport:",e)}},100)),setTimeout(()=>{this.verifyLoadingState()},2e3)}ngOnDestroy(){this.cleanup()}initializeDeviceDetection(){let e=typeof window<"u",t=typeof document<"u";console.log("[ProgramList - initializeDeviceDetection] Verificando entorno:",{hasWindow:e,hasDocument:t,hasNavigator:typeof navigator<"u",platformId:this.platformId}),e&&t?(console.log("\u2705 Entorno de navegador detectado, inicializando..."),this.initializeBrowserFeatures(),this.cdr.detectChanges(),console.log("\u2705 Inicializaci\xF3n completa:",{isMobile:this.isMobile(),deviceInfo:this.deviceInfo()})):console.log("\u26A0\uFE0F No se detect\xF3 entorno de navegador")}initializeComponent(){let e=this.facade.getCurrentTimeSlot();this.activeTimeSlot.set(e);let t=this.facade.getTimeSlots();t[e]&&this.currentTimeSlot.set(t[e][0]),this.showTimeIndicator.set(this.activeDay()===0&&this.activeTimeSlot()===this.facade.getCurrentTimeSlot())}initializeDataStreams(){this.facade.getProgramListData().pipe(Ce(e=>e!=null),de(100),F(this.destroyRef)).subscribe({next:e=>{console.log("\u2705 Datos recibidos del facade:",e?.length,"activeDay=",this.activeDay()),this.handleDataUpdate(e)},error:e=>{console.error("\u274C Error en stream de datos:",e),this.handleDataError(e)},complete:()=>{console.log("\u{1F3C1} Stream de datos completado"),!this.hasChannels()&&this.isLoading()&&(console.warn("\u26A0\uFE0F Stream completado sin datos, deteniendo loading"),this.isLoading.set(!1),this.cdr.markForCheck())}}),this.facade.getLoadingState().pipe(F(this.destroyRef)).subscribe(e=>{if(console.log("\u{1F504} Loading state del facade:",e),this.isLoading.set(e),this.cdr.markForCheck(),!e&&this.hasChannels()&&console.log("\u2705 Facade: No loading + Hay datos = Estado correcto"),!e&&!this.hasChannels()&&!this.error()){let r=Date.now()-this.lastLoadTimestamp;r<2e3?console.warn("\u26A0\uFE0F Facade: No loading + No datos + No error, pero la \xFAltima carga fue reciente ("+r+"ms), ignorando auto-refresh"):(console.warn("\u26A0\uFE0F Facade: No loading + No datos + No error = Posible problema, intentando forzar recarga"),setTimeout(()=>{!this.hasChannels()&&!this.error()&&(console.log("\u{1F504} Intentando forzar recarga de datos..."),this.facade.refreshData())},1e3))}}),this.facade.getErrorState().pipe(F(this.destroyRef)).subscribe(e=>{console.log("\u26A0\uFE0F Error state del facade:",e),this.error.set(e),e&&this.isLoading()&&(console.log("\u274C Error detectado, forzando isLoading = false"),this.isLoading.set(!1)),this.cdr.markForCheck()})}initializeBrowserFeatures(){this.isBrowser&&(this.facade.updateScreenDimensions(),this.setupTimeIndicatorUpdates(),this.loadChannelLogos())}debugLoadingState(){console.group("\u{1F50D} DEBUG LOADING STATE"),console.log("Component State:"),console.log("  isLoading:",this.isLoading()),console.log("  hasChannels:",this.hasChannels()),console.log("  canalesConProgramas:",this.canalesConProgramas().length),console.log("  error:",this.error()),console.log("  uiState:",this.uiState()),console.log(`
Facade State:`),this.facade.getProgramListData().subscribe({next:e=>{console.log("  Facade tiene datos:",e?.length||0)}}),this.facade.getLoadingState().subscribe({next:e=>{console.log("  Facade loading state:",e)}}),this.facade.getErrorState().subscribe({next:e=>{console.log("  Facade error state:",e)}}),console.groupEnd()}handleDataUpdate(e){if(console.log("\u{1F4CA} handleDataUpdate recibi\xF3 datos:",e?.length),this.isLoading.set(!1),this.error.set(null),this.channelIndexCache.clear(),e&&Array.isArray(e)&&e.length>0){let t=e.filter(r=>r&&r.channel&&Array.isArray(r.channels));console.log("\u2705 Canales v\xE1lidos:",t.length),this.canalesConProgramas.set(t),this.cdr.markForCheck(),this.isBrowser&&setTimeout(()=>{if(this.virtualScrollViewport)try{this.virtualScrollViewport.checkViewportSize(),console.log("\u2705 Viewport actualizado")}catch(r){console.warn("Error actualizando viewport:",r)}},100)}else console.log("\u26A0\uFE0F No hay datos v\xE1lidos"),this.canalesConProgramas.set([]),setTimeout(()=>{!this.hasChannels()&&!this.error()&&(console.warn("\u26A0\uFE0F No hay datos despu\xE9s de la carga, intentando recargar..."),this.facade.refreshData())},2e3);this.cdr.markForCheck()}handleDataError(e){console.error("\u274C handleDataError:",e),this.isLoading.set(!1),this.error.set(e?.message||"Error cargando datos"),this.canalesConProgramas.set([]),this.cdr.markForCheck()}setupLoadingTimeout(){this.isBrowser&&(setTimeout(()=>{this.isLoading()&&(console.warn("\u26A0\uFE0F Loading despu\xE9s de 3s, verificando estado..."),this.debugLoadingState(),this.facade.getProgramListData().subscribe(e=>{e&&e.length>0&&(console.log("\u{1F504} Facade tiene datos, forzando actualizaci\xF3n"),this.handleDataUpdate(e))}))},3e3),setTimeout(()=>{this.isLoading()&&(console.error("\u26A0\uFE0F TIMEOUT CR\xCDTICO - 10 segundos de carga"),console.error("Estado actual:",{hasChannels:this.hasChannels(),channelsLength:this.canalesConProgramas().length,error:this.error()}),this.isLoading.set(!1),this.hasChannels()||this.error.set("Tiempo de espera agotado. Por favor, recarga la p\xE1gina."),this.cdr.markForCheck())},1e4))}verifyLoadingState(){console.group("\u{1F50D} VERIFY LOADING STATE");let e={isLoading:this.isLoading(),hasChannels:this.hasChannels(),channelsCount:this.canalesConProgramas().length,hasError:this.error()!==null,error:this.error()};console.log("Estado actual:",e),e.isLoading&&e.hasChannels&&(console.warn("\u26A0\uFE0F INCONSISTENCIA: Loading true pero hay canales"),console.log("\u{1F527} Corrigiendo: estableciendo loading = false"),this.isLoading.set(!1),this.cdr.markForCheck()),e.isLoading&&e.hasError&&(console.warn("\u26A0\uFE0F INCONSISTENCIA: Loading true pero hay error"),console.log("\u{1F527} Corrigiendo: estableciendo loading = false"),this.isLoading.set(!1),this.cdr.markForCheck()),e.isLoading&&!e.hasChannels&&!e.hasError&&(console.warn("\u26A0\uFE0F A\xFAn cargando sin datos ni errores"),console.log("\u{1F504} Verificando estado del facade..."),this.facade.getProgramListData().subscribe({next:t=>{t&&t.length>0?(console.log("\u2705 Facade tiene datos, actualizando..."),this.handleDataUpdate(t)):console.log("\u26A0\uFE0F Facade tampoco tiene datos")},error:t=>{console.error("\u274C Error verificando facade:",t),this.handleDataError(t)}})),console.groupEnd()}getMobileItemSize(){return this.deviceDetector.getOptimalItemSize()}getMobileVisiblePrograms(e){let t=this.transform.getVisiblePrograms(e.channels,this.currentHours(),this.activeDay()),r=this.getChannelIndex(e);return this.isChannelExpanded(r)?t:t.slice(0,3)}getChannelIndex(e){let t=e.id||e.channel?.id||"";if(!this.channelIndexCache.has(t)){let r=this.filteredChannels().findIndex(l=>(l.id||l.channel?.id)===t);this.channelIndexCache.set(t,r)}return this.channelIndexCache.get(t)||0}getSlotEndMinutes(e){return this.transform.getSlotEndMinutes(e)}parseTimeToMinutes(e){return this.transform.parseTimeToMinutes(e)}getProgramLayers(e){let t=this.transform.getProgramLayers(e,this.activeDay(),this.currentHours());return this.DEBUG&&!this.isMobile()&&console.log(`Canal ${e.channel?.name}: ${t.length} capas, ${t.reduce((r,l)=>r+l.length,0)} programas`),t}getProgramGridColumn(e){let t=this.transform.getProgramGridColumn(e,this.currentHours());return this.DEBUG&&console.log(`Program "${this.getProgramTitle(e)}" - gridColumnStart: ${t}`),t}getProgramGridColumnEnd(e){let t=this.transform.getProgramGridColumnEnd(e,this.currentHours());return this.DEBUG&&console.log(`Program "${this.getProgramTitle(e)}" - gridColumnEnd: ${t}`),t}onDayChanged(e){if(console.log("[ProgramList] onDayChanged called with",e,"current activeDay=",this.activeDay()),this.activeDay()===e)return;let t=this.daysInfo()[e];if(t){if(this.activeDay.set(e),this.showTimeIndicator.set(e===0&&this.activeTimeSlot()===this.facade.getCurrentTimeSlot()),e===0){let r=this.facade.getCurrentTimeSlot();this.onTimeSlotChanged(r)}this.selectedProgram.set(null),this.expandedChannels.set(new Set),this.channelIndexCache.clear(),this.lastLoadTimestamp=Date.now(),this.isLoading.set(!0),this.error.set(null),this.facade.loadProgramsForDay(e).pipe(F(this.destroyRef)).subscribe({next:r=>{r.success||this.error.set(r.error||"Error al cargar datos"),this.isLoading.set(!1),this.cdr.detectChanges(),this.isBrowser&&setTimeout(()=>{try{this.virtualScrollViewport?.checkViewportSize(),this.virtualScrollViewport?.scrollToIndex(0)}catch(l){console.warn("Error reseteando scroll:",l)}},100)},error:r=>{this.error.set("Error al cambiar de d\xEDa"),this.isLoading.set(!1),this.cdr.detectChanges()}}),this.dayChanged.emit({dayIndex:e,dayInfo:t})}}onTimeSlotChanged(e){if(this.activeTimeSlot()===e||e<0||e>=8)return;let r=this.facade.getTimeSlots()[e];r&&(this.activeTimeSlot.set(e),this.currentTimeSlot.set(r[0]),this.showTimeIndicator.set(this.activeDay()===0&&e===this.facade.getCurrentTimeSlot()),this.showTimeIndicator()&&this.isBrowser&&this.updateTimeIndicator(),this.cdr.markForCheck())}onProgramSelected(e,t){if(console.log("[ProgramList] onProgramSelected called, channelIndex=",e,"programId=",t?.id),this.closeAllDropdowns(),this.selectedProgram()?.id===t.id&&this.isChannelExpanded(e)){this.selectedProgram.set(null),this.isMobile()||this.onChannelToggle(e);return}this.isChannelExpanded(e)||this.onChannelToggle(e),this.isMobile()||this.expandedChannels().forEach(l=>{l!==e&&this.onChannelToggle(l)}),this.selectedProgram.set(t),this.cdr.markForCheck()}onChannelToggle(e){let t=new Set(this.expandedChannels());t.has(e)?(t.delete(e),this.selectedChannel.set(-1),this.isMobile()||this.selectedProgram.set(null)):(this.isMobile()&&t.clear(),t.add(e),this.selectedChannel.set(e)),this.expandedChannels.set(t),this.cdr.markForCheck()}toggleDayDropdown(){this.isDayDropdownOpen.set(!this.isDayDropdownOpen()),this.isCategoryDropdownOpen.set(!1),this.isTimeSlotDropdownOpen.set(!1),this.cdr.markForCheck()}toggleCategoryDropdown(){this.isCategoryDropdownOpen.set(!this.isCategoryDropdownOpen()),this.isDayDropdownOpen.set(!1),this.isTimeSlotDropdownOpen.set(!1),this.cdr.markForCheck()}toggleTimeSlotDropdown(){this.isTimeSlotDropdownOpen.set(!this.isTimeSlotDropdownOpen()),this.isDayDropdownOpen.set(!1),this.isCategoryDropdownOpen.set(!1),this.cdr.markForCheck()}closeAllDropdowns(){this.isDayDropdownOpen.set(!1),this.isCategoryDropdownOpen.set(!1),this.isTimeSlotDropdownOpen.set(!1),this.cdr.markForCheck()}onCategorySelected(e){let t=new Set(this.selectedCategories());t.has(e)?t.delete(e):t.add(e),this.selectedCategories.set(t),this.categorySelected.emit(Array.from(t)),this.cdr.markForCheck()}clearCategoryFilter(){this.selectedCategories.set(new Set),this.categorySelected.emit([]),this.cdr.markForCheck()}getCurrentSelectedDay(){let e=this.daysInfo()[this.activeDay()];return e?`${e.diaSemana} ${e.diaNumero}`:"Seleccionar d\xEDa"}getCurrentSelectedTimeSlot(){let e=this.currentTimeSlots(),t=this.activeTimeSlot();if(e&&e[t]){let r=e[t];return`${r[0]} - ${r[r.length-1]}`}return"Seleccionar franja"}getCategoryButtonText(){let e=this.selectedCategories();if(e.size===0)return"Todas las categor\xEDas";if(e.size===1){let t=Array.from(e)[0];return this.getCategoryDisplayName(t)}return`${e.size} categor\xEDas`}selectDay(e,t){if(t)try{t.stopPropagation(),t.preventDefault()}catch{}console.log("[ProgramList] selectDay ->",e),this.onDayChanged(e),this.isDayDropdownOpen.set(!1),this.selectedProgram.set(null),this.expandedChannels.set(new Set)}selectCategory(e){e?this.onCategorySelected(e):(this.clearCategoryFilter(),this.isCategoryDropdownOpen.set(!1)),this.cdr.markForCheck()}selectTimeSlot(e){this.onTimeSlotChanged(e),this.isTimeSlotDropdownOpen.set(!1),this.selectedProgram.set(null),this.expandedChannels.set(new Set)}isChannelExpanded(e){return this.expandedChannels().has(e)}isCategorySelected(e){return this.selectedCategories().has(e)}isAllCategoriesSelected(){return this.selectedCategories().size===0}isProgramCutAtStart(e){let t=this.currentHours();if(!t.length)return!1;let r=this.parseTimeToMinutes(t[0]),l=this.transform.getSlotStartTimestamp(this.activeDay(),r);return this.transform.getProgramStartTimestamp(e)<l}isProgramCutAtEnd(e){let t=this.currentHours();if(!t.length)return!1;let r=this.parseTimeToMinutes(t[0]),l=this.getSlotEndMinutes(t),h=this.transform.getSlotStartTimestamp(this.activeDay(),r)+(l-r)*6e4;return this.transform.getProgramEndTimestamp(e)>h}formatDisplayTime(e){return this.facade.formatDisplayTime(e)}getCategoryBadgeClasses(e){return this.facade.getCategoryBadgeClasses(e)}getCategoryDisplayName(e){return this.transform.normalizeCategoryName(e)}getDayButtonClasses(e){return this.facade.getDayButtonClasses(e,this.activeDay())}getTimeSlotButtonClasses(e){return this.facade.getTimeSlotButtonClasses(e,this.currentTimeSlot())}getChannelLogoUrl(e){return e?.channel?.icon?e.channel.icon:e?.icon?e.icon:this.facade.getChannelLogoUrl(e)||""}onChannelLogoError(e){let t=e.target;t.style.display="none";let r=t.parentElement?.querySelector(".channel-name-fallback");r&&r.classList.remove("hidden")}getProgramTitle(e){return e?.title?typeof e.title=="string"?e.title:typeof e.title=="object"&&e.title.value?String(e.title.value):"Sin t\xEDtulo":"Sin t\xEDtulo"}getCurrentTime(){if(!this.isBrowser)return"00:00";let e=new Date,t=e.getHours().toString().padStart(2,"0"),r=e.getMinutes().toString().padStart(2,"0");return`${t}:${r}`}getChannelHeight(e,t){let l=this.getProgramLayers(e).length||1,g=W.LAYER_HEIGHT*l;return this.isChannelExpanded(t)&&this.selectedProgram()?g+W.EXPANDED_BANNER_HEIGHT:g}getLayerCount(e){let t=this.getProgramLayers(e);return Math.max(1,t.length)}getItemSize(){return this.deviceDetector.getOptimalItemSize()}getProgramCutClasses(e){let t=[];return this.isProgramCutAtStart(e)&&t.push("program-cut-start"),this.isProgramCutAtEnd(e)&&t.push("program-cut-end"),t.join(" ")}getProgramVisibleStartTime(e){return this.currentHours().length?this.formatProgramTime(e.start):this.formatProgramTime(e.start)}getProgramVisibleEndTime(e){let t=this.currentHours();if(!t.length)return this.formatProgramTime(e.stop);let r=this.transform.isNightTimeSlot(t),l=this.parseTimeToMinutes(t[0]),g=this.getSlotEndMinutes(t),h=this.transform.getProgramEndMinutes(e),b=this.transform.programCrossesMidnight(e);if(r&&b&&h>g)return this.transform.formatMinutesToHHMM(g);let S=this.transform.getProgramEndTimestamp(e),_=this.transform.getSlotStartTimestamp(this.activeDay(),l)+(g-l)*6e4;return S>_?this.transform.formatMinutesToHHMM(g):this.formatProgramTime(e.stop)}formatProgramTime(e){if(!e)return"";try{let t=new Date(e),r=t.getUTCHours().toString().padStart(2,"0"),l=t.getUTCMinutes().toString().padStart(2,"0");return`${r}:${l}`}catch{return""}}getTimeIndicatorZIndex(){return this.isDayDropdownOpen()||this.isCategoryDropdownOpen()||this.isTimeSlotDropdownOpen()?30:1e4}getSelectedProgramBannerData(){return this.selectedProgram()}getDayDropdownItemClasses(e){return e===this.activeDay()?"bg-red-600/30 text-red-200 border-l-4 border-red-400 font-semibold":""}getCategoryDropdownItemClasses(e){return(e?this.selectedCategories().has(e):this.selectedCategories().size===0)?"bg-red-600/30 text-red-200 border-l-4 border-red-400 font-semibold":""}getTimeSlotDropdownItemClasses(e){return e===this.currentTimeSlot()?"bg-red-600/30 text-red-200 border-l-4 border-red-400 font-semibold":""}closeMobileProgram(){this.selectedProgram.set(null);let e=this.expandedChannels();e.clear(),this.expandedChannels.set(e),this.cdr.markForCheck()}previousTimeSlot(){let e=this.activeTimeSlot();e>0&&this.onTimeSlotChanged(e-1)}nextTimeSlot(){let e=this.activeTimeSlot();e<7&&this.onTimeSlotChanged(e+1)}scrollToNow(){if(this.activeDay()!==0)return;let e=this.facade.getCurrentTimeSlot();this.onTimeSlotChanged(e)}onScroll(e){this.showTimeIndicator()&&this.activeDay()===0&&this.updateTimeIndicator()}onDocumentClick(e){if(!this.isBrowser)return;let t=e.target;t.closest(".program-detail-modal-container")||t.closest(".desktop-modal")||t.closest("app-program-detail-modal")||t.closest(".dropdown-container")||t.closest(".mobile-control")||(!t.closest(".mobile-dropdown")&&!t.closest(".mobile-btn")&&this.closeAllDropdowns(),!this.isMobile()&&!t.closest(".channel-programs-container")&&!t.closest(".expanded-banner")&&!t.closest("app-banner")&&this.selectedProgram()&&(this.expandedChannels().forEach(l=>{this.onChannelToggle(l)}),this.selectedProgram.set(null),this.cdr.markForCheck()))}updateTimeIndicator(){!this.showTimeIndicator()||!this.isBrowser||this.cdr.markForCheck()}setupTimeIndicatorUpdates(){this.isBrowser&&(this.updateInterval=setInterval(()=>{this.showTimeIndicator()&&this.activeDay()===0&&this.updateTimeIndicator()},6e4))}loadChannelLogos(){this.isBrowser&&this.http.get("/assets/canales.json").pipe(F(this.destroyRef)).subscribe({next:e=>this.facade.updateChannelData(e||{}),error:e=>console.error("Error loading channel data:",e)})}cleanup(){this.updateInterval&&clearInterval(this.updateInterval),this.channelIndexCache.clear()}};c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=X({type:c,selectors:[["app-program-list"]],viewQuery:function(t,r){if(t&1&&Pe(Je,5),t&2){let l;Me(l=ke())&&(r.virtualScrollViewport=l.first)}},hostBindings:function(t,r){t&1&&w("scroll",function(g){return r.onScroll(g)})("click",function(g){return r.onDocumentClick(g)},Se)},outputs:{dayChanged:"dayChanged",categorySelected:"categorySelected"},decls:2,vars:2,consts:[["virtualScrollViewport",""],[4,"ngIf"],[1,"ssr-placeholder"],[1,"min-h-screen","bg-gradient-to-br","from-gray-900","via-gray-800","to-black","flex","items-center","justify-center"],[1,"text-center","px-4"],[1,"mb-6"],["fill","currentColor","viewBox","0 0 20 20",1,"w-16","h-16","mx-auto","text-red-500","animate-pulse"],["d","M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"],[1,"text-white","text-2xl","lg:text-3xl","font-bold","mb-3"],[1,"text-gray-400","text-base","lg:text-lg","mb-6"],[1,"flex","items-center","justify-center","space-x-2"],[1,"w-2","h-2","bg-red-500","rounded-full","animate-bounce",2,"animation-delay","0s"],[1,"w-2","h-2","bg-red-500","rounded-full","animate-bounce",2,"animation-delay","0.2s"],[1,"w-2","h-2","bg-red-500","rounded-full","animate-bounce",2,"animation-delay","0.4s"],[1,"mobile-tv-guide"],["class","mobile-error",4,"ngIf"],["class","mobile-content",4,"ngIf"],[1,"mobile-bottom-header"],[1,"mobile-control"],[1,"mobile-btn","mobile-btn-primary",3,"click"],["fill","currentColor","viewBox","0 0 20 20",1,"mobile-icon"],["fill-rule","evenodd","d","M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule","evenodd"],[1,"mobile-text-truncate"],["fill","currentColor","viewBox","0 0 20 20",1,"mobile-icon-sm"],["fill-rule","evenodd","d","M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule","evenodd"],["class","mobile-dropdown mobile-dropdown-up",3,"click",4,"ngIf"],[1,"mobile-btn","mobile-btn-secondary",3,"click"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule","evenodd"],["class","mobile-btn-icon",3,"click",4,"ngIf"],["class","mobile-dropdown mobile-dropdown-up mobile-dropdown-right",3,"click",4,"ngIf"],[3,"program","channelName","channelLogo","close",4,"ngIf"],[1,"mobile-error"],[1,"mobile-error-title"],[1,"mobile-error-text"],[1,"mobile-content"],[1,"mobile-scroll",3,"itemSize"],["class","mobile-channel",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"mobile-channel"],[1,"mobile-channel-header",3,"click"],["class","mobile-channel-logo","loading","lazy",3,"src","alt","error",4,"ngIf"],[1,"mobile-channel-name","channel-name-fallback"],["fill","currentColor","viewBox","0 0 20 20",1,"mobile-icon-sm","mobile-chevron"],[1,"mobile-programs-compact"],["class","mobile-program-card",3,"mobile-program-active","click",4,"ngFor","ngForOf","ngForTrackBy"],["loading","lazy",1,"mobile-channel-logo",3,"error","src","alt"],[1,"mobile-program-card",3,"click"],[1,"mobile-program-header"],[1,"mobile-program-title"],[1,"mobile-program-time"],["class","mobile-category-badge",3,"class",4,"ngIf"],[1,"mobile-category-badge"],[1,"mobile-dropdown","mobile-dropdown-up",3,"click"],["class","mobile-dropdown-item",3,"mobile-dropdown-active","click",4,"ngFor","ngForOf"],[1,"mobile-dropdown-item",3,"click"],[1,"mobile-dropdown-content"],[1,"mobile-dropdown-title"],[1,"mobile-dropdown-subtitle"],["class","mobile-icon-sm mobile-check","fill","currentColor","viewBox","0 0 20 20",4,"ngIf"],["fill","currentColor","viewBox","0 0 20 20",1,"mobile-icon-sm","mobile-check"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],[1,"mobile-btn-icon",3,"click"],["fill-rule","evenodd","d","M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z","clip-rule","evenodd"],["class","mobile-badge",4,"ngIf"],[1,"mobile-badge"],[1,"mobile-dropdown","mobile-dropdown-up","mobile-dropdown-right",3,"click"],["class","mobile-dropdown-item",3,"mobile-dropdown-active","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"close","program","channelName","channelLogo"],[1,"pt-6","pb-4","px-4","lg:px-6","w-full","min-h-screen"],[1,"mb-8","space-y-4","w-full"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-4","max-w-7xl","mx-auto"],[1,"relative","dropdown-container"],["type","button",1,"w-full","flex","items-center","justify-between","px-4","py-3","bg-gradient-to-r","from-gray-800","to-gray-700","border","border-gray-600","rounded-xl","text-white","font-semibold","hover:from-gray-700","hover:to-gray-600","transition-all","duration-300","focus:outline-none","focus:ring-2","focus:ring-red-500","shadow-lg",3,"click"],[1,"flex","items-center","space-x-3"],["fill","currentColor","viewBox","0 0 20 20",1,"h-5","w-5","text-red-400"],["fill","currentColor","viewBox","0 0 20 20",1,"h-5","w-5","transition-transform","duration-200"],["class","absolute top-full left-0 right-0 mt-2 bg-gray-900 border border-gray-600 rounded-xl shadow-2xl max-h-64 overflow-y-auto backdrop-blur-sm","style","z-index: 50",4,"ngIf"],["class","relative dropdown-container",4,"ngIf"],[1,"w-full","flex","items-center","justify-between","px-4","py-3","bg-gradient-to-r","from-gray-800","to-gray-700","border","border-gray-600","rounded-xl","text-white","font-semibold","hover:from-gray-700","hover:to-gray-600","transition-all","duration-300","focus:outline-none","focus:ring-2","focus:ring-red-500","shadow-lg",3,"click"],[1,"bg-gray-900","rounded-xl","shadow-2xl","overflow-hidden","relative","w-full"],["class","absolute w-0.5 bg-gradient-to-b from-red-400 via-red-500 to-red-600 shadow-2xl shadow-red-500/50 time-indicator pointer-events-none",3,"left","height","top","z-index",4,"ngIf"],[1,"sticky","top-0","bg-gradient-to-r","from-gray-800","via-gray-700","to-gray-800","border-b-2","border-red-500/30","shadow-lg","time-header",2,"z-index","40"],[1,"flex"],[1,"w-32","lg:w-40","flex-shrink-0","bg-gray-800","border-r","border-gray-600","p-3","flex","items-center","justify-center"],[1,"text-white","font-semibold","text-sm","tracking-wide"],[1,"flex-1","overflow-hidden"],[1,"grid","grid-cols-7","h-full","w-full",2,"display","grid !important"],["class","px-2 py-3 text-center border-r border-gray-600/50 last:border-r-0 hover:bg-gray-600/30 transition-colors duration-200 flex items-center justify-center",4,"ngFor","ngForOf","ngForTrackBy"],[1,"relative","overflow-hidden",2,"height","700px"],["class","p-8 text-center text-red-400",4,"ngIf"],["class","p-8 text-center text-gray-400",4,"ngIf"],["class","h-full",3,"itemSize",4,"ngIf"],["class","fixed bottom-0 left-0 right-0 bg-gray-900/95 backdrop-blur-sm border-t border-gray-700 p-3 z-40 lg:hidden",4,"ngIf"],["class","desktop-modal",3,"program","channelName","channelLogo","close",4,"ngIf"],[1,"absolute","top-full","left-0","right-0","mt-2","bg-gray-900","border","border-gray-600","rounded-xl","shadow-2xl","max-h-64","overflow-y-auto","backdrop-blur-sm",2,"z-index","50"],[1,"py-2"],["type","button","class","w-full text-left px-4 py-3 hover:bg-gray-700/80 transition-colors duration-200 flex items-center space-x-3 text-white",3,"class","click",4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"w-full","text-left","px-4","py-3","hover:bg-gray-700/80","transition-colors","duration-200","flex","items-center","space-x-3","text-white",3,"click"],[1,"flex-1"],[1,"font-medium","text-base","text-gray-100"],[1,"text-sm","opacity-75","text-gray-300"],["class","h-5 w-5 text-red-400 flex-shrink-0","fill","currentColor","viewBox","0 0 20 20",4,"ngIf"],["fill","currentColor","viewBox","0 0 20 20",1,"h-5","w-5","text-red-400","flex-shrink-0"],["class","inline-flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-red-500 rounded-full",4,"ngIf"],[1,"inline-flex","items-center","justify-center","w-5","h-5","text-xs","font-bold","text-white","bg-red-500","rounded-full"],[1,"w-full","text-left","px-4","py-3","hover:bg-gray-700/80","transition-colors","duration-200","flex","items-center","justify-between","text-white",3,"click"],[1,"text-gray-100"],["class","h-5 w-5 text-red-400","fill","currentColor","viewBox","0 0 20 20",4,"ngIf"],["class","w-full text-left px-4 py-3 hover:bg-gray-700/80 transition-colors duration-200 flex items-center justify-between text-white",3,"class","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"absolute","w-0.5","bg-gradient-to-b","from-red-400","via-red-500","to-red-600","shadow-2xl","shadow-red-500/50","time-indicator","pointer-events-none"],[1,"absolute","-top-2","w-4","h-4","bg-red-500","rounded-full","-translate-x-1.5","animate-pulse","shadow-xl","shadow-red-500/60","border-2","border-white","pointer-events-none"],[1,"absolute","inset-1","w-2","h-2","bg-white","rounded-full"],[1,"absolute","-top-10","-translate-x-1/2","left-1/2","bg-gradient-to-r","from-red-600","to-red-500","text-white","text-xs","font-semibold","px-3","py-1.5","rounded-lg","shadow-xl","shadow-red-500/50","whitespace-nowrap","border","border-red-400/50","backdrop-blur-sm","pointer-events-none"],[1,"px-2","py-3","text-center","border-r","border-gray-600/50","last:border-r-0","hover:bg-gray-600/30","transition-colors","duration-200","flex","items-center","justify-center"],[1,"text-white","text-xs","lg:text-sm","font-medium","tracking-wide","whitespace-nowrap"],[1,"p-8","text-center","text-red-400"],[1,"text-lg","font-semibold","mb-2"],[1,"text-gray-400","mb-4"],[1,"px-4","py-2","bg-red-600","hover:bg-red-700","text-white","rounded-lg","transition-colors",3,"click"],[1,"p-8","text-center","text-gray-400"],[1,"text-gray-400"],[1,"h-full",3,"itemSize"],[1,"overflow-hidden"],["class","channel-row border-b border-gray-700 last:border-b-0 hover:bg-gray-800/30 transition-colors duration-200",3,"height",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"channel-row","border-b","border-gray-700","last:border-b-0","hover:bg-gray-800/30","transition-colors","duration-200"],[1,"flex","channel-programs-container","h-full"],[1,"w-32","lg:w-40","flex-shrink-0","bg-gradient-to-br","from-gray-800","to-gray-900","border-r","border-gray-600","p-3","flex","items-center","justify-center","cursor-pointer",3,"click"],[1,"relative","w-full","h-16","flex","items-center","justify-center"],["class","max-w-full max-h-full object-contain rounded-lg bg-white/5 p-1 shadow-lg transition-transform duration-300","loading","lazy",3,"src","alt","scale-105","error",4,"ngIf"],[1,"channel-name-fallback","text-white","text-center","font-medium","text-sm","leading-tight","break-words","px-2"],[1,"flex-1","programs-container","relative"],[1,"programs-grid","w-full","h-full","relative"],[4,"ngFor","ngForOf"],["class","bg-gray-800/95 backdrop-blur-sm border-t border-gray-700 shadow-2xl relative","style","z-index: 60",4,"ngIf"],["loading","lazy",1,"max-w-full","max-h-full","object-contain","rounded-lg","bg-white/5","p-1","shadow-lg","transition-transform","duration-300",3,"error","src","alt"],["class","border-r border-gray-600/30 cursor-pointer hover:bg-red-600/20 transition-all duration-200 group bg-gray-800/60 overflow-hidden relative",3,"gridColumnStart","gridColumnEnd","gridRow","zIndex","class","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"border-r","border-gray-600/30","cursor-pointer","hover:bg-red-600/20","transition-all","duration-200","group","bg-gray-800/60","overflow-hidden","relative",3,"click"],[1,"h-full","p-1.5","flex","flex-col","justify-between","overflow-hidden","relative"],["class","absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-yellow-400 to-orange-500 opacity-75",4,"ngIf"],["class","absolute right-0 top-0 bottom-0 w-1 bg-gradient-to-b from-yellow-400 to-orange-500 opacity-75",4,"ngIf"],[1,"flex-1","min-h-0"],[1,"text-white","text-xs","font-medium","line-clamp-1","leading-tight","group-hover:text-red-200","transition-colors"],["class","text-yellow-400 mr-1",4,"ngIf"],["class","text-yellow-400 ml-1",4,"ngIf"],[1,"text-gray-400","text-xs","group-hover:text-red-300","transition-colors","mt-0.5"],["class","mt-1",4,"ngIf"],[1,"absolute","left-0","top-0","bottom-0","w-1","bg-gradient-to-b","from-yellow-400","to-orange-500","opacity-75"],[1,"absolute","right-0","top-0","bottom-0","w-1","bg-gradient-to-b","from-yellow-400","to-orange-500","opacity-75"],[1,"text-yellow-400","mr-1"],[1,"text-yellow-400","ml-1"],[1,"mt-1"],[1,"inline-block","px-1.5","py-0.5","text-xs","rounded-full","truncate","max-w-full","leading-tight"],[1,"bg-gray-800/95","backdrop-blur-sm","border-t","border-gray-700","shadow-2xl","relative",2,"z-index","60"],[1,"p-4"],[3,"data"],[1,"fixed","bottom-0","left-0","right-0","bg-gray-900/95","backdrop-blur-sm","border-t","border-gray-700","p-3","z-40","lg:hidden"],[1,"flex","justify-around","items-center"],[1,"flex","flex-col","items-center","text-gray-400","hover:text-white","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","mb-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"],[1,"text-xs"],["class","flex flex-col items-center text-gray-400 hover:text-white transition-colors",3,"click",4,"ngIf"],[1,"flex","flex-col","items-center","text-gray-400","hover:text-white","transition-colors",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"flex","flex-col","items-center","text-gray-400","hover:text-white","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"desktop-modal",3,"close","program","channelName","channelLogo"]],template:function(t,r){t&1&&f(0,Ke,15,0,"ng-container",1)(1,Xt,3,2,"ng-container",1),t&2&&(p("ngIf",r.uiState().isLoading),d(),p("ngIf",!r.uiState().isLoading))},dependencies:[te,Oe,ee,ie,Ne,Ve,Fe,ze,$e],styles:['@charset "UTF-8";.mobile-tv-guide[_ngcontent-%COMP%]{display:none}@media (max-width: 767px){.mobile-tv-guide[_ngcontent-%COMP%]{display:flex!important;flex-direction:column;height:100vh;background:linear-gradient(to bottom,#111827,#000);overflow:hidden;-webkit-overflow-scrolling:touch;visibility:visible!important;opacity:1!important}}.desktop-tv-guide[_ngcontent-%COMP%]{display:block}@media (max-width: 767px){.desktop-tv-guide[_ngcontent-%COMP%]{display:none!important}}.mobile-bottom-header[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;z-index:100;background:#111827fa;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-top:1px solid rgba(55,65,81,.3);padding:.75rem;padding-bottom:calc(.75rem + env(safe-area-inset-bottom,0));display:grid;grid-template-columns:1fr 1fr auto;gap:.5rem;box-shadow:0 -4px 6px #0000001a}.mobile-control[_ngcontent-%COMP%]{position:relative}.mobile-btn[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;gap:.5rem;padding:.75rem;border-radius:.75rem;font-weight:600;font-size:.875rem;transition:all .2s cubic-bezier(.4,0,.2,1);border:1px solid rgba(55,65,81,.3);background:#1f2937cc;color:#fff;min-height:44px;-webkit-tap-highlight-color:transparent;touch-action:manipulation}.mobile-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.mobile-btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);border-color:#ef4444}.mobile-btn-primary[_ngcontent-%COMP%]:active{background:linear-gradient(135deg,#dc2626,#c82020)}.mobile-btn-secondary[_ngcontent-%COMP%]{background:#1f2937e6;border-color:#37415180}.mobile-btn-secondary[_ngcontent-%COMP%]:active{background:#1f2937}.mobile-btn-icon[_ngcontent-%COMP%]{position:relative;width:44px;height:44px;display:flex;align-items:center;justify-content:center;border-radius:.75rem;background:#1f2937cc;border:1px solid rgba(55,65,81,.3);color:#fff;-webkit-tap-highlight-color:transparent}.mobile-btn-icon[_ngcontent-%COMP%]:active{transform:scale(.95)}.mobile-icon[_ngcontent-%COMP%]{width:18px;height:18px;flex-shrink:0;color:#ffffffe6}.mobile-icon-sm[_ngcontent-%COMP%]{width:16px;height:16px;flex-shrink:0;transition:transform .2s ease}.mobile-icon-sm.rotate-180[_ngcontent-%COMP%]{transform:rotate(180deg)}.mobile-check[_ngcontent-%COMP%]{color:#ef4444}.mobile-chevron[_ngcontent-%COMP%]{color:#fff9}.mobile-text-truncate[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1;min-width:0}.mobile-badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;min-width:18px;height:18px;display:flex;align-items:center;justify-content:center;background:#ef4444;color:#fff;border-radius:9px;font-size:.625rem;font-weight:700;padding:0 4px;box-shadow:0 2px 4px #0003}.mobile-dropdown[_ngcontent-%COMP%]{position:absolute;z-index:200;background:#111827fa;-webkit-backdrop-filter:blur(16px);backdrop-filter:blur(16px);border:1px solid rgba(55,65,81,.3);border-radius:.75rem;max-height:280px;overflow-y:auto;-webkit-overflow-scrolling:touch;box-shadow:0 -12px 24px #0000004d;bottom:calc(100% + .5rem);left:0;right:0}.mobile-dropdown[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.mobile-dropdown[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.mobile-dropdown[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ef444480;border-radius:2px}.mobile-dropdown-right[_ngcontent-%COMP%]{left:auto;right:0;min-width:200px}.mobile-dropdown-up[_ngcontent-%COMP%]{top:auto;bottom:calc(100% + .5rem)}.mobile-dropdown-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;padding:.875rem;color:#ffffffe6;font-size:.875rem;transition:background-color .15s ease;border-bottom:1px solid rgba(55,65,81,.15);min-height:48px;-webkit-tap-highlight-color:transparent}.mobile-dropdown-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.mobile-dropdown-item[_ngcontent-%COMP%]:active{background:#1f293780}.mobile-dropdown-item.mobile-dropdown-active[_ngcontent-%COMP%]{background:#ef444426;color:#fff;font-weight:600}.mobile-dropdown-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem;flex:1}.mobile-dropdown-title[_ngcontent-%COMP%]{font-weight:600;color:#fff}.mobile-dropdown-subtitle[_ngcontent-%COMP%]{font-size:.75rem;color:#fff9}.mobile-content[_ngcontent-%COMP%]{flex:1;margin-bottom:120px;overflow:hidden}.mobile-scroll[_ngcontent-%COMP%]{height:100%;width:100%;overflow-y:auto;-webkit-overflow-scrolling:touch;scroll-behavior:smooth}.mobile-loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:calc(100vh - 120px);gap:1rem}.mobile-spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:3px solid rgba(239,68,68,.2);border-top-color:#ef4444;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.mobile-loading-text[_ngcontent-%COMP%]{color:#ffffffb3;font-size:.875rem}.mobile-error[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:calc(100vh - 120px);gap:1rem;padding:2rem;text-align:center}.mobile-error-title[_ngcontent-%COMP%]{color:#ef4444;font-size:1.125rem;font-weight:700}.mobile-error-text[_ngcontent-%COMP%]{color:#fff9;font-size:.875rem}.mobile-channel[_ngcontent-%COMP%]{background:#1f293766;border-bottom:1px solid rgba(55,65,81,.2)}.mobile-channel[_ngcontent-%COMP%]:last-child{border-bottom:none}.mobile-channel-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.875rem;background:#1f293799;border-bottom:1px solid rgba(55,65,81,.2);-webkit-tap-highlight-color:transparent;min-height:56px}.mobile-channel-header[_ngcontent-%COMP%]:active{background:#1f2937cc}.mobile-channel-logo[_ngcontent-%COMP%]{width:48px;height:32px;object-fit:contain;background:#ffffff0d;border-radius:.375rem;padding:.25rem}.mobile-channel-name[_ngcontent-%COMP%]{flex:1;font-weight:600;font-size:.875rem;color:#fff}.mobile-programs-compact[_ngcontent-%COMP%]{display:none;flex-direction:column}.mobile-programs-compact.expanded[_ngcontent-%COMP%]{display:flex}.mobile-program-card[_ngcontent-%COMP%]{padding:.875rem;border-bottom:1px solid rgba(55,65,81,.1);transition:background-color .15s ease;-webkit-tap-highlight-color:transparent;min-height:68px}.mobile-program-card[_ngcontent-%COMP%]:last-child{border-bottom:none}.mobile-program-card[_ngcontent-%COMP%]:active{background:#1f293780}.mobile-program-card.mobile-program-active[_ngcontent-%COMP%]{background:#ef44441a;border-left:3px solid #ef4444;padding-left:calc(.875rem - 3px)}.mobile-program-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;margin-bottom:.5rem}.mobile-program-title[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:#fff;line-height:1.3;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.mobile-program-time[_ngcontent-%COMP%]{font-size:.75rem;color:#fff9;font-weight:500}.mobile-category-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .5rem;font-size:.625rem;font-weight:600;border-radius:.375rem;text-transform:uppercase;letter-spacing:.025em}.mobile-program-details[_ngcontent-%COMP%]{position:fixed;bottom:120px;left:0;right:0;z-index:90;padding:.875rem;background:#111827fa;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-top:1px solid rgba(55,65,81,.2);max-height:50vh;overflow-y:auto;-webkit-overflow-scrolling:touch;animation:_ngcontent-%COMP%_slideUp .3s ease-out;box-shadow:0 -4px 12px #0000004d}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}*[_ngcontent-%COMP%]{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;backface-visibility:hidden}.mobile-scroll[_ngcontent-%COMP%], .mobile-dropdown[_ngcontent-%COMP%]{transform:translateZ(0);will-change:scroll-position}.mobile-btn[_ngcontent-%COMP%], .mobile-program-card[_ngcontent-%COMP%], .mobile-channel-header[_ngcontent-%COMP%]{transform:translateZ(0)}@supports (padding: env(safe-area-inset-bottom)){.mobile-bottom-header[_ngcontent-%COMP%]{padding-bottom:calc(.75rem + env(safe-area-inset-bottom))}.mobile-program-details[_ngcontent-%COMP%]{bottom:calc(120px + env(safe-area-inset-bottom))}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}@media (prefers-contrast: high){.mobile-channel[_ngcontent-%COMP%], .mobile-program-card[_ngcontent-%COMP%]{border:1px solid currentColor}.mobile-btn[_ngcontent-%COMP%]{border-width:2px}}@media (orientation: landscape) and (max-height: 500px){.mobile-bottom-header[_ngcontent-%COMP%]{padding:.5rem;gap:.375rem}.mobile-btn[_ngcontent-%COMP%]{padding:.5rem;font-size:.75rem;min-height:36px}.mobile-program-card[_ngcontent-%COMP%]{padding:.625rem;min-height:56px}.mobile-program-details[_ngcontent-%COMP%]{max-height:40vh}}@media (min-width: 768px){.mobile-tv-guide[_ngcontent-%COMP%]{display:none!important}.desktop-tv-guide[_ngcontent-%COMP%]{display:block!important}}@media (prefers-color-scheme: dark){.mobile-tv-guide[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#0a0a0a,#000)}.mobile-bottom-header[_ngcontent-%COMP%]{background:#0a0a0afa}}@media (hover: none) and (pointer: coarse){.mobile-btn[_ngcontent-%COMP%], .mobile-dropdown-item[_ngcontent-%COMP%], .mobile-program-card[_ngcontent-%COMP%], .mobile-channel-header[_ngcontent-%COMP%]{min-height:48px}.mobile-btn[_ngcontent-%COMP%]:active, .mobile-program-card[_ngcontent-%COMP%]:active, .mobile-channel-header[_ngcontent-%COMP%]:active{opacity:.8}}.mobile-scroll[_ngcontent-%COMP%], .mobile-program-details[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:rgba(239,68,68,.4) transparent}.mobile-scroll[_ngcontent-%COMP%]::-webkit-scrollbar, .mobile-program-details[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.mobile-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track, .mobile-program-details[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.mobile-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .mobile-program-details[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ef444466;border-radius:2px}.mobile-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover, .mobile-program-details[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ef444499}.hidden[_ngcontent-%COMP%]{display:none!important}.channel-name-fallback.hidden[_ngcontent-%COMP%]{display:none}.mobile-tv-guide[_ngcontent-%COMP%]{display:none!important}@media (max-width: 767px){.mobile-tv-guide[_ngcontent-%COMP%]{display:flex!important}}@media (min-width: 768px){.mobile-tv-guide[_ngcontent-%COMP%]{display:none!important}}.programs-grid[_ngcontent-%COMP%]{display:grid!important;gap:0!important;grid-auto-rows:75px!important;width:100%!important;overflow:visible!important;min-height:75px!important;position:relative!important}.programs-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:auto!important;min-width:0!important;max-width:100%!important;position:relative!important;display:block!important;height:75px!important;overflow:hidden!important;box-sizing:border-box!important;visibility:visible!important;opacity:1!important}.programs-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;height:100%!important;width:100%!important}.programs-container[_ngcontent-%COMP%]{overflow:visible!important;position:relative!important;flex:1;min-width:0}.programs-container[_ngcontent-%COMP%]   .programs-grid[_ngcontent-%COMP%]{position:relative!important;width:100%!important;height:100%!important}.channel-programs-container[_ngcontent-%COMP%]{position:relative!important;display:flex!important;min-height:75px!important;overflow:visible!important;isolation:isolate}.channel-programs-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{visibility:visible!important;opacity:1!important}.channel-row[_ngcontent-%COMP%]{border-bottom:1px solid rgba(75,85,99,.4)!important;isolation:isolate;min-height:75px!important;position:relative!important;display:block!important;visibility:visible!important}.channel-row[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:inherit}.channel-row[_ngcontent-%COMP%]:last-child{border-bottom:none!important}div[class*=border-r][class*=cursor-pointer][_ngcontent-%COMP%]{visibility:visible!important;opacity:1!important;display:block!important}div[class*=border-r][class*=cursor-pointer][_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{visibility:visible!important;opacity:1!important;display:flex!important}cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{contain:layout style paint!important;will-change:scroll-position;scroll-behavior:smooth;-webkit-overflow-scrolling:touch;width:100%!important;overflow-y:auto!important;overflow-x:hidden!important}cdk-virtual-scroll-viewport[_ngcontent-%COMP%]   .cdk-virtual-scroll-content-wrapper[_ngcontent-%COMP%]{width:100%!important;contain:layout style!important}cdk-virtual-scroll-viewport[_ngcontent-%COMP%]   .cdk-virtual-scroll-content-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{visibility:visible!important;opacity:1!important}.time-header[_ngcontent-%COMP%]{position:sticky!important;top:0!important;z-index:40!important;background:linear-gradient(to right,#1f2937,#374151,#1f2937)!important}.time-header[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{display:grid!important;grid-template-columns:repeat(7,1fr)!important;width:100%!important}.time-header[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;justify-content:center!important;visibility:visible!important}.programs-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(42,minmax(0,1fr))!important}.programs-grid[_ngcontent-%COMP%] > div[style*=grid-column-start][_ngcontent-%COMP%]{min-width:10px!important;visibility:visible!important;opacity:1!important}@media (min-width: 768px){.programs-grid[_ngcontent-%COMP%], .programs-container[_ngcontent-%COMP%], .channel-programs-container[_ngcontent-%COMP%], .channel-row[_ngcontent-%COMP%]{visibility:visible!important;opacity:1!important}.programs-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(42,minmax(15px,1fr))!important}}@media (min-width: 1024px){.programs-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(42,minmax(20px,1fr))!important}}@media (min-width: 1440px){.programs-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(42,minmax(25px,1fr))!important}}.time-header[_ngcontent-%COMP%]{z-index:40!important}.dropdown-container[_ngcontent-%COMP%]{z-index:50!important}.time-indicator[_ngcontent-%COMP%]{z-index:30!important}.time-indicator.time-indicator-priority[_ngcontent-%COMP%]{z-index:10000!important}.channel-row[_ngcontent-%COMP%]{z-index:1!important}.programs-grid[_ngcontent-%COMP%]{z-index:auto!important}.programs-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{z-index:auto!important}.programs-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{z-index:20!important}'],data:{animation:[ne("expandCollapse",[pe("collapsed",A({height:"0px",opacity:0})),pe("expanded",A({height:"*",opacity:1})),$("collapsed <=> expanded",U("300ms ease-in-out"))])]},changeDetection:0});let a=c;return a})();function Jt(a,c){a&1&&(i(0,"div",8)(1,"div",9)(2,"div",10),u(3,"div",11)(4,"div",12),o(),i(5,"div",13)(6,"h2",14),s(7," Cargando Gu\xEDa TV "),o(),i(8,"p",15),s(9," Obteniendo la programaci\xF3n m\xE1s actualizada de todos los canales... "),o()()()())}function Kt(a,c){if(a&1){let n=k();i(0,"div",16)(1,"div",17)(2,"div",18),x(),i(3,"svg",19),u(4,"path",20),o()(),M(),i(5,"h2",21),s(6," Error al cargar los datos "),o(),i(7,"p",22),s(8),o(),i(9,"button",23),w("click",function(){C(n);let t=m();return y(t.onRetry())}),i(10,"span",24),x(),i(11,"svg",25),u(12,"path",26),o(),M(),i(13,"span"),s(14,"Reintentar"),o()()()()()}if(a&2){let n=m();d(8),L(n.error())}}function en(a,c){if(a&1){let n=k();i(0,"div",81)(1,"div",82)(2,"div",83)(3,"div",84)(4,"div",85),x(),i(5,"svg",86),u(6,"path",87),o()(),M(),i(7,"div",88)(8,"p",89),s(9," Filtrando por categor\xEDa "),o(),i(10,"p",90),s(11),o()()(),i(12,"button",91),w("click",function(){C(n);let t=m(2);return y(t.clearCategoryFilter())}),x(),i(13,"svg",92),u(14,"path",93),o(),M(),i(15,"span",94),s(16,"Limpiar filtro"),o(),i(17,"span",95),s(18,"Limpiar"),o()()()()()}if(a&2){let n=m(2);d(11),z(" ",n.selectedCategory()," ")}}function tn(a,c){if(a&1){let n=k();i(0,"section",96)(1,"app-banner",97),w("movieSelected",function(t){C(n);let r=m(2);return y(r.onMovieSelected(t))}),o()()}if(a&2){let n=m(2);d(),p("data",n.getBannerData())}}function nn(a,c){if(a&1&&(i(0,"section",98)(1,"div",44)(2,"header",99)(3,"h3",63),s(4," Estad\xEDsticas de "),i(5,"span",100),s(6),o()(),i(7,"p",101),s(8," Resumen de la programaci\xF3n filtrada por esta categor\xEDa "),o()(),i(9,"div",102)(10,"div",103)(11,"div",104),x(),i(12,"svg",105),u(13,"path",106),o()(),M(),i(14,"p",107),s(15),o(),i(16,"p",108),s(17," Programas "),o()(),i(18,"div",109)(19,"div",110),x(),i(20,"svg",111),u(21,"path",58),o()(),M(),i(22,"p",112),s(23),o(),i(24,"p",108),s(25," Canales "),o()(),i(26,"div",113)(27,"div",114),x(),i(28,"svg",115),u(29,"path",53),o()(),M(),i(30,"p",116),s(31),o(),i(32,"p",108),s(33," En Emisi\xF3n "),o()(),i(34,"div",117)(35,"div",118),x(),i(36,"svg",119),u(37,"path",60),o()(),M(),i(38,"p",120),s(39),o(),i(40,"p",108),s(41," Pr\xF3ximo "),o()()()()()),a&2){let n=m(2);d(6),z(" ",n.selectedCategory()," "),d(9),z(" ",n.getCategoryProgramCount()," "),d(8),z(" ",n.getCategoryChannelCount()," "),d(8),z(" ",n.getCurrentCategoryPrograms()," "),d(8),z(" ",n.getNextCategoryProgram()," ")}}function rn(a,c){if(a&1){let n=k();i(0,"main",27),f(1,en,19,1,"div",28)(2,tn,2,1,"section",29),i(3,"section",30)(4,"div",31)(5,"h1",32),s(6," Gu\xEDa de Programaci\xF3n TV Espa\xF1a "),o(),i(7,"p",33),s(8," Consulta toda la "),i(9,"strong"),s(10,"programaci\xF3n de televisi\xF3n"),o(),s(11," actualizada en tiempo real. La mejor "),i(12,"strong"),s(13,"gu\xEDa TV"),o(),s(14," para todos los canales espa\xF1oles. "),o(),i(15,"div",34)(16,"div",35)(17,"div",36),s(18," 100+ "),o(),i(19,"div",37),s(20,"Canales"),o()(),i(21,"div",35)(22,"div",38),s(23," 24/7 "),o(),i(24,"div",37),s(25,"Actualizado"),o()(),i(26,"div",39)(27,"div",40),s(28," Gratis "),o(),i(29,"div",37),s(30,"100% Gratuito"),o()()()()(),i(31,"section",41)(32,"app-program-list",42),w("dayChanged",function(t){C(n);let r=m();return y(r.onDayChanged(t))})("categorySelected",function(t){C(n);let r=m();return y(r.onCategorySelected(t))}),o()(),i(33,"section",43)(34,"div",44)(35,"header",45)(36,"h2",46),s(37," Tu Gu\xEDa Completa de "),i(38,"span",47),s(39,"Televisi\xF3n en Espa\xF1a"),o()(),i(40,"p",48),s(41," Descubre toda la programaci\xF3n TV de los principales canales espa\xF1oles. Informaci\xF3n detallada, sinopsis, horarios y mucho m\xE1s en la mejor "),i(42,"strong"),s(43,"gu\xEDa televisi\xF3n online"),o(),s(44,". "),o()(),i(45,"div",49)(46,"article",50)(47,"h3",51),x(),i(48,"svg",52),u(49,"path",53),o(),M(),i(50,"span",54),s(51,"Canales Principales"),o()(),i(52,"div",55)(53,"p")(54,"strong",56),s(55,"Canales Nacionales:"),o(),s(56," La 1, La 2, Antena 3, Cuatro, Telecinco, La Sexta "),o(),i(57,"p")(58,"strong",56),s(59,"Auton\xF3micos:"),o(),s(60," TV3, ETB, Canal Sur, Telemadrid, \xC0 Punt, TVG "),o(),i(61,"p")(62,"strong",56),s(63,"Tem\xE1ticos:"),o(),s(64," Neox, Nova, Mega, FDF, Energy, Divinity, Be Mad "),o(),i(65,"p")(66,"strong",56),s(67,"Infantiles:"),o(),s(68," Clan, Disney Channel, Nickelodeon, Boing "),o()()(),i(69,"article",57)(70,"h3",51),x(),i(71,"svg",52),u(72,"path",58),o(),s(73," Contenido por Categor\xEDas "),o(),M(),i(74,"div",55)(75,"p")(76,"strong",56),s(77,"Pel\xEDculas:"),o(),s(78," Estrenos, cine espa\xF1ol, cl\xE1sicos, blockbusters internacionales "),o(),i(79,"p")(80,"strong",56),s(81,"Series:"),o(),s(82," Dramas, comedias, thrillers, series espa\xF1olas e internacionales "),o(),i(83,"p")(84,"strong",56),s(85,"Deportes:"),o(),s(86," F\xFAtbol, baloncesto, tenis, motor, olimpiadas "),o(),i(87,"p")(88,"strong",56),s(89,"Documentales:"),o(),s(90," Naturaleza, historia, ciencia, biograf\xEDas "),o(),i(91,"p")(92,"strong",56),s(93,"Entretenimiento:"),o(),s(94," Reality shows, talent shows, programas de actualidad "),o()()(),i(95,"article",59)(96,"h3",51),x(),i(97,"svg",52),u(98,"path",60),o(),s(99," Programaci\xF3n por Horas "),o(),M(),i(100,"div",55)(101,"p")(102,"strong",56),s(103,"Prime Time (20:00-00:00):"),o(),s(104," Las mejores pel\xEDculas, series de estreno y programas principales "),o(),i(105,"p")(106,"strong",56),s(107,"Ma\xF1ana (06:00-14:00):"),o(),s(108," Informativos, magazines matinales y programas de debate "),o(),i(109,"p")(110,"strong",56),s(111,"Tarde (14:00-20:00):"),o(),s(112," Telenovelas, series, concursos y entretenimiento familiar "),o(),i(113,"p")(114,"strong",56),s(115,"Madrugada (00:00-06:00):"),o(),s(116," Cine de culto, repeticiones y programaci\xF3n nocturna "),o()()()(),i(117,"div",61)(118,"div",62)(119,"h3",63),s(120," La Mejor "),i(121,"span",47),s(122,"Gu\xEDa TV Online"),o(),s(123," de Espa\xF1a "),o(),i(124,"p",64),s(125," Encuentra f\xE1cilmente qu\xE9 ver en televisi\xF3n hoy. Nuestra "),i(126,"strong"),s(127,"parrilla de programaci\xF3n"),o(),s(128," se actualiza constantemente para ofrecerte la informaci\xF3n m\xE1s precisa. Filtra por canal, categor\xEDa u horario y descubre pel\xEDculas de estreno, series populares y programas de entretenimiento. "),o(),i(129,"div",65)(130,"span",66),x(),i(131,"svg",67),u(132,"path",68),o(),s(133," Actualizaci\xF3n continua "),o(),M(),i(134,"span",66),x(),i(135,"svg",67),u(136,"path",68),o(),s(137," 100% gratuito "),o(),M(),i(138,"span",66),x(),i(139,"svg",67),u(140,"path",68),o(),s(141," Todos los dispositivos "),o(),M(),i(142,"span",66),x(),i(143,"svg",67),u(144,"path",68),o(),s(145," Sin registro "),o()()()()()(),M(),i(146,"section",69)(147,"div",70)(148,"h2",71),s(149," Preguntas Frecuentes sobre la "),i(150,"span",47),s(151,"Gu\xEDa TV"),o()(),i(152,"div",72)(153,"details",73)(154,"summary",74)(155,"span",75),s(156,"\xBFCada cu\xE1nto se actualiza la programaci\xF3n?"),o(),x(),i(157,"svg",76),u(158,"path",77),o()(),M(),i(159,"div",78)(160,"p",79),s(161," S\xED, puedes filtrar la programaci\xF3n por m\xFAltiples categor\xEDas: pel\xEDculas, series, deportes, documentales, noticias, infantil, entretenimiento y m\xE1s. Simplemente usa los filtros en la parte superior para ver solo el contenido que te interesa. "),o()()(),i(162,"details",73)(163,"summary",74)(164,"span",75),s(165,"\xBFEs compatible con dispositivos m\xF3viles?"),o(),x(),i(166,"svg",76),u(167,"path",77),o()(),M(),i(168,"div",78)(169,"p",79),s(170," Totalmente. Nuestra gu\xEDa TV est\xE1 optimizada para funcionar perfectamente en smartphones, tablets y ordenadores. El dise\xF1o responsive se adapta autom\xE1ticamente a cualquier tama\xF1o de pantalla para ofrecerte la mejor experiencia de usuario. "),o()()()()()(),f(171,nn,42,5,"section",80),o()}if(a&2){let n=m();d(),p("ngIf",n.selectedCategory()),d(),p("ngIf",n.uiState().hasFeaturedMovie&&!n.selectedCategory()),d(169),p("ngIf",n.selectedCategory())}}function on(a,c){if(a&1){let n=k();i(0,"div",121)(1,"div",122)(2,"div",123),x(),i(3,"svg",124),u(4,"path",53),o()(),M(),i(5,"h2",125),s(6," No hay programaci\xF3n disponible "),o(),i(7,"p",126),s(8," No se encontraron programas para mostrar en este momento. "),o(),i(9,"button",127),w("click",function(){C(n);let t=m();return y(t.onRefresh())}),x(),i(10,"svg",128),u(11,"path",26),o(),M(),i(12,"span"),s(13,"Cargar Programaci\xF3n"),o()()()()}}var yi=(()=>{let c=class c{constructor(){this.deviceDetector=I(he),this.destroyRef=I(Q),this.metaService=I(Be),this.homeDataService=I(Le),this.categoryFilterService=I(Re),this.logger=I(Ae),this.programs=T([]),this.featuredMovie=T(null),this.popularMovies=T([]),this.isLoading=T(!0),this.error=T(null),this.selectedCategory=E(()=>this.categoryFilterService.getSelectedCategory()),this.hasData=E(()=>this.programs().length>0),this.hasFeaturedMovie=E(()=>this.featuredMovie()!==null),this.hasError=E(()=>this.error()!==null),this.uiState=E(()=>({isLoading:this.isLoading(),hasFeaturedMovie:this.hasFeaturedMovie(),hasError:this.hasError(),showContent:!this.isLoading()&&this.hasData()&&!this.hasError(),showError:!this.isLoading()&&this.hasError(),showEmpty:!this.isLoading()&&!this.hasData()&&!this.hasError()}))}ngOnInit(){this.logger.info("HomeComponent initializing"),this.setupMetaTags(),this.initializeDataStreams(),this.initializeData(),this.isProduction()||(this.exposeDebugMethods(),setTimeout(()=>{this.checkDataConsistency()},3e3))}setupMetaTags(){this.metaService.setMetaTags({title:"Gu\xEDa TV - Programaci\xF3n de Televisi\xF3n Actual",description:"Descubre qu\xE9 ver en TV hoy. Gu\xEDa completa de programaci\xF3n televisiva con horarios actualizados.",canonicalUrl:"/"})}initializeDataStreams(){this.logger.debug("Initializing reactive data streams"),this.homeDataService.programs$.pipe(F(this.destroyRef)).subscribe(e=>{this.logger.debug(`Programs updated: ${e.length} items`),this.programs.set(e),this.categoryFilterService.updatePrograms(e)}),this.homeDataService.featuredMovie$.pipe(F(this.destroyRef)).subscribe(e=>{this.logger.debug(`Featured movie updated: ${e?.title||"none"}`),this.logger.debug("Featured movie details:",e),this.featuredMovie.set(e)}),this.homeDataService.popularMovies$.pipe(F(this.destroyRef)).subscribe(e=>{this.logger.debug(`Popular movies updated: ${e.length} items`),this.popularMovies.set(e)}),this.homeDataService.loading$.pipe(F(this.destroyRef)).subscribe(e=>{this.logger.debug(`Loading state: ${e}`),this.isLoading.set(e)}),this.homeDataService.error$.pipe(F(this.destroyRef)).subscribe(e=>{this.logger.debug(`Error state: ${e||"none"}`),this.error.set(e)})}initializeData(){this.logger.info("Starting data initialization"),this.homeDataService.initializeData().pipe(F(this.destroyRef)).subscribe(e=>{e.success?this.logger.info("Home data initialization successful"):this.logger.error(`Home data initialization failed: ${e}`)})}onDayChanged(e){let{dayIndex:t,dayInfo:r}=e;this.logger.info(`Day changed: index ${t}, day: ${r.diaSemana} ${r.diaNumero}`),t===0?this.updatePageTitle("Gu\xEDa TV - Programaci\xF3n de Hoy"):t===1?this.updatePageTitle(`Gu\xEDa TV - Programaci\xF3n de Ma\xF1ana (${r.diaSemana} ${r.diaNumero})`):this.updatePageTitle(`Gu\xEDa TV - Programaci\xF3n ${r.diaSemana} ${r.diaNumero}`)}onMovieSelected(e){this.logger.info(`Movie selected: ${e.title}`)}onRetry(){this.logger.info("Retry requested by user"),this.error.set(null),this.homeDataService.refreshData().pipe(F(this.destroyRef)).subscribe(e=>{e.success||this.logger.error(`Retry failed: ${e}`)})}onRefresh(){this.logger.info("Manual refresh requested"),this.homeDataService.refreshData().pipe(F(this.destroyRef)).subscribe(e=>{e.success?this.logger.info("Manual refresh completed"):this.logger.error(`Manual refresh failed: ${e}`)})}formatTime(e){try{return new Date(e).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}catch{return this.logger.warn(`Invalid date string: ${e}`),"N/A"}}formatRating(e){if(!e)return"N/A";if(typeof e=="string"){if(e.includes("/10")||e.includes("/"))return e;let t=parseFloat(e);return isNaN(t)?e:`${t.toFixed(1)}`}return typeof e=="number"?`${e.toFixed(1)}`:"N/A"}trackByMovieId(e,t){return t.id}trackByProgramId(e,t){return t.id}getBannerData(){let e=this.featuredMovie();return e?{title:{value:e.title},channel:e.channelName||"Canal desconocido",channelName:e.channelName,icon:e.poster||"assets/images/default-movie-poster.svg",poster:e.poster||"assets/images/default-movie-poster.svg",start:e.startTime||new Date().toISOString(),stop:e.endTime||new Date(Date.now()+2*60*60*1e3).toISOString(),startTime:e.startTime,endTime:e.endTime,desc:{details:e.description||"Pel\xEDcula destacada de la programaci\xF3n actual.",year:e.releaseDate,rate:"TP"},description:e.description,year:e.releaseDate,rating:e.rating,starRating:e.rating||"7.0",category:e.category||"Cine",id:e.id}:null}getPosterUrl(e){return e.poster||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDE1MCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjE1MCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiMzOTkzZGQiLz48cGF0aCBkPSJNNTAgNzBMMTAwIDk1TDUwIDEyMFY3MFpNNzAgNDBIODBWNjBINzBWNDBaTTcwIDE0MEg4MFYxNjBINzBWMTQwWiIgZmlsbD0iI2ZmZmZmZiIvPjwvc3ZnPgo="}onPosterError(e){let t=e.target;t.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDE1MCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjE1MCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiMzOTkzZGQiLz48cGF0aCBkPSJNNTAgNzBMMTAwIDk1TDUwIDEyMFY3MFpNNzAgNDBIODBWNjBINzBWNDBaTTcwIDE0MEg4MFYxNjBINzBWMTQwWiIgZmlsbD0iI2ZmZmZmZiIvPjwvc3ZnPgo="}isDebugMode(){return!this.isProduction()}updatePageTitle(e){this.metaService.setMetaTags({title:e,description:"Descubre qu\xE9 ver en TV. Gu\xEDa completa de programaci\xF3n televisiva con horarios actualizados.",canonicalUrl:"/"})}isProduction(){return!1}debugComponentState(){this.logger&&(this.logger.debug("=== HOME COMPONENT STATE ==="),this.logger.debug("UI State:",this.uiState()),this.logger.debug(`Programs: ${this.programs().length}`),this.logger.debug(`Featured Movie: ${this.featuredMovie()?.title||"none"}`),this.logger.debug(`Popular Movies: ${this.popularMovies().length}`),this.homeDataService.debugState(),this.logger.debug("=== END COMPONENT STATE ==="))}forceSyncData(){this.logger.info("\u{1F504} FORCE SYNC - Forcing data synchronization");let e=this.homeDataService.getCurrentState();e.programListData.length>0&&this.programs().length===0&&(this.logger.warn("\u26A0\uFE0F FORCE SYNC - Data mismatch detected, forcing sync"),this.homeDataService.updateProgramListData(e.programListData),setTimeout(()=>{this.logger.info("\u{1F504} FORCE SYNC - Forcing change detection")},100))}checkDataConsistency(){let e=this.homeDataService.getCurrentState(),t={programs:this.programs().length,featuredMovie:this.featuredMovie()?.title||"none",popularMovies:this.popularMovies().length};console.log("\u{1F50D} DATA CONSISTENCY CHECK:"),console.log("Service State:",{programs:e.programs.length,programListData:e.programListData.length,featuredMovie:e.featuredMovie?.title||"none",popularMovies:e.popularMovies.length,isLoading:e.isLoading,hasData:e.hasData}),console.log("Component State:",t),e.programListData.length>0&&this.programs().length===0&&(console.warn("\u{1F6A8} INCONSISTENCY: Service has ProgramList data but component has no programs"),this.forceSyncData()),e.featuredMovie&&!this.featuredMovie()&&console.warn("\u{1F6A8} INCONSISTENCY: Service has featured movie but component does not")}exposeDebugMethods(){typeof window<"u"&&(window.homeComponentDebug={state:()=>this.debugComponentState(),sync:()=>this.forceSyncData(),check:()=>this.checkDataConsistency(),refresh:()=>this.onRefresh(),serviceState:()=>this.homeDataService.getCurrentState(),componentState:()=>({programs:this.programs().length,featuredMovie:this.featuredMovie()?.title,popularMovies:this.popularMovies().length,uiState:this.uiState()}),testFormatRating:e=>this.formatRating(e)},console.log("\u{1F6E0}\uFE0F DEBUG METHODS EXPOSED:"),console.log("- homeComponentDebug.state() - Ver estado completo"),console.log("- homeComponentDebug.sync() - Forzar sincronizaci\xF3n"),console.log("- homeComponentDebug.check() - Verificar consistencia"),console.log("- homeComponentDebug.refresh() - Refrescar datos"),console.log("- homeComponentDebug.serviceState() - Estado del servicio"),console.log("- homeComponentDebug.componentState() - Estado del componente"),console.log("- homeComponentDebug.testFormatRating(value) - Probar formatRating"))}onCategorySelected(e){if(this.logger.info(`HomeComponent: Categor\xEDas seleccionadas: ${e.join(", ")}`),e.length===0){this.categoryFilterService.clearCategoryFilter();return}let t=e[0];this.categoryFilterService.selectCategory(t),e.length>1&&(this.logger.info(`HomeComponent: M\xFAltiples categor\xEDas seleccionadas, usando como principal: ${t}`),this.logger.debug(`HomeComponent: Categor\xEDas adicionales: ${e.slice(1).join(", ")}`))}clearCategoryFilter(){this.categoryFilterService.clearCategoryFilter(),this.logger.info("HomeComponent: Filtro de categor\xEDa limpiado")}getCategoryProgramCount(){let e=this.selectedCategory();return e?this.categoryFilterService.getCategoryStats(e).totalPrograms:0}getCategoryChannelCount(){let e=this.selectedCategory();return e?this.categoryFilterService.getCategoryStats(e).channelsCount:0}getCurrentCategoryPrograms(){let e=this.selectedCategory();return e?this.categoryFilterService.getCategoryStats(e).currentlyAiring:0}getNextCategoryProgram(){let e=this.selectedCategory();return e?this.categoryFilterService.getCategoryStats(e).nextProgramTime:"0"}};c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=X({type:c,selectors:[["app-home"]],decls:9,vars:5,consts:[["itemscope","","itemtype","https://schema.org/WebApplication",1,"min-h-screen","bg-gradient-to-br","from-gray-900","via-gray-800","to-black"],["itemprop","name","content","Gu\xEDa de Programaci\xF3n TV - Toda la televisi\xF3n espa\xF1ola"],["itemprop","description","content","Consulta la programaci\xF3n completa de TV en Espa\xF1a. Descubre qu\xE9 ver en La 1, Antena 3, Telecinco, La Sexta y todos los canales. Actualizaci\xF3n en tiempo real."],["itemprop","applicationCategory","content","Entertainment"],["class","fixed inset-0 z-50 flex items-center justify-center bg-gray-900/95 backdrop-blur-sm","role","status","aria-live","polite","aria-label","Cargando contenido",4,"ngIf"],["class","min-h-screen flex items-center justify-center px-4 py-8","role","alert","aria-live","assertive",4,"ngIf"],["class","relative overflow-y-auto","style","max-height: calc(100vh - 4rem)",4,"ngIf"],["class","min-h-screen flex items-center justify-center px-4 py-8","role","status","aria-live","polite",4,"ngIf"],["role","status","aria-live","polite","aria-label","Cargando contenido",1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-gray-900/95","backdrop-blur-sm"],[1,"flex","flex-col","items-center","space-y-4","text-center","px-4"],[1,"relative"],["aria-hidden","true",1,"animate-spin","rounded-full","h-12","w-12","sm:h-16","sm:w-16","border-b-2","border-red-500"],["aria-hidden","true",1,"absolute","inset-0","rounded-full","border-2","border-gray-600","opacity-25"],[1,"space-y-2"],[1,"text-white","text-lg","sm:text-xl","font-semibold"],[1,"text-gray-400","text-sm","max-w-md"],["role","alert","aria-live","assertive",1,"min-h-screen","flex","items-center","justify-center","px-4","py-8"],[1,"max-w-md","w-full","bg-gray-800/50","backdrop-blur-sm","rounded-2xl","p-6","sm:p-8","text-center","border","border-red-500/20"],["aria-hidden","true",1,"w-12","h-12","sm:w-16","sm:h-16","mx-auto","mb-4","bg-red-500/20","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","sm:w-8","sm:h-8","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"],[1,"text-lg","sm:text-xl","font-bold","text-white","mb-2"],[1,"text-gray-400","mb-6","text-sm","sm:text-base"],["aria-label","Reintentar carga de datos",1,"w-full","px-6","py-3","bg-red-600","hover:bg-red-700","active:bg-red-800","text-white","font-semibold","rounded-xl","transition-all","duration-200","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:ring-offset-2","focus:ring-offset-gray-900","touch-manipulation",3,"click"],[1,"flex","items-center","justify-center","space-x-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"relative","overflow-y-auto",2,"max-height","calc(100vh - 4rem)"],["class","bg-gradient-to-r from-gray-800/90 via-gray-700/90 to-gray-800/90 backdrop-blur-sm border-b border-gray-600/30 sticky top-0 z-30","role","status","aria-live","polite",4,"ngIf"],["class","relative overflow-hidden","itemscope","","itemtype","https://schema.org/Movie",4,"ngIf"],[1,"relative","py-6","sm:py-8","lg:py-12","px-4"],[1,"max-w-4xl","mx-auto","text-center"],["itemprop","name",1,"text-3xl","sm:text-4xl","lg:text-5xl","font-bold","bg-gradient-to-r","from-red-400","via-red-500","to-red-600","bg-clip-text","text-transparent","mb-3","sm:mb-4","leading-tight"],[1,"text-gray-400","text-base","sm:text-lg","lg:text-xl","max-w-3xl","mx-auto","mb-4","sm:mb-6","leading-relaxed"],[1,"grid","grid-cols-2","sm:grid-cols-3","gap-3","sm:gap-4","max-w-2xl","mx-auto","mb-6","sm:mb-8"],[1,"bg-gray-800/40","backdrop-blur-sm","rounded-xl","p-3","sm:p-4","border","border-gray-700/30"],["aria-label","M\xE1s de 100 canales",1,"text-xl","sm:text-2xl","font-bold","text-red-400"],[1,"text-xs","sm:text-sm","text-gray-400"],["aria-label","Actualizaci\xF3n cada 24 horas",1,"text-xl","sm:text-2xl","font-bold","text-red-400"],[1,"bg-gray-800/40","backdrop-blur-sm","rounded-xl","p-3","sm:p-4","border","border-gray-700/30","col-span-2","sm:col-span-1"],["aria-label","Totalmente gratis",1,"text-xl","sm:text-2xl","font-bold","text-red-400"],["aria-label","Parrilla de programaci\xF3n televisiva",1,"relative"],[3,"dayChanged","categorySelected"],["itemscope","","itemtype","https://schema.org/Article",1,"py-8","sm:py-12","lg:py-16","bg-gray-800/20"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"text-center","mb-8","sm:mb-12"],["itemprop","headline",1,"text-2xl","sm:text-3xl","lg:text-4xl","font-bold","text-white","mb-4"],[1,"text-red-400"],["itemprop","description",1,"text-gray-300","text-sm","sm:text-base","lg:text-lg","max-w-3xl","mx-auto","leading-relaxed"],[1,"grid","sm:grid-cols-2","lg:grid-cols-3","gap-4","sm:gap-6","lg:gap-8","mb-8","sm:mb-12"],["itemscope","","itemtype","https://schema.org/ItemList",1,"bg-gray-800/40","backdrop-blur-sm","rounded-xl","p-5","sm:p-6","border","border-gray-700/30","hover:border-red-500/30","transition-all","duration-300"],[1,"text-lg","sm:text-xl","font-bold","text-white","mb-4","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"w-5","h-5","sm:w-6","sm:h-6","text-red-400","mr-2","sm:mr-3","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"],["itemprop","name"],[1,"space-y-3","text-xs","sm:text-sm","text-gray-300","leading-relaxed"],[1,"text-white"],[1,"bg-gray-800/40","backdrop-blur-sm","rounded-xl","p-5","sm:p-6","border","border-gray-700/30","hover:border-red-500/30","transition-all","duration-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"],[1,"bg-gray-800/40","backdrop-blur-sm","rounded-xl","p-5","sm:p-6","border","border-gray-700/30","hover:border-red-500/30","transition-all","duration-300","sm:col-span-2","lg:col-span-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-center"],[1,"bg-gradient-to-r","from-red-600/20","to-red-700/20","backdrop-blur-sm","rounded-2xl","p-6","sm:p-8","lg:p-10","border","border-red-500/30"],[1,"text-xl","sm:text-2xl","lg:text-3xl","font-bold","text-white","mb-3","sm:mb-4"],[1,"text-gray-300","text-sm","sm:text-base","lg:text-lg","mb-4","sm:mb-6","max-w-3xl","mx-auto","leading-relaxed"],[1,"flex","flex-wrap","justify-center","gap-3","sm:gap-4","text-xs","sm:text-sm","text-gray-400"],[1,"flex","items-center"],["fill","currentColor","viewBox","0 0 20 20","aria-hidden","true",1,"w-4","h-4","mr-1","text-red-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],["itemscope","","itemtype","https://schema.org/FAQPage",1,"py-8","sm:py-12","lg:py-16","bg-gray-900/50"],[1,"max-w-4xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"text-2xl","sm:text-3xl","font-bold","text-white","mb-6","sm:mb-8","text-center"],[1,"space-y-4"],["itemscope","","itemprop","mainEntity","itemtype","https://schema.org/Question",1,"bg-gray-800/40","backdrop-blur-sm","rounded-xl","border","border-gray-700/30","overflow-hidden","group"],["itemprop","name",1,"cursor-pointer","px-5","sm:px-6","py-4","font-semibold","text-white","hover:bg-gray-700/30","transition-colors","list-none","flex","justify-between","items-center","touch-manipulation"],[1,"text-sm","sm:text-base"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"w-5","h-5","text-red-400","transition-transform","group-open:rotate-180"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["itemscope","","itemprop","acceptedAnswer","itemtype","https://schema.org/Answer",1,"px-5","sm:px-6","py-4","text-xs","sm:text-sm","text-gray-300","bg-gray-800/20"],["itemprop","text"],["class","py-8 sm:py-12 lg:py-16 bg-gray-800/30",4,"ngIf"],["role","status","aria-live","polite",1,"bg-gradient-to-r","from-gray-800/90","via-gray-700/90","to-gray-800/90","backdrop-blur-sm","border-b","border-gray-600/30","sticky","top-0","z-30"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-3"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","gap-3"],[1,"flex","items-center","space-x-3","min-w-0"],["aria-hidden","true",1,"w-8","h-8","flex-shrink-0","bg-red-500/20","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"],[1,"min-w-0","flex-1"],[1,"text-xs","sm:text-sm","text-gray-300","truncate"],[1,"font-semibold","text-white","text-base","sm:text-lg","truncate"],["aria-label","Limpiar filtro de categor\xEDa",1,"inline-flex","items-center","justify-center","px-4","py-2","bg-red-600/20","hover:bg-red-600/30","active:bg-red-600/40","text-red-400","hover:text-red-300","rounded-lg","transition-all","duration-200","text-sm","font-medium","touch-manipulation","whitespace-nowrap",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"hidden","xs:inline"],[1,"xs:hidden"],["itemscope","","itemtype","https://schema.org/Movie",1,"relative","overflow-hidden"],["loading","eager",3,"movieSelected","data"],[1,"py-8","sm:py-12","lg:py-16","bg-gray-800/30"],[1,"text-center","mb-6","sm:mb-8","lg:mb-12"],[1,"bg-gradient-to-r","from-red-400","to-red-600","bg-clip-text","text-transparent"],[1,"text-gray-400","text-sm","sm:text-base","lg:text-lg"],[1,"grid","grid-cols-2","lg:grid-cols-4","gap-3","sm:gap-4","lg:gap-6"],[1,"bg-gradient-to-br","from-gray-800/80","to-gray-900/80","backdrop-blur-sm","rounded-xl","sm:rounded-2xl","p-4","sm:p-6","lg:p-8","border","border-gray-700/30","hover:border-red-500/30","transition-all","duration-300","hover:shadow-xl","hover:shadow-red-500/10","text-center","group"],["aria-hidden","true",1,"w-10","h-10","sm:w-12","sm:h-12","lg:w-16","lg:h-16","mx-auto","mb-3","sm:mb-4","bg-red-500/20","rounded-xl","sm:rounded-2xl","flex","items-center","justify-center","group-hover:bg-red-500/30","transition-colors","duration-300"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","sm:w-6","sm:h-6","lg:w-8","lg:h-8","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2h4a1 1 0 110 2h-1v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6H3a1 1 0 110-2h4z"],[1,"text-2xl","sm:text-3xl","lg:text-4xl","font-bold","text-red-500","mb-1","sm:mb-2"],[1,"text-xs","sm:text-sm","lg:text-base","text-gray-400","font-medium"],[1,"bg-gradient-to-br","from-gray-800/80","to-gray-900/80","backdrop-blur-sm","rounded-xl","sm:rounded-2xl","p-4","sm:p-6","lg:p-8","border","border-gray-700/30","hover:border-blue-500/30","transition-all","duration-300","hover:shadow-xl","hover:shadow-blue-500/10","text-center","group"],["aria-hidden","true",1,"w-10","h-10","sm:w-12","sm:h-12","lg:w-16","lg:h-16","mx-auto","mb-3","sm:mb-4","bg-blue-500/20","rounded-xl","sm:rounded-2xl","flex","items-center","justify-center","group-hover:bg-blue-500/30","transition-colors","duration-300"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","sm:w-6","sm:h-6","lg:w-8","lg:h-8","text-blue-500"],[1,"text-2xl","sm:text-3xl","lg:text-4xl","font-bold","text-blue-500","mb-1","sm:mb-2"],[1,"bg-gradient-to-br","from-gray-800/80","to-gray-900/80","backdrop-blur-sm","rounded-xl","sm:rounded-2xl","p-4","sm:p-6","lg:p-8","border","border-gray-700/30","hover:border-green-500/30","transition-all","duration-300","hover:shadow-xl","hover:shadow-green-500/10","text-center","group"],["aria-hidden","true",1,"w-10","h-10","sm:w-12","sm:h-12","lg:w-16","lg:h-16","mx-auto","mb-3","sm:mb-4","bg-green-500/20","rounded-xl","sm:rounded-2xl","flex","items-center","justify-center","group-hover:bg-green-500/30","transition-colors","duration-300"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","sm:w-6","sm:h-6","lg:w-8","lg:h-8","text-green-500"],[1,"text-2xl","sm:text-3xl","lg:text-4xl","font-bold","text-green-500","mb-1","sm:mb-2"],[1,"bg-gradient-to-br","from-gray-800/80","to-gray-900/80","backdrop-blur-sm","rounded-xl","sm:rounded-2xl","p-4","sm:p-6","lg:p-8","border","border-gray-700/30","hover:border-purple-500/30","transition-all","duration-300","hover:shadow-xl","hover:shadow-purple-500/10","text-center","group"],["aria-hidden","true",1,"w-10","h-10","sm:w-12","sm:h-12","lg:w-16","lg:h-16","mx-auto","mb-3","sm:mb-4","bg-purple-500/20","rounded-xl","sm:rounded-2xl","flex","items-center","justify-center","group-hover:bg-purple-500/30","transition-colors","duration-300"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","sm:w-6","sm:h-6","lg:w-8","lg:h-8","text-purple-500"],[1,"text-xl","sm:text-2xl","lg:text-3xl","font-bold","text-purple-500","mb-1","sm:mb-2"],["role","status","aria-live","polite",1,"min-h-screen","flex","items-center","justify-center","px-4","py-8"],[1,"max-w-lg","w-full","text-center"],["aria-hidden","true",1,"w-16","h-16","sm:w-24","sm:h-24","mx-auto","mb-4","sm:mb-6","bg-gray-800/50","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","sm:w-12","sm:h-12","text-gray-500"],[1,"text-xl","sm:text-2xl","font-bold","text-white","mb-3","sm:mb-4"],[1,"text-gray-400","mb-6","sm:mb-8","text-base","sm:text-lg"],["aria-label","Cargar programaci\xF3n de televisi\xF3n",1,"inline-flex","items-center","px-6","sm:px-8","py-3","bg-gradient-to-r","from-red-600","to-red-700","hover:from-red-700","hover:to-red-800","active:from-red-800","active:to-red-900","text-white","font-semibold","rounded-xl","transition-all","duration-200","hover:scale-105","active:scale-95","focus:outline-none","focus:ring-4","focus:ring-red-500/50","shadow-lg","touch-manipulation",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"w-5","h-5","mr-2"]],template:function(t,r){t&1&&(i(0,"div",0),u(1,"meta",1)(2,"meta",2)(3,"meta",3)(4,"app-nav-bar"),f(5,Jt,10,0,"div",4)(6,Kt,15,1,"div",5)(7,rn,172,3,"main",6)(8,on,14,0,"div",7),o()),t&2&&(J("data-state",r.uiState().isLoading?"loading":r.uiState().hasError?"error":"loaded"),d(5),p("ngIf",r.uiState().isLoading),d(),p("ngIf",r.uiState().showError),d(),p("ngIf",r.uiState().showContent),d(),p("ngIf",r.uiState().showEmpty))},dependencies:[te,ee,He,Ye,ie],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--tv-red-primary: #ef4444;--tv-red-hover: #dc2626;--tv-red-active: #b91c1c;--tv-gradient-primary: linear-gradient(135deg, #ef4444, #dc2626, #b91c1c);--tv-gradient-dark: linear-gradient(135deg, #1f2937, #111827, #000000);--tv-shadow-sm: 0 2px 8px rgba(0, 0, 0, .1);--tv-shadow-md: 0 4px 16px rgba(0, 0, 0, .2);--tv-shadow-lg: 0 8px 32px rgba(0, 0, 0, .3);--tv-shadow-glow: 0 0 20px rgba(239, 68, 68, .3);--spacing-xs: .5rem;--spacing-sm: .75rem;--spacing-md: 1rem;--spacing-lg: 1.5rem;--spacing-xl: 2rem;--transition-fast: .15s cubic-bezier(.4, 0, .2, 1);--transition-normal: .2s cubic-bezier(.4, 0, .2, 1);--transition-slow: .3s cubic-bezier(.4, 0, .2, 1)}html[_ngcontent-%COMP%]{scroll-behavior:smooth;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility}body[_ngcontent-%COMP%]{overscroll-behavior-y:none;-webkit-tap-highlight-color:transparent;touch-action:manipulation}.touch-target[_ngcontent-%COMP%]{min-height:44px;min-width:44px;touch-action:manipulation;-webkit-user-select:none;user-select:none}.gpu-accelerated[_ngcontent-%COMP%]{transform:translateZ(0);will-change:transform;backface-visibility:hidden}.text-truncate-mobile[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%}@supports not (-webkit-line-clamp: 2){.line-clamp-2[_ngcontent-%COMP%]{display:block;max-height:3em;overflow:hidden}}@keyframes _ngcontent-%COMP%_shimmer-optimized{0%{background-position:-200% center}to{background-position:200% center}}.loading-shimmer[_ngcontent-%COMP%]{background:linear-gradient(90deg,#4b556333,#6b728066,#4b556333);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer-optimized 2s ease-in-out infinite;will-change:background-position}.spinner-mobile[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid rgba(255,255,255,.1);border-top-color:var(--tv-red-primary);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;will-change:transform}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.glass-card-mobile[_ngcontent-%COMP%]{background:#1f2937b3;border:1px solid rgba(255,255,255,.1);box-shadow:var(--tv-shadow-md)}@supports (backdrop-filter: blur(16px)){.glass-card-mobile[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(16px) saturate(180%);backdrop-filter:blur(16px) saturate(180%)}}@supports not (backdrop-filter: blur(16px)){.glass-card-mobile[_ngcontent-%COMP%]{background:#1f2937f2}}.btn-primary-mobile[_ngcontent-%COMP%], .btn-secondary-mobile[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;min-height:44px;padding:12px 24px;font-weight:600;font-size:.875rem;border-radius:12px;background:linear-gradient(135deg,var(--tv-red-primary),var(--tv-red-hover));color:#fff;transition:all var(--transition-fast);touch-action:manipulation;-webkit-user-select:none;user-select:none}.btn-primary-mobile[_ngcontent-%COMP%]:active, .btn-secondary-mobile[_ngcontent-%COMP%]:active{transform:scale(.95);background:var(--tv-red-active)}.btn-primary-mobile[_ngcontent-%COMP%]:disabled, .btn-secondary-mobile[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}@media (min-width: 640px){.btn-primary-mobile[_ngcontent-%COMP%], .btn-secondary-mobile[_ngcontent-%COMP%]{min-height:48px;padding:14px 28px;font-size:1rem}}.btn-secondary-mobile[_ngcontent-%COMP%]{background:#4b55634d;border:1px solid rgba(156,163,175,.3)}.btn-secondary-mobile[_ngcontent-%COMP%]:hover{background:#4b556366;border-color:#9ca3af80}.fab-mobile[_ngcontent-%COMP%]{position:fixed;bottom:1.5rem;right:1.5rem;width:56px;height:56px;border-radius:50%;background:var(--tv-gradient-primary);box-shadow:0 8px 24px #ef44444d;display:flex;align-items:center;justify-content:center;transition:all var(--transition-normal);touch-action:manipulation;z-index:40}.fab-mobile[_ngcontent-%COMP%]:active{transform:scale(.9)}@media (min-width: 640px){.fab-mobile[_ngcontent-%COMP%]{width:64px;height:64px}}.card-mobile[_ngcontent-%COMP%]{background:#1f293799;border:1px solid rgba(75,85,99,.3);border-radius:16px;padding:var(--spacing-lg);transition:all var(--transition-normal)}@supports (backdrop-filter: blur(12px)){.card-mobile[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px)}}.card-mobile[_ngcontent-%COMP%]:active{transform:translateY(2px)}@media (min-width: 640px){.card-mobile[_ngcontent-%COMP%]{padding:var(--spacing-xl);border-radius:20px}}details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{cursor:pointer;list-style:none;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;padding:1rem 1.25rem}details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]::-webkit-details-marker{display:none}details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]::marker{display:none}@media (min-width: 640px){details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}}details[open][_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .2s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}.grid-mobile-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--spacing-md)}@media (min-width: 640px){.grid-mobile-2[_ngcontent-%COMP%]{gap:var(--spacing-lg)}}@media (min-width: 768px){.grid-mobile-2[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (min-width: 1024px){.grid-mobile-2[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}.heading-responsive-h1[_ngcontent-%COMP%]{font-size:1.875rem;line-height:1.2}@media (min-width: 640px){.heading-responsive-h1[_ngcontent-%COMP%]{font-size:2.25rem}}@media (min-width: 1024px){.heading-responsive-h1[_ngcontent-%COMP%]{font-size:3rem}}.heading-responsive-h2[_ngcontent-%COMP%]{font-size:1.5rem;line-height:1.3}@media (min-width: 640px){.heading-responsive-h2[_ngcontent-%COMP%]{font-size:1.875rem}}@media (min-width: 1024px){.heading-responsive-h2[_ngcontent-%COMP%]{font-size:2.25rem}}.heading-responsive-h3[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.4}@media (min-width: 640px){.heading-responsive-h3[_ngcontent-%COMP%]{font-size:1.5rem}}@media (min-width: 1024px){.heading-responsive-h3[_ngcontent-%COMP%]{font-size:1.875rem}}.text-responsive[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.5}@media (min-width: 640px){.text-responsive[_ngcontent-%COMP%]{font-size:1rem}}@media (min-width: 1024px){.text-responsive[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.6}}*[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--tv-red-primary);outline-offset:2px;border-radius:4px}*[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none}@media (prefers-contrast: high){.glass-card-mobile[_ngcontent-%COMP%], .card-mobile[_ngcontent-%COMP%]{background:#000000f2;border:2px solid #ffffff}.btn-primary-mobile[_ngcontent-%COMP%], .btn-secondary-mobile[_ngcontent-%COMP%]{border:2px solid currentColor}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}}@media (prefers-color-scheme: dark){[_ngcontent-%COMP%]:root{color-scheme:dark}}.lazy-placeholder[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4b556333,#6b72804d);animation:_ngcontent-%COMP%_pulse 2s cubic-bezier(.4,0,.6,1) infinite;will-change:opacity}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.will-animate[_ngcontent-%COMP%]{will-change:transform,opacity}.animated-done[_ngcontent-%COMP%]{will-change:auto}@media (max-width: 640px){a[_ngcontent-%COMP%], button[_ngcontent-%COMP%], [role=button][_ngcontent-%COMP%]{min-height:44px;display:inline-flex;align-items:center;justify-content:center}.interactive-list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:.75rem}.sticky-mobile[_ngcontent-%COMP%]{position:sticky;top:0;z-index:30;background:#111827f2;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px)}}@media (min-width: 641px) and (max-width: 1023px) and (orientation: landscape){section[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:2rem}.grid-mobile-2[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@supports (padding: env(safe-area-inset-bottom)){.safe-bottom[_ngcontent-%COMP%]{padding-bottom:calc(1.5rem + env(safe-area-inset-bottom))}.fab-mobile[_ngcontent-%COMP%]{bottom:calc(1.5rem + env(safe-area-inset-bottom))}}@media print{.fab-mobile[_ngcontent-%COMP%], .btn-primary-mobile[_ngcontent-%COMP%], .btn-secondary-mobile[_ngcontent-%COMP%], nav[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{display:none!important}body[_ngcontent-%COMP%]{background:#fff!important;color:#000!important}.card-mobile[_ngcontent-%COMP%], .glass-card-mobile[_ngcontent-%COMP%]{background:#fff!important;border:1px solid #000!important;box-shadow:none!important;page-break-inside:avoid}a[_ngcontent-%COMP%]{text-decoration:underline;color:#000!important}a[href^=http][_ngcontent-%COMP%]:after{content:" (" attr(href) ")";font-size:.8em}}.skeleton[_ngcontent-%COMP%]{background:linear-gradient(90deg,#4b556333 25%,#6b72804d,#4b556333 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-loading 1.5s ease-in-out infinite;border-radius:8px}.skeleton-text[_ngcontent-%COMP%]{height:1em;margin-bottom:.5em}.skeleton-text[_ngcontent-%COMP%]:last-child{margin-bottom:0;width:80%}.skeleton-heading[_ngcontent-%COMP%]{height:2em;margin-bottom:1em}.skeleton-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%}.skeleton-card[_ngcontent-%COMP%]{height:200px;width:100%}@keyframes _ngcontent-%COMP%_skeleton-loading{0%{background-position:200% 0}to{background-position:-200% 0}}.gradient-text-mobile[_ngcontent-%COMP%]{background:var(--tv-gradient-primary);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;color:transparent}@supports not (-webkit-background-clip: text){.gradient-text-mobile[_ngcontent-%COMP%]{color:var(--tv-red-primary)}}.scroll-snap-container[_ngcontent-%COMP%]{scroll-snap-type:y mandatory;overflow-y:scroll;-webkit-overflow-scrolling:touch}.scroll-snap-container[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]{scroll-snap-align:start;scroll-snap-stop:always}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1f29374d}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ef444480;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ef4444b3}*[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:rgba(239,68,68,.5) rgba(31,41,55,.3)}.img-responsive[_ngcontent-%COMP%]{max-width:100%;height:auto;display:block}.img-responsive-cover[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.img-responsive-contain[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.mobile-menu[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:50;background:#000c;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);opacity:0;pointer-events:none;transition:opacity var(--transition-normal)}.mobile-menu.open[_ngcontent-%COMP%]{opacity:1;pointer-events:all}.mobile-menu-content[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;width:80%;max-width:320px;background:#111827fa;transform:translate(100%);transition:transform var(--transition-slow);overflow-y:auto;-webkit-overflow-scrolling:touch}.mobile-menu.open[_ngcontent-%COMP%]   .mobile-menu-content[_ngcontent-%COMP%]{transform:translate(0)}.toast-mobile[_ngcontent-%COMP%]{position:fixed;bottom:1rem;left:1rem;right:1rem;padding:1rem;background:#1f2937f2;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border:1px solid rgba(156,163,175,.3);border-radius:12px;box-shadow:var(--tv-shadow-lg);z-index:100;animation:_ngcontent-%COMP%_slideUp .3s ease-out}@media (min-width: 640px){.toast-mobile[_ngcontent-%COMP%]{left:auto;right:1rem;max-width:400px}}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}.bottom-nav-mobile[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;background:#111827f2;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-top:1px solid rgba(75,85,99,.3);padding:.75rem;padding-bottom:calc(.75rem + env(safe-area-inset-bottom,0));z-index:40;display:grid;grid-template-columns:repeat(auto-fit,minmax(60px,1fr));gap:.5rem}@media (min-width: 1024px){.bottom-nav-mobile[_ngcontent-%COMP%]{display:none}}.bottom-nav-mobile-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.25rem;min-height:48px;color:#9ca3af;transition:color var(--transition-fast);cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.bottom-nav-mobile-item.active[_ngcontent-%COMP%]{color:var(--tv-red-primary)}.bottom-nav-mobile-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.bottom-nav-mobile-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500}.p-responsive[_ngcontent-%COMP%]{padding:var(--spacing-md)}@media (min-width: 640px){.p-responsive[_ngcontent-%COMP%]{padding:var(--spacing-lg)}}@media (min-width: 1024px){.p-responsive[_ngcontent-%COMP%]{padding:var(--spacing-xl)}}.px-responsive[_ngcontent-%COMP%]{padding-left:var(--spacing-md);padding-right:var(--spacing-md)}@media (min-width: 640px){.px-responsive[_ngcontent-%COMP%]{padding-left:var(--spacing-lg);padding-right:var(--spacing-lg)}}@media (min-width: 1024px){.px-responsive[_ngcontent-%COMP%]{padding-left:var(--spacing-xl);padding-right:var(--spacing-xl)}}.py-responsive[_ngcontent-%COMP%]{padding-top:var(--spacing-lg);padding-bottom:var(--spacing-lg)}@media (min-width: 640px){.py-responsive[_ngcontent-%COMP%]{padding-top:var(--spacing-xl);padding-bottom:var(--spacing-xl)}}@media (min-width: 1024px){.py-responsive[_ngcontent-%COMP%]{padding-top:calc(var(--spacing-xl) * 2);padding-bottom:calc(var(--spacing-xl) * 2)}}@supports (-webkit-appearance: none){.smooth-scroll[_ngcontent-%COMP%]{scroll-behavior:smooth;-webkit-overflow-scrolling:touch}}@supports (-webkit-touch-callout: none){input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font-size:16px!important}.fab-mobile[_ngcontent-%COMP%]{bottom:calc(1.5rem + env(safe-area-inset-bottom,0))}}.main-container-mobile[_ngcontent-%COMP%]{min-height:100vh;min-height:-webkit-fill-available;display:flex;flex-direction:column}.no-select[_ngcontent-%COMP%]{user-select:none;-webkit-user-select:none;-moz-user-select:none}.virtualized-list[_ngcontent-%COMP%]{contain:layout style paint;content-visibility:auto}'],changeDetection:0});let a=c;return a})();export{yi as HomeComponent};
