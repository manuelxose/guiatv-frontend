import './polyfills.server.mjs';
import{a as N}from"./chunk-LAYU4XIV.mjs";import{a as A}from"./chunk-CUOTRMJW.mjs";import{a as z}from"./chunk-WRH6SRR4.mjs";import"./chunk-Z4AFW3XT.mjs";import{M as R,X as G,g as B,h as D,k as O,m as L,o as $}from"./chunk-MTFKIQB4.mjs";import{Ea as I,Fb as d,Gb as e,Hb as n,Ib as p,Jb as S,Kb as P,L as C,Lb as b,Pb as m,Qb as u,V as E,Wa as _,_a as s,cc as c,db as f,ec as w,f as T,ha as x,ia as h,ja as v,jc as j,ka as y,kb as F,nc as V,pb as g,pc as M}from"./chunk-GKUCNG4B.mjs";import"./chunk-S6KH3LOX.mjs";var U=()=>[1,2,3,4,5,6];function q(i,o){if(i&1&&(S(0),e(1,"div",38),p(2,"img",39)(3,"div",40),n(),P()),i&2){let t=o.$implicit;s(2),d("src",t.featured_image==null?null:t.featured_image.source_url,_)("alt",(t.title==null?null:t.title.rendered)||"Imagen destacada")}}function H(i,o){if(i&1&&(S(0),e(1,"div",38),p(2,"img",39)(3,"div",40),n(),P()),i&2){let t=o.$implicit;s(2),d("src",t.featured_image==null?null:t.featured_image.source_url,_)("alt",(t.title==null?null:t.title.rendered)||"Imagen destacada")}}function W(i,o){if(i&1){let t=b();e(0,"app-post-card",41),m("click",function(){let l=x(t).$implicit,r=u();return h(r.navigateToPost(l))}),n()}if(i&2){let t=o.$implicit;d("post",t)}}function J(i,o){i&1&&(e(0,"div",44)(1,"div",45),p(2,"div",46),e(3,"div",47),p(4,"div",48)(5,"div",49)(6,"div",50),n()()())}function K(i,o){i&1&&(e(0,"div",42),g(1,J,7,0,"div",43),n()),i&2&&(s(),d("ngForOf",j(1,U)))}function Q(i,o){if(i&1&&(e(0,"div",61)(1,"span",62),c(2),n()()),i&2){let t=u().$implicit;s(2),w(" ",t.categories_name[0].name," ")}}function X(i,o){if(i&1){let t=b();e(0,"article",52),m("click",function(){let l=x(t).$implicit,r=u(2);return h(r.navigateToPost(l))}),e(1,"div",53),p(2,"img",54),n(),e(3,"div",55)(4,"div"),g(5,Q,3,1,"div",56),e(6,"h3",57),c(7),n()(),e(8,"div",58)(9,"time",59),c(10),V(11,"date"),n(),e(12,"span",60),c(13," Ver ranking \u2192 "),n()()()()}if(i&2){let t=o.$implicit;s(2),d("src",(t.featured_image==null?null:t.featured_image.source_url)||"/assets/images/placeholder.jpg",_)("alt",t.title==null?null:t.title.rendered),s(3),d("ngIf",t.categories_name==null?null:t.categories_name.length),s(2),w(" ",t.title==null?null:t.title.rendered," "),s(2),d("dateTime",t.date),s(),w(" ",M(11,6,t.date,"dd MMM yyyy")," ")}}function Y(i,o){if(i&1&&(e(0,"div",42),g(1,X,14,9,"article",51),n()),i&2){let t=u();s(),d("ngForOf",t.displayedPosts)("ngForTrackBy",t.trackByPostId)}}function Z(i,o){if(i&1){let t=b();e(0,"div",63)(1,"button",64),m("click",function(){x(t);let l=u();return h(l.loadMore())}),c(2," Cargar M\xE1s Rankings "),n()()}}var ge=(()=>{let o=class o{constructor(a,l,r,k){this.blogSvc=a,this.metaSvc=l,this.router=r,this.destroy$=new T,this.posts=[],this.featuredPosts=[],this.displayedPosts=[],this.carouselIndex=0,this.postsPerView=3,this.currentPage=1,this.postsPerPage=10,this.isLoading=!0,this.isBrowser=$(k)}ngOnInit(){this.setMetaTags(),this.calculatePostsPerView(),this.loadData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setMetaTags(){this.metaSvc.setMetaTags({title:"Top 10 - Los Mejores Rankings de Cine, Series y Anime",description:"Descubre los mejores rankings y listas de cine, series y anime. Obras maestras, joyas ocultas y sorpresas de cada temporada.",image:"/assets/images/top10-og-image.jpg",canonicalUrl:"/blog/top10",type:"website"})}calculatePostsPerView(){if(!this.isBrowser){this.postsPerView=3;return}let a=window.innerWidth;a<640?this.postsPerView=1:a<1024?this.postsPerView=2:this.postsPerView=3}loadData(){this.blogSvc.getAllPosts().pipe(C(),E(this.destroy$)).subscribe({next:a=>{this.posts=this.blogSvc.sortPostsByDate(a),this.featuredPosts=this.posts.slice(0,6),this.updateDisplayedPosts(),this.isLoading=!1},error:a=>{console.error("Error loading posts:",a),this.isLoading=!1}}),this.blogSvc.setProgramsFromApi()}updateDisplayedPosts(){let l=this.currentPage*this.postsPerPage;this.displayedPosts=this.posts.slice(0,l)}nextSlide(){this.carouselIndex<this.posts.length-this.postsPerView&&this.carouselIndex++}prevSlide(){this.carouselIndex>0&&this.carouselIndex--}get visiblePosts(){return this.posts.slice(this.carouselIndex,this.carouselIndex+this.postsPerView)}get canGoPrev(){return this.carouselIndex>0}get canGoNext(){return this.carouselIndex<this.posts.length-this.postsPerView}loadMore(){this.currentPage++,this.updateDisplayedPosts()}get hasMorePosts(){return this.currentPage*this.postsPerPage<this.posts.length}navigateToPost(a){let l=G(a.slug||a.title?.rendered||"");this.router.navigate(["/blog",l])}trackByPostId(a,l){return l.id||a}};o.\u0275fac=function(l){return new(l||o)(f(z),f(A),f(R),f(I))},o.\u0275cmp=F({type:o,selectors:[["app-top10"]],decls:53,vars:11,consts:[[1,"w-full","min-h-screen"],[1,"relative","py-12","lg:py-20","px-4","sm:px-6","lg:px-8","overflow-hidden","border-b","border-gray-700/50"],[1,"max-w-7xl","mx-auto"],[1,"grid","lg:grid-cols-2","gap-8","lg:gap-12","items-center"],[1,"space-y-6","order-2","lg:order-1"],[1,"text-3xl","sm:text-4xl","lg:text-5xl","font-bold","text-white","leading-tight"],[1,"text-lg","sm:text-xl","text-gray-300","leading-relaxed"],["href","#rankings","aria-label","Ver rankings",1,"inline-flex","items-center","px-6","py-3","bg-red-600","hover:bg-red-700","text-white","font-semibold","rounded-full","transition-all","duration-300","transform","hover:scale-105","focus:outline-none","focus:ring-2","focus:ring-red-500"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"ml-2","w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["aria-hidden","true",1,"order-1","lg:order-2","h-64","lg:h-96","relative"],[1,"absolute","inset-0","bg-gradient-to-r","from-gray-900","via-transparent","to-gray-900","z-10","pointer-events-none"],[1,"flex","h-full","gap-4","overflow-hidden"],[1,"flex-1","flex","flex-col","gap-4","animate-scroll-up"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex-1","flex","flex-col","gap-4","animate-scroll-down"],["id","rankings",1,"py-12","lg:py-16","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-2xl","lg:text-3xl","font-bold","text-white"],[1,"flex","gap-2"],["aria-label","Anterior",1,"p-3","bg-gray-700","hover:bg-gray-600","disabled:bg-gray-800","disabled:opacity-50","disabled:cursor-not-allowed","text-white","rounded-full","transition-all","duration-300","focus:outline-none","focus:ring-2","focus:ring-red-500",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],["aria-label","Siguiente",1,"p-3","bg-gray-700","hover:bg-gray-600","disabled:bg-gray-800","disabled:opacity-50","disabled:cursor-not-allowed","text-white","rounded-full","transition-all","duration-300","focus:outline-none","focus:ring-2","focus:ring-red-500",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"relative","overflow-hidden"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-6","lg:gap-8","transition-transform","duration-500"],[3,"post","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"py-12","lg:py-16","px-4","sm:px-6","lg:px-8","bg-gray-800/30"],[1,"mb-8"],[1,"text-2xl","lg:text-3xl","font-bold","text-white","mb-2"],[1,"text-gray-400"],["class","grid grid-cols-1 sm:grid-cols-2 gap-6 lg:gap-8",4,"ngIf"],["class","flex justify-center mt-12",4,"ngIf"],[1,"py-12","lg:py-16","px-4","sm:px-6","lg:px-8","bg-gradient-to-r","from-red-900/20","to-gray-900"],[1,"max-w-4xl","mx-auto","text-center","space-y-6"],[1,"text-lg","text-gray-300","max-w-2xl","mx-auto"],[1,"px-8","py-3","bg-red-600","hover:bg-red-700","text-white","font-semibold","rounded-full","transition-all","duration-300","focus:outline-none","focus:ring-2","focus:ring-red-500"],[1,"relative","rounded-lg","overflow-hidden","flex-shrink-0","h-64","lg:h-80"],["loading","lazy",1,"w-full","h-full","object-cover",3,"src","alt"],[1,"absolute","inset-0","bg-gradient-to-t","from-black/70","to-transparent"],[3,"click","post"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-6","lg:gap-8"],["class","animate-pulse",4,"ngFor","ngForOf"],[1,"animate-pulse"],[1,"flex","gap-4"],[1,"bg-gray-700","rounded-lg","w-32","h-32","flex-shrink-0"],[1,"flex-1","space-y-3"],[1,"bg-gray-700","h-4","rounded"],[1,"bg-gray-700","h-4","rounded","w-5/6"],[1,"bg-gray-700","h-4","rounded","w-2/3"],["class","group flex gap-4 bg-gray-800 rounded-lg p-4 hover:bg-gray-700 transition-all duration-300 cursor-pointer",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"group","flex","gap-4","bg-gray-800","rounded-lg","p-4","hover:bg-gray-700","transition-all","duration-300","cursor-pointer",3,"click"],[1,"relative","w-32","h-32","flex-shrink-0","rounded-lg","overflow-hidden"],["loading","lazy",1,"w-full","h-full","object-cover","group-hover:scale-110","transition-transform","duration-300",3,"src","alt"],[1,"flex-1","flex","flex-col","justify-between"],["class","flex gap-2 mb-2",4,"ngIf"],[1,"text-lg","font-semibold","text-white","line-clamp-2","group-hover:text-red-400","transition-colors"],[1,"flex","items-center","justify-between","pt-2"],[1,"text-xs","text-gray-500",3,"dateTime"],[1,"text-xs","text-red-400","font-medium","group-hover:translate-x-1","transition-transform"],[1,"flex","gap-2","mb-2"],[1,"text-xs","px-2","py-1","bg-red-400/10","text-red-400","rounded-full"],[1,"flex","justify-center","mt-12"],[1,"px-8","py-3","bg-red-600","hover:bg-red-700","text-white","font-semibold","rounded-full","transition-all","duration-300","transform","hover:scale-105","focus:outline-none","focus:ring-2","focus:ring-red-500",3,"click"]],template:function(l,r){l&1&&(e(0,"main",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"article",4)(5,"h1",5),c(6," Top 10: Rankings que Descubren lo Mejor del Entretenimiento "),n(),e(7,"p",6),c(8," \xBFTe gustan las listas? Descubre rankings de cine, series y anime basados en criterios objetivos y subjetivos. Obras maestras, joyas ocultas y sorpresas de cada temporada. "),n(),e(9,"a",7),c(10," Ver Rankings "),v(),e(11,"svg",8),p(12,"path",9),n()()(),y(),e(13,"div",10),p(14,"div",11),e(15,"div",12)(16,"div",13),g(17,q,4,2,"ng-container",14),n(),e(18,"div",15),g(19,H,4,2,"ng-container",14),n()()()()()(),e(20,"section",16)(21,"div",2)(22,"header",17)(23,"h2",18),c(24," Rankings Destacados "),n(),e(25,"div",19)(26,"button",20),m("click",function(){return r.prevSlide()}),v(),e(27,"svg",21),p(28,"path",22),n()(),y(),e(29,"button",23),m("click",function(){return r.nextSlide()}),v(),e(30,"svg",21),p(31,"path",24),n()()()(),y(),e(32,"div",25)(33,"div",26),g(34,W,1,1,"app-post-card",27),n()()()(),e(35,"section",28)(36,"div",2)(37,"header",29)(38,"h2",30),c(39," Todos los Rankings "),n(),e(40,"p",31),c(41," Explora nuestra colecci\xF3n completa de listas y rankings "),n()(),g(42,K,2,2,"div",32)(43,Y,2,2,"div",32)(44,Z,3,0,"div",33),n()(),e(45,"section",34)(46,"div",35)(47,"h2",18),c(48," \xBFTienes una Sugerencia de Ranking? "),n(),e(49,"p",36),c(50," Nos encantar\xEDa saber qu\xE9 rankings te gustar\xEDa ver. Comparte tus ideas y ay\xFAdanos a crear el contenido que realmente te interesa. "),n(),e(51,"button",37),c(52," Sugerir un Ranking "),n()()()()),l&2&&(s(17),d("ngForOf",r.featuredPosts.slice(0,3))("ngForTrackBy",r.trackByPostId),s(2),d("ngForOf",r.featuredPosts.slice(3,6))("ngForTrackBy",r.trackByPostId),s(7),d("disabled",!r.canGoPrev),s(3),d("disabled",!r.canGoNext),s(5),d("ngForOf",r.visiblePosts)("ngForTrackBy",r.trackByPostId),s(8),d("ngIf",r.isLoading),s(),d("ngIf",!r.isLoading),s(),d("ngIf",r.hasMorePosts&&!r.isLoading))},dependencies:[L,B,D,O,N],encapsulation:2});let i=o;return i})();export{ge as Top10Component};
